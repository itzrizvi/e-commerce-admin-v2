(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[73],{955:function(t,e,a){"use strict";a.r(e);a(200);var r=a(97),n=(a(201),a(74)),u=(a(150),a(77)),i=(a(148),a(45)),l=(a(166),a(98)),o=(a(288),a(69)),s=a(9),c=(a(314),a(218)),d=a(23),m=a(92),b=a(0),p=a.n(b),_=a(21),v=a.n(_),g=a(192),f=a(217),E=a(165),A=a(164),h=a(287),j=a(12),O=a(126),y=a.n(O),T=a(71),C=a(68),x=a.n(C),N=a(22),k=a(76);e.default=function(){Object(N.f)("attribute");var t=Object(m.a)(Array(6).keys()).map((function(t){return{a_n:"Attribute ".concat(t+1),a_g:"Group 2",g_s:t+1}})),e=Object(b.useState)({data:t,isLoading:!0}),a=Object(d.a)(e,2),_=a[0],O=a[1],C=Object(b.useState)([]),I=Object(d.a)(C,2),S=I[0],w=I[1],L=Object(b.useState)(""),U=Object(d.a)(L,2),z=U[0],F=U[1],D=[{title:"Attribute Name",dataIndex:"attribute_name",key:"attribute_name",sorter:function(t,e){return t.attribute_name.toUpperCase()>e.attribute_name.toUpperCase()?1:-1}},{title:"Attribute Group",dataIndex:"attribute_group.attr_group_name",key:"attribute_group.attr_group_name",sorter:function(t,e){return t.attribute_group.attr_group_name.toUpperCase()>e.attribute_group.attr_group_name.toUpperCase()?1:-1},render:function(t,e){var a;return null===e||void 0===e||null===(a=e.attribute_group)||void 0===a?void 0:a.attr_group_name}},{title:"Status",dataIndex:"attribute_status",key:"attribute_status",align:"right",sorter:function(t,e){return t.attribute_status===e.attribute_status?0:t.attribute_status?-1:1},filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:function(t,e){return e.attribute_status===t},render:function(t,e){return p.a.createElement(c.a,{defaultChecked:t,title:"Status",onChange:function(t){return G(e,t)}})}},{title:"Action",dataIndex:"action",width:70,align:"right",render:function(t,e){return p.a.createElement(p.a.Fragment,null,p.a.createElement(j.b,{to:"/admin/attributes/add?id=".concat(e.id)},p.a.createElement(y.a,{name:"edit",style:{margin:".5em 1em"}})))},key:"last_name"}];Object(b.useEffect)((function(){T.j.query({query:T.c.GET_ALL_ATTRIBUTES,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(t){var e,a=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.getAllAttributes;if(!(null===a||void 0===a?void 0:a.status))return Object(k.a)();O((function(t){return Object(s.a)(Object(s.a)({},t),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).finally((function(){O((function(t){return Object(s.a)(Object(s.a)({},t),{},{isLoading:!1})}))}))}),[]);var G=function(t,e){var a={data:{attribute_id:t.id,attribute_status:e}};console.log(a),T.j.mutate({mutation:T.b.UPDATE_ATTRIBUTE,variables:a,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var a,r=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.updateAttribute;if(!(null===r||void 0===r?void 0:r.status))return Object(k.a)();o.b.success("".concat(t.attribute_name," attribute status updated."))}))};return p.a.createElement(p.a.Fragment,null,p.a.createElement(f.a,{title:"Attributes",buttons:[p.a.createElement("div",{key:"1",className:"page-header-actions"},p.a.createElement(j.b,{to:"/admin/attributes/add"},p.a.createElement(h.a,{size:"small",title:"Add Attribute",type:"primary"},p.a.createElement(v.a,{icon:"file-plus"}))))]}),p.a.createElement(E.b,null,p.a.createElement(r.a,{gutter:25},p.a.createElement(n.a,{sm:24,xs:24},p.a.createElement(A.a,{headless:!0},_.isLoading?p.a.createElement("div",{className:"spin"},p.a.createElement(l.a,null)):p.a.createElement(p.a.Fragment,null,p.a.createElement(i.a,{placeholder:"Search Attribute...",prefix:p.a.createElement(g.a,null),onChange:function(t){var e=t.target.value;F(e),w(_.data.filter((function(t){var a;return((null===t||void 0===t?void 0:t.attribute_name)+(null===t||void 0===t||null===(a=t.attribute_group)||void 0===a?void 0:a.attr_group_name)).toLowerCase().includes(e.toLowerCase())})))}}),p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement("span",{className:"psp_list"},p.a.createElement(u.a,{className:"table-responsive",columns:D,rowKey:"g_s",size:"small",dataSource:z?S:_.data,rowClassName:function(t,e){return e%2===0?"":"altTableClass"}}))))))))}}}]);