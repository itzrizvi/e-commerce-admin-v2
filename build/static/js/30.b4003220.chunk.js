(this.webpackJsonpstrikingDash=this.webpackJsonpstrikingDash||[]).push([[30],{511:function(e,t,a){"use strict";a(58),a(513)},512:function(e,t,a){"use strict";var r=a(1),n=a(3),o=a(136),c=a(5),s=a.n(c),u=a(7),i=a(14),l=a(0),d=a(51),m=a(50),p=l.forwardRef((function(e,t){var a,r=e.prefixCls,o=void 0===r?"rc-switch":r,c=e.className,p=e.checked,g=e.defaultChecked,f=e.disabled,h=e.loadingIcon,b=e.checkedChildren,_=e.unCheckedChildren,v=e.onClick,E=e.onChange,C=e.onKeyDown,O=Object(i.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),y=Object(d.a)(!1,{value:p,defaultValue:g}),j=Object(u.a)(y,2),w=j[0],k=j[1];function x(e,t){var a=w;return f||(k(a=e),null===E||void 0===E||E(a,t)),a}var N=s()(o,c,(a={},Object(n.a)(a,"".concat(o,"-checked"),w),Object(n.a)(a,"".concat(o,"-disabled"),f),a));return l.createElement("button",Object.assign({},O,{type:"button",role:"switch","aria-checked":w,disabled:f,className:N,ref:t,onKeyDown:function(e){e.which===m.a.LEFT?x(!1,e):e.which===m.a.RIGHT&&x(!0,e),null===C||void 0===C||C(e)},onClick:function(e){var t=x(!w,e);null===v||void 0===v||v(t,e)}}),h,l.createElement("span",{className:"".concat(o,"-inner")},w?b:_))}));p.displayName="Switch";var g=p,f=a(68),h=a(93),b=a(73),_=a(219),v=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},E=l.forwardRef((function(e,t){var a,c=e.prefixCls,u=e.size,i=e.disabled,d=e.loading,m=e.className,p=void 0===m?"":m,E=v(e,["prefixCls","size","disabled","loading","className"]),C=l.useContext(f.b),O=C.getPrefixCls,y=C.direction,j=l.useContext(b.b),w=l.useContext(h.b),k=i||w||d,x=O("switch",c),N=l.createElement("div",{className:"".concat(x,"-handle")},d&&l.createElement(o.a,{className:"".concat(x,"-loading-icon")})),S=s()((a={},Object(n.a)(a,"".concat(x,"-small"),"small"===(u||j)),Object(n.a)(a,"".concat(x,"-loading"),d),Object(n.a)(a,"".concat(x,"-rtl"),"rtl"===y),a),p);return l.createElement(_.a,{insertExtraNode:!0},l.createElement(g,Object(r.a)({},E,{prefixCls:x,className:S,disabled:k,ref:t,loadingIcon:N})))}));E.__ANT_SWITCH=!0;t.a=E},513:function(e,t,a){},691:function(e,t,a){"use strict";a.r(t);a(155);var r=a(79),n=(a(156),a(37)),o=(a(525),a(524)),c=(a(292),a(216)),s=(a(218),a(157)),u=a(9),i=(a(511),a(512)),l=a(48),d=a(0),m=a.n(d),p=a(16),g=a.n(p),f=a(510),h=a(509),b=a(508),_=a(506),v=a(8),E=a(106),C=a.n(E),O=a(238),y=a(120),j=a(137),w=a(53),k=a.n(w),x=a(217);t.default=function(){var e=Object(d.useState)({data:[],isLoading:!0}),t=Object(l.a)(e,2),a=t[0],p=t[1],E=Object(d.useState)([]),w=Object(l.a)(E,2),N=w[0],S=w[1],T=Object(d.useState)(""),I=Object(l.a)(T,2),G=I[0],A=I[1],P=[{title:"Group Name",dataIndex:"customer_group_name",key:"customer_group_name",sorter:function(e,t){return e.customer_group_name.toUpperCase()>t.customer_group_name.toUpperCase()?1:-1}},{title:"Group Description",dataIndex:"customergroup_description",key:"customergroup_description",ellipsis:!0,sorter:function(e,t){return e.customergroup_description.toUpperCase()>t.customergroup_description.toUpperCase()?1:-1}},{title:"Sort Order",dataIndex:"customergroup_sortorder",key:"customergroup_sortorder",width:100,align:"center",sorter:function(e,t){return e.customergroup_sortorder===t.customergroup_sortorder?0:e.customergroup_sortorder?-1:1}},{title:"Status",dataIndex:"customergroup_status",key:"customergroup_status",align:"center",width:100,sorter:function(e,t){return e.customergroup_status===t.customergroup_status?0:e.customergroup_status?-1:1},filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:function(e,t){return t.customergroup_status===e},render:function(e,t){return m.a.createElement(i.a,{defaultChecked:e,title:"Status",onChange:function(e){return function(e,t){var a={data:{customer_group_uuid:e.customer_group_uuid,customergroup_status:t}};console.log(a),j.h.mutate({mutation:j.f.UPDATE_CUSTOMER_GROUP,variables:a,context:{headers:{TENANTID:"100001",Authorization:k.a.get("psp_t")}}}).then((function(t){var a,r=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.updateCustomerGroup;if(!r.status)return x.b.error(r.message);x.b.success("".concat(e.customer_group_name," Group Status Updated successfully"))})).catch((function(e){return console.log("got error on updateStatus",e),x.b.error("Something Went wrong !!")}))}(t,e)}})}},{title:"Action",dataIndex:"action",width:70,align:"right",render:function(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.b,{to:"/admin/customers/add-group?id=".concat(t.customer_group_uuid,"&name=").concat(t.customer_group_name)},m.a.createElement(C.a,{name:"edit",style:{margin:".5em 1em"}})))},key:"last_name"}];Object(d.useEffect)((function(){j.h.query({query:j.g.GET_ALL_CUSTOMER_GROUPS,context:{headers:{TENANTID:"100001",Authorization:k.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllCustomerGroups;(null===a||void 0===a?void 0:a.status)&&p((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){p((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){p((function(e){return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1})}))}))}),[]);return m.a.createElement(m.a.Fragment,null,m.a.createElement(f.a,{title:"Customers Group",buttons:[m.a.createElement("div",{key:"1",className:"page-header-actions"},m.a.createElement(v.b,{to:"/admin/customers/add-group"},m.a.createElement(_.a,{size:"small",title:"Add Customer Groups",type:"primary"},m.a.createElement(g.a,{icon:"user-plus"}))))]}),m.a.createElement(h.b,null,m.a.createElement(r.a,{gutter:25},m.a.createElement(n.a,{sm:24,xs:24},m.a.createElement(b.a,{headless:!0},a.isLoading?m.a.createElement("div",{className:"spin"},m.a.createElement(s.a,null)):m.a.createElement(m.a.Fragment,null,m.a.createElement(c.a,{placeholder:"Search Permission...",prefix:m.a.createElement(O.a,null),onChange:function(e){var t=e.target.value;A(t),S(a.data.filter((function(e){return((null===e||void 0===e?void 0:e.customer_group_name)+(null===e||void 0===e?void 0:e.customergroup_description)+e.customergroup_sortorder).toLowerCase().includes(t.toLowerCase())})))}}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("span",{className:"psp_list"},m.a.createElement(o.a,{className:"table-responsive",columns:P,rowKey:"g_s",size:"small",dataSource:G?N:a.data,rowClassName:function(e,t){return t%2==0?"":"altTableClass"},pagination:{defaultPageSize:y.a.CUSTOMER_GROUPS_PER_PAGE,total:G?N.length:a.data.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}}))))))))}}}]);