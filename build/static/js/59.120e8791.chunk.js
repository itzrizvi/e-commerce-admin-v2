(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[59],{661:function(e,t,a){"use strict";var n=a(3),r=a(0),l={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 552h63.6c4.4 0 8-3.6 8-8V288.7h528.6v72.6c0 1.9.6 3.7 1.8 5.2a8.3 8.3 0 0011.7 1.4L893 255.4c4.3-5 3.6-10.3 0-13.2L749.7 129.8a8.22 8.22 0 00-5.2-1.8c-4.6 0-8.4 3.8-8.4 8.4V209H199.7c-39.5 0-71.7 32.2-71.7 71.8V544c0 4.4 3.6 8 8 8zm752-80h-63.6c-4.4 0-8 3.6-8 8v255.3H287.8v-72.6c0-1.9-.6-3.7-1.8-5.2a8.3 8.3 0 00-11.7-1.4L131 768.6c-4.3 5-3.6 10.3 0 13.2l143.3 112.4c1.5 1.2 3.3 1.8 5.2 1.8 4.6 0 8.4-3.8 8.4-8.4V815h536.6c39.5 0 71.7-32.2 71.7-71.8V480c-.2-4.4-3.8-8-8.2-8z"}}]},name:"retweet",theme:"outlined"},d=a(15),c=function(e,t){return r.createElement(d.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:l}))};c.displayName="RetweetOutlined";t.a=r.forwardRef(c)},962:function(e,t,a){"use strict";a.r(t);a(150);var n=a(77),r=(a(202),a(63)),l=(a(200),a(97)),d=(a(201),a(74)),c=(a(148),a(45)),i=(a(166),a(98)),o=(a(288),a(69)),u=a(9),s=(a(314),a(218)),m=a(23),v=(a(640),a(643)),E=a(0),p=a.n(E),f=a(21),h=a.n(f),y=a(217),b=a(165),D=a(164),g=a(287),O=a(12),j=a(126),_=a.n(j),S=a(661),A=a(192),k=a(135),x=a(71),I=a(22),w=a(219),N=a.n(w),U=a(378),Y=a.n(U),V=a(50),z=a(68),F=a.n(z),C=a(76),M=v.a.RangePicker,T=!1;t.default=function(){Object(I.f)("vendor");var e=Object(E.useState)({data:[],loading:!1,error:""}),t=Object(m.a)(e,2),a=t[0],v=t[1],f=Object(V.d)((function(e){return e.auth.token})),j=Object(E.useState)(!1),w=Object(m.a)(j,2),U=w[0],z=w[1],P=Object(E.useState)(!1),R=Object(m.a)(P,2),Q=R[0],L=R[1],X=Object(E.useState)(!0),q=Object(m.a)(X,2),B=q[0],G=q[1],H=Object(E.useState)(null),J=Object(m.a)(H,2),K=J[0],W=J[1],Z=Object(E.useState)(null),$=Object(m.a)(Z,2),ee=$[0],te=$[1],ae=Object(E.useState)({status:"",searchQuery:"",vendorEntryStartDate:"",vendorEntryEndDate:"",vendorUpdatedStartDate:"",vendorUpdatedEndDate:""}),ne=Object(m.a)(ae,2),re=ne[0],le=ne[1],de=[{title:"Vendor ID",dataIndex:"id",key:"id",width:120,ellipsis:!0,sorter:function(e,t){return e.id>t.id?1:-1}},{title:"Company Name",dataIndex:"company_name",key:"company_name",width:180,ellipsis:!0,sorter:function(e,t){return e.company_name>t.company_name?1:-1}},{title:"Email",dataIndex:"email",key:"email",ellipsis:!0,sorter:function(e,t){return e.email>t.email?1:-1}},{title:"Phone",dataIndex:"phone_number",key:"phone_number",ellipsis:!0,sorter:function(e,t){return e.phone_number>t.phone_number?1:-1}},{title:"EIN",dataIndex:"EIN_no",key:"EIN_no",ellipsis:!0,sorter:function(e,t){return e.EIN_no>t.EIN_no?1:-1}},{title:"Fax",dataIndex:"FAX_no",key:"FAX_no",ellipsis:!0,sorter:function(e,t){return e.FAX_no>t.FAX_no?1:-1}},{title:"Status",dataIndex:"status",key:"status",align:"center",sorter:function(e,t){return e.status===t.status?0:e.status?-1:1},filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:function(e,t){return t.status===e},render:function(e,t){return p.a.createElement(s.a,{defaultChecked:e,title:"Status",onChange:function(e){return ce(t,e)}})}},{title:"Date Added",dataIndex:"createdAt",key:"createdAt",align:"center",width:140,sorter:function(e,t){return e.createdAt===t.createdAt?0:e.createdAt?-1:1},render:function(e,t){return p.a.createElement("span",{className:"status-text"},p.a.createElement(N.a,{format:"DD-MMM-YYYY"},parseInt(e)))}},{title:"Date Updated",dataIndex:"updatedAt",key:"updatedAt",align:"center",width:140,sorter:function(e,t){return e.updatedAt===t.updatedAt?0:e.updatedAt?-1:1},render:function(e,t){return p.a.createElement("span",{className:"status-text"},p.a.createElement(N.a,{format:"DD-MMM-YYYY"},parseInt(e)))}},{title:"Action",dataIndex:"action",width:70,align:"right",render:function(e,t){return p.a.createElement(p.a.Fragment,null,p.a.createElement(O.b,{to:"/admin/vendor/edit/".concat(t.id)},p.a.createElement(_.a,{name:"edit",style:{margin:".5em 1em",color:"#5F63F2"}})))},key:"last_name"}],ce=function(e,t){x.j.mutate({mutation:x.n.UPDATE_VENDOR_STATUS,variables:{data:{id:e.id,status:t}},context:{headers:{TENANTID:"100001",Authorization:F.a.get("psp_t")}}}).then((function(t){var a,n=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.updateVendorStatus;if(!(null===n||void 0===n?void 0:n.status))return Object(C.a)();o.b.success("".concat(e.company_name," status updated."))}))},ie=function(e,t){return[Y()(e,"YYYY-MM-DD"),Y()(t,"YYYY-MM-DD")]};return Object(E.useEffect)((function(){T&&(""!==re.searchQuery||""!==re.vendorEntryStartDate||""!==re.status||""!==re.vendorEntryEndDate||""!==re.vendorUpdatedStartDate||""!==re.vendorUpdatedEndDate?G(!1):G(!0)),T=!0}),[re]),p.a.createElement(p.a.Fragment,null,p.a.createElement(y.a,{title:"Vendors",buttons:[p.a.createElement("div",{key:"1",className:"page-header-actions"},p.a.createElement(g.a,{size:"small",type:"white",onClick:function(){return z((function(e){return!e}))}},p.a.createElement(h.a,{icon:"filter"}),"Filter"),p.a.createElement(g.a,{size:"small",type:"white",onClick:function(){W(null),G(!0),te(null),le({status:"",searchQuery:"",vendorEntryStartDate:"",vendorEntryEndDate:"",vendorUpdatedStartDate:"",vendorUpdatedEndDate:""})}},p.a.createElement(S.a,null),"Reset Filter"),p.a.createElement(O.b,{to:"/admin/vendor/add"},p.a.createElement(g.a,{size:"small",title:"Add Vendors",type:"primary"},p.a.createElement(h.a,{icon:"plus"}))))]}),p.a.createElement(b.b,null,p.a.createElement(l.a,{gutter:25},p.a.createElement(d.a,{sm:24,xs:24},p.a.createElement(D.a,{headless:!0},a.loading?p.a.createElement("div",{className:"spin"},p.a.createElement(i.a,null)):a.error?p.a.createElement("p",null,a.error):p.a.createElement(p.a.Fragment,null,p.a.createElement(l.a,{gutter:25},p.a.createElement(d.a,{span:18},p.a.createElement(c.a,{placeholder:"Search Vendor By Company Name, Email, Phone....",prefix:p.a.createElement(A.a,null),value:null===re||void 0===re?void 0:re.searchQuery,onChange:function(e){e.persist();var t=e.target.value;le((function(e){return Object(u.a)(Object(u.a)({},e),{},{searchQuery:t})}))}})),p.a.createElement(d.a,{span:6},p.a.createElement(g.a,{size:"large",type:"primary",disabled:B,onClick:function(){var e,t,a,n,r,l;v((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!0})})),x.j.query({query:x.o.GET_ALL_VENDOR,variables:{query:{searchQuery:null!==(e=re.searchQuery)&&void 0!==e?e:"",status:null!==(t=re.status)&&void 0!==t?t:"",vendorEntryStartDate:null!==(a=re.vendorEntryStartDate)&&void 0!==a?a:"",vendorEntryEndDate:null!==(n=re.vendorEntryEndDate)&&void 0!==n?n:"",vendorUpdatedStartDate:null!==(r=re.vendorUpdatedStartDate)&&void 0!==r?r:"",vendorUpdatedEndDate:null!==(l=re.vendorUpdatedEndDate)&&void 0!==l?l:""}},context:{headers:{TENANTID:"100001",Authorization:f}},fetchPolicy:"network-only"}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllVendor;if(!(null===a||void 0===a?void 0:a.status))return Object(C.a)();v(a)})).finally((function(){v((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1})})),L(!Q)}))}},"Search"))),p.a.createElement("br",null),p.a.createElement("br",null),U&&p.a.createElement("div",{style:{marginBottom:"2.5em"}},p.a.createElement(l.a,{gutter:16,style:{marginTop:".5em"}},p.a.createElement(d.a,{span:4},"Status: ",p.a.createElement("br",null),p.a.createElement(r.a,{style:{width:"100%"},size:"middle",placeholder:"Select Status...",value:null===re||void 0===re?void 0:re.status,options:[{label:"Active",value:"true"},{label:"Inactive",value:"false"}],onSelect:function(e){le((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:e})}))}})),p.a.createElement(d.a,{span:10},"Date Added: ",p.a.createElement("br",null),p.a.createElement(M,{style:{height:"40px",width:"100%"},size:"small",allowClear:!0,picker:"date",value:""!==K?K:"",onChange:function(e){e?(le((function(t){var a,n;return Object(u.a)(Object(u.a)({},t),{},{vendorEntryStartDate:null!==(a=e[0]._d)&&void 0!==a?a:"",vendorEntryEndDate:null!==(n=e[1]._d)&&void 0!==n?n:""})})),W(ie(e[0],e[1]))):W(null)}})),p.a.createElement(d.a,{span:10},"Date Updated: ",p.a.createElement("br",null),p.a.createElement(M,{style:{height:"40px",width:"100%"},size:"small",allowClear:!0,picker:"date",value:""!==ee?ee:"",onChange:function(e){e?(le((function(t){var a,n;return Object(u.a)(Object(u.a)({},t),{},{vendorUpdatedStartDate:null!==(a=e[0]._d)&&void 0!==a?a:"",vendorUpdatedEndDate:null!==(n=e[1]._d)&&void 0!==n?n:""})})),te(ie(e[0],e[1]))):te(null)}})))),p.a.createElement("span",{className:"psp_list"},p.a.createElement(n.a,{className:"table-responsive",columns:de,rowKey:"g_s",size:"small",dataSource:(null===a||void 0===a?void 0:a.data)?a.data:[],pagination:{defaultPageSize:k.a.VENDOR_PER_PAGE,total:(null===a||void 0===a?void 0:a.data)?a.data.length:0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}}))))))))}}}]);