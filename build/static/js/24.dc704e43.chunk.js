(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[24],{629:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,s,r,i=n(9),o=n(20),c={GET_CONTACT_US_MSG_LIST:Object(o.d)(a||(a=Object(i.a)(["\n    query getContactUsMsgList {\n        getContactUsMsgList{\n          message\n          status\n          tenant_id\n          data {\n            id\n            name\n            email\n            phone\n            subject\n            message\n            tenant_id\n            images {\n              id\n              image\n              tenant_id\n            }\n          }\n        }\n      }\n    "]))),GET_SINGLE_CONTACT_US_MSG:Object(o.d)(s||(s=Object(i.a)(["\n    query getSingleContactUsMsg($query: GetSingleContactMessageInput) {\n      getSingleContactUsMsg(query: $query) {\n        message\n        status\n        data {\n          id\n          name\n          email\n          phone\n          subject\n          message\n          images {\n            id\n            image\n          }\n        }\n      }\n    }\n    "]))),GET_CONTACT_US_UNREAD_MSG_LIST:Object(o.d)(r||(r=Object(i.a)(["\n    query getContactUsUnreadMsgList {\n      getContactUsUnreadMsgList{\n        message\n        status\n        data {\n          id\n          name\n          email\n          phone\n          subject\n          message\n          isRead\n          images {\n            id\n            image\n          }\n        }\n      }\n    }\n    \n    "])))}},937:function(e,t,n){"use strict";n.r(t);n(100);var a=n(50),s=(n(101),n(40)),r=(n(102),n(54)),i=(n(121),n(69)),o=n(7),c=n(14),l=n(0),u=n.n(l),d=(n(18),n(81)),m=n(76),g=(n(72),n(77)),p=n(43),b=n(25),f=n(202),E=n(129),h=n(629),C=n(103),U=n.n(C),_=n(65),j=n.n(_),S=n(110),O=n(11);t.default=function(){var e=Object(p.d)((function(e){return e.auth.user})),t=Object(p.c)();setTimeout((function(){Object(b.b)("dashboard")||t(Object(f.b)())}),2e3);var n=Object(l.useState)({data:[],isLoading:!0}),C=Object(c.a)(n,2),_=C[0],T=C[1],v=[{title:"ID",dataIndex:"id",key:"id",sorter:function(e,t){return e.id>t.id?1:-1}},{title:"Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}},{title:"Email",dataIndex:"email",key:"email",render:function(e){return u.a.createElement("a",{href:"tel:".concat(e)},e)},sorter:function(e,t){return e.email.toUpperCase()>t.email.toUpperCase()?1:-1}},{title:"Phone",dataIndex:"phone",key:"phone",sorter:function(e,t){return e.phone.toUpperCase()>t.phone.toUpperCase()?1:-1}},{title:"Subject",dataIndex:"subject",key:"subject",ellipsis:!0,sorter:function(e,t){return e.subject.toUpperCase()>t.subject.toUpperCase()?1:-1}},{title:"Message",dataIndex:"message",key:"message",ellipsis:!0,render:function(e){return u.a.createElement("p",{style:{maxWidth:"250px",whiteSpace:"normal"}},e)},sorter:function(e,t){return e.message.toUpperCase()>t.message.toUpperCase()?1:-1}},{title:"View",dataIndex:"id",width:70,align:"right",render:function(e,t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.b,{to:"/admin/supports/message?id=".concat(e)},u.a.createElement(U.a,{name:"eye",style:{margin:".5em 1em"}})))},key:"id"}];return Object(l.useEffect)((function(){E.b.query({query:h.a.GET_CONTACT_US_UNREAD_MSG_LIST,context:{headers:{TENANTID:"100001",Authorization:j.a.get("psp_t")}}}).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getContactUsUnreadMsgList;(null===n||void 0===n?void 0:n.status)&&T((function(e){return Object(o.a)(Object(o.a)({},e),{},{data:null===n||void 0===n?void 0:n.data,error:""})}))})).catch((function(e){T((function(e){return Object(o.a)(Object(o.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){T((function(e){return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1})}))}))}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{ghost:!0,title:"Dashboard"}),u.a.createElement(g.b,null,u.a.createElement(a.a,{gutter:25},u.a.createElement(s.a,{lg:24,xs:24},u.a.createElement(m.a,{headless:!0},u.a.createElement("div",null,u.a.createElement("h2",null,"Welcome ",null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name))),u.a.createElement(m.a,{headless:!0},u.a.createElement("h3",{style:{fontWeight:"700",marginBottom:"1em"}},"Unread Messages"),_.isLoading?u.a.createElement("div",{className:"spin"},u.a.createElement(i.a,null)):u.a.createElement(u.a.Fragment,null,u.a.createElement(r.a,{scroll:{x:"max-content"},className:"table-responsive",columns:v,rowKey:"id",size:"small",dataSource:_.data,rowClassName:function(e,t){return t%2==0?"":"altTableClass"},pagination:{defaultPageSize:S.a.CONTACT_US_MESSAGE_PER_PAGE,total:_.data.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}})))))))}}}]);