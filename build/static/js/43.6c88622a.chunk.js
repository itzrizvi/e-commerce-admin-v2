(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[43],{1024:function(e,t,a){"use strict";a.r(t);a(133);var n=a(63),l=(a(134),a(47)),i=(a(136),a(71)),r=(a(115),a(39)),d=(a(135),a(74)),m=a(7),s=a(14),u=a(0),o=a.n(u),E=a(195),c=a(19),p=a.n(c),T=a(120),g=a(101),A=a(100),_=a(99),L=a(10),O=a(103),b=a.n(O),I=a(102),j=a(48),y=a(218),v=a.n(y),M=a(23),f=a(122),S=a(627);t.default=function(){var e,t;Object(M.c)("email-template");var a=Object(u.useState)({data:[],loading:!0,error:""}),c=Object(s.a)(a,2),O=c[0],y=c[1],P=Object(u.useState)([]),h=Object(s.a)(P,2),C=h[0],F=h[1],N=Object(u.useState)(!1),q=Object(s.a)(N,2),H=q[0],$=q[1],w=Object(j.d)((function(e){return e.auth.token}));Object(u.useEffect)((function(){I.b.query({query:S.a.GET_EMAIL_TEMPLATE_CONTENT_LIST,context:{headers:{TENANTID:"100001",Authorization:w}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getEmailTemplateList;y((function(e){return Object(m.a)(Object(m.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){y((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){y((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1})}))}))}),[]);var D=[{title:"ID",dataIndex:"id",key:"id",width:80,ellipsis:!0,sorter:function(e,t){return e.id.toUpperCase()>t.id.toUpperCase()?1:-1}},{title:"Name",dataIndex:"name",key:"name",width:200,ellipsis:!0,sorter:function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}},{title:"Alias",dataIndex:"slug",key:"slug",width:200,ellipsis:!0,sorter:function(e,t){return e.slug.toUpperCase()>t.slug.toUpperCase()?1:-1}},{title:"Header Name",dataIndex:["emailHeader","name"],key:"name",sorter:function(e,t){return e.slug.toUpperCase()>t.slug.toUpperCase()?1:-1}},{title:"Footer Name",dataIndex:["emailFooter","name"],key:"name",sorter:function(e,t){return e.slug.toUpperCase()>t.slug.toUpperCase()?1:-1}},{title:"Date",dataIndex:"createdAt",key:"createdAt",align:"center",width:120,render:function(e,t){return o.a.createElement("span",{className:"status-text"},o.a.createElement(v.a,{format:"DD MMMM YYYY"},parseInt(e)))}},{title:"Action",dataIndex:"action",align:"right",key:"action",width:80,render:function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.b,{to:"/admin/email/content/edit/".concat(t.id)},o.a.createElement(b.a,{name:"edit"})))}}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{title:"Email Content",buttons:[o.a.createElement("div",{key:"email-template",className:"page-header-actions"},o.a.createElement(L.b,{to:"/admin/email/content/add"},o.a.createElement(_.a,{size:"small",title:"Add Email Content",type:"primary"},o.a.createElement(p.a,{icon:"plus"}))))]}),o.a.createElement(g.b,null,o.a.createElement(n.a,{gutter:25},o.a.createElement(l.a,{sm:24,xs:24},o.a.createElement(A.a,{headless:!0},O.loading?o.a.createElement("div",{className:"spin"},o.a.createElement(d.a,null)):O.error?o.a.createElement("p",null,O.error):o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{placeholder:"Search in Email Template Content...",prefix:o.a.createElement(E.a,null),onChange:function(e){var t=e.target.value;$(t),F(O.data.filter((function(e){var a,n;return((null===e||void 0===e?void 0:e.name)+(null===e||void 0===e||null===(a=e.emailHeader)||void 0===a?void 0:a.name)+(null===e||void 0===e?void 0:e.slug)+(null===e||void 0===e||null===(n=e.emailFooter)||void 0===n?void 0:n.name)).toLowerCase().includes(t.toLowerCase())})))}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"psp_list"},o.a.createElement(i.a,{className:"table-responsive",columns:D,pagination:{defaultPageSize:f.a.EMAIL_TEMPLATE_PER_PAGE,total:H?null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.length:null===O||void 0===O||null===(t=O.data)||void 0===t?void 0:t.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}},rowKey:"id",size:"small",dataSource:H?C:O.data,rowClassName:function(e,t){return t%2===0?"":"altTableClass"}}))))))))}},627:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n,l,i,r,d,m,s,u,o,E,c,p,T,g=a(8),A=a(17),_={GET_EMAIL_HEADER_FOOTER_LIST:Object(A.d)(n||(n=Object(g.a)(["\n    query getEmailTempHeaderFooterList {\n      getEmailTempHeaderFooterList {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          type\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),ADD_EMAIL_TEMPLATE_HEADER_FOOTER:Object(A.d)(l||(l=Object(g.a)(["\n    mutation addEmailTempHeaderFooter($data: AddEmailTempHFInput) {\n      addEmailTempHeaderFooter(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),SINGLE_EMAIL_TEMPLATE_HEADER_FOOTER:Object(A.d)(i||(i=Object(g.a)(["\n    query getSingleEmailTempHeaderFooter($query: GetSingleEmailHeaderFooterInput) {\n      getSingleEmailTempHeaderFooter(query: $query) {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          layout_type\n          type\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),EMAIL_TEMPLATE_HEADER_FOOTER_UPDATE:Object(A.d)(r||(r=Object(g.a)(["\n    mutation updateEmailTempHeaderFooter($data: UpdateEmailTempHFInput) {\n      updateEmailTempHeaderFooter(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),GET_EMAIL_TEMPLATE_LIST:Object(A.d)(d||(d=Object(g.a)(["\n    query getAllEmailTemplateList {\n      getAllEmailTemplateList {\n        message\n        status\n        data {\n          id\n          email_template_id\n          name\n          slug\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),ADD_EMAIL_TEMPLATE_LIST:Object(A.d)(m||(m=Object(g.a)(["\n    mutation addEmailTemplateOnList($data: AddEmailTemplateListInput) {\n      addEmailTemplateOnList(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),SINGLE_EMAIL_TEMPLATE_LIST:Object(A.d)(s||(s=Object(g.a)(["\n    query getSingleEmailTemplateList($query: GetSingleEmailTemplateListInput) {\n      getSingleEmailTemplateList(query: $query) {\n        message\n        status\n        data {\n          id\n          email_template_id\n          name\n          slug\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),UPDATE_EMAIL_TEMPLATE_LIST:Object(A.d)(u||(u=Object(g.a)(["\n    mutation updateEmailTemplateOnList($data: UpdateEmailTemplateListInput) {\n      updateEmailTemplateOnList(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),CREATE_EMAIL_TEMPLATE:Object(A.d)(o||(o=Object(g.a)(["\n    mutation createEmailTemplate($data: addEmailTemplateInput) {\n      createEmailTemplate(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),GET_EMAIL_TEMPLATE_CONTENT_LIST:Object(A.d)(E||(E=Object(g.a)(["\n    query getEmailTemplateList {\n      getEmailTemplateList {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          createdAt\n          updatedAt\n          emailHeader {\n            id\n            name\n            slug\n          }\n          emailFooter {\n            id\n            name\n            slug\n          }\n        }\n      }\n    }\n  "]))),GET_SINGLE_EMAIL_CONTENT_TEMPLATE:Object(A.d)(c||(c=Object(g.a)(["\n    query getSingleEmailTemplate($query: GetSingleEmailTemplateInput) {\n      getSingleEmailTemplate(query: $query) {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          layout_type\n          createdAt\n          updatedAt\n          emailHeader {\n            id\n            name\n            slug\n            content\n            type\n            createdAt\n            updatedAt\n          }\n          emailFooter {\n            id\n            name\n            slug\n            content\n            type\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    }\n  "]))),UPDATE_EMAIL_TEMPLATE_CONTENT:Object(A.d)(p||(p=Object(g.a)(["\n    mutation updateEmailTemplate($data: updateEmailTemplateInput) {\n      updateEmailTemplate(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),GET_EMAIL_TEMPLATE_PREVIEW:Object(A.d)(T||(T=Object(g.a)(["\n    query getEmailTemplatePreview($query: GetEmailTemplatePreviewInput) {\n      getEmailTemplatePreview(query: $query) {\n        message\n        status\n        tenant_id\n        data\n      }\n    }\n  "])))}}}]);