/*! For license information please see 16.f447b2fe.chunk.js.LICENSE.txt */
(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[16],{913:function(e,t,n){"use strict";e.exports=n(914)},914:function(e,t,n){"use strict";var r=n(0),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;o=a("react.element"),t.Fragment=a("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,n){var r,a={},s=null,l=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(l=t.ref),t)c.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:l,props:a,_owner:i.current}}t.jsx=s,t.jsxs=s},915:function(e,t,n){e.exports=n(916)},916:function(e,t,n){"use strict";var r=n(917),o=n(918);function a(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}a.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=a},917:function(e,t){var n,r,o,a,i,c,u,s,l,p,d,h,f,v,m,g=!1;function b(){if(!g){g=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),b=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),f=/\b(iP[ao]d)/.exec(e),p=/Android/i.exec(e),v=/FBAN\/\w+;/i.exec(e),m=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t){(n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode);var y=/(?:Trident\/(\d+.\d+))/.exec(e);c=y?parseFloat(y[1])+4:n,r=t[2]?parseFloat(t[2]):NaN,o=t[3]?parseFloat(t[3]):NaN,(a=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),i=t&&t[1]?parseFloat(t[1]):NaN):i=NaN}else n=r=o=i=a=NaN;if(b){if(b[1]){var w=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);u=!w||parseFloat(w[1].replace("_","."))}else u=!1;s=!!b[2],l=!!b[3]}else u=s=l=!1}}var y={ie:function(){return b()||n},ieCompatibilityMode:function(){return b()||c>n},ie64:function(){return y.ie()&&d},firefox:function(){return b()||r},opera:function(){return b()||o},webkit:function(){return b()||a},safari:function(){return y.webkit()},chrome:function(){return b()||i},windows:function(){return b()||s},osx:function(){return b()||u},linux:function(){return b()||l},iphone:function(){return b()||h},mobile:function(){return b()||h||f||p||m},nativeApp:function(){return b()||v},android:function(){return b()||p},ipad:function(){return b()||f}};e.exports=y},918:function(e,t,n){"use strict";var r,o=n(919);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var i=document.createElement("div");i.setAttribute(n,"return;"),a="function"===typeof i[n]}return!a&&r&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}},919:function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},926:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ee}));var r=n(23),o=n(6),a=n(913),i=n(0),c=n.n(i),u=n(78),s=n(316),l=n(220),p=function(e,t){var n=h(e),r=h(t),o=n.pop(),a=r.pop(),i=g(n,r);return 0!==i?i:o&&a?g(o.split("."),a.split(".")):o||a?o?-1:1:0},d=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,h=function(e){if("string"!==typeof e)throw new TypeError("Invalid argument expected string");var t=e.match(d);if(!t)throw new Error("Invalid argument not valid semver ('".concat(e,"' received)"));return t.shift(),t},f=function(e){return"*"===e||"x"===e||"X"===e},v=function(e){var t=parseInt(e,10);return isNaN(t)?e:t},m=function(e,t){if(f(e)||f(t))return 0;var n=function(e,t){return typeof e!==typeof t?[String(e),String(t)]:[e,t]}(v(e),v(t)),o=Object(r.a)(n,2),a=o[0],i=o[1];return a>i?1:a<i?-1:0},g=function(e,t){for(var n=0;n<Math.max(e.length,t.length);n++){var r=m(e[n]||"0",t[n]||"0");if(0!==r)return r}return 0},b={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},y=(Object.keys(b),function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)});var w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create;var x=n(915),C=n.n(x);function O(e,t,n,r,o,a){void 0===a&&(a=0);var i=D(e,t,a),c=i.width,u=i.height,s=Math.min(c,n),l=Math.min(u,r);return s>l*o?{width:l*o,height:l}:{width:s,height:s/o}}function S(e,t,n,r,o){void 0===o&&(o=0);var a=D(t.width,t.height,o),i=a.width,c=a.height;return{x:E(e.x,i,n.width,r),y:E(e.y,c,n.height,r)}}function E(e,t,n,r){var o=t*r/2-n/2;return N(e,-o,o)}function j(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function M(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function R(e,t,n,r,o,a,i){void 0===a&&(a=0),void 0===i&&(i=!0);var c=i?P:z,u=D(t.width,t.height,a),s=D(t.naturalWidth,t.naturalHeight,a),l={x:c(100,((u.width-n.width/o)/2-e.x/o)/u.width*100),y:c(100,((u.height-n.height/o)/2-e.y/o)/u.height*100),width:c(100,n.width/u.width*100/o),height:c(100,n.height/u.height*100/o)},p=Math.round(c(s.width,l.width*s.width/100)),d=Math.round(c(s.height,l.height*s.height/100)),h=s.width>=s.height*r?{width:Math.round(d*r),height:d}:{width:p,height:Math.round(p/r)};return{croppedAreaPercentages:l,croppedAreaPixels:w(w({},h),{x:Math.round(c(s.width-h.width,l.x*s.width/100)),y:Math.round(c(s.height-h.height,l.y*s.height/100))})}}function P(e,t){return Math.min(e,Math.max(0,t))}function z(e,t){return t}function k(e,t,n,r,o,a){var i=D(t.width,t.height,n),c=N(r.width/i.width*(100/e.width),o,a);return{crop:{x:c*i.width/2-r.width/2-i.width*c*(e.x/100),y:c*i.height/2-r.height/2-i.height*c*(e.y/100)},zoom:c}}function L(e,t,n,r,o,a){void 0===n&&(n=0);var i=D(t.naturalWidth,t.naturalHeight,n),c=N(function(e,t,n){var r=function(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}(e,t,r),o,a),u=r.height>r.width?r.height/e.height:r.width/e.width;return{crop:{x:((i.width-e.width)/2-e.x)*u,y:((i.height-e.height)/2-e.y)*u},zoom:c}}function _(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function D(e,t,n){var r=n*Math.PI/180;return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function N(e,t,n){return Math.min(Math.max(e,t),n)}function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return"string"===typeof e&&e.length>0})).join(" ").trim()}var A=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.imageRef=c.a.createRef(),n.videoRef=c.a.createRef(),n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=document,n.currentWindow=window,n.state={cropSize:null,hasWheelJustStarted:!1},n.preventZoomSafari=function(e){return e.preventDefault()},n.cleanEvents=function(){n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd)},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var e=n.computeSizes();e&&(n.emitCropData(),n.setInitialCrop(e)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(e){if(n.props.initialCroppedAreaPercentages){var t=k(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,e,n.props.minZoom,n.props.maxZoom),r=t.crop,o=t.zoom;n.props.onCropChange(r),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=L(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,e,n.props.minZoom,n.props.maxZoom);r=a.crop,o=a.zoom;n.props.onCropChange(r),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var e,t,r,o,a,i,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect();var u=n.containerRect.width/n.containerRect.height,s=(null===(e=n.imageRef.current)||void 0===e?void 0:e.naturalWidth)||(null===(t=n.videoRef.current)||void 0===t?void 0:t.videoWidth)||0,l=(null===(r=n.imageRef.current)||void 0===r?void 0:r.naturalHeight)||(null===(o=n.videoRef.current)||void 0===o?void 0:o.videoHeight)||0,p=s/l,d=void 0;if(c.offsetWidth<s||c.offsetHeight<l)switch(n.props.objectFit){default:case"contain":d=u>p?{width:n.containerRect.height*p,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/p};break;case"horizontal-cover":d={width:n.containerRect.width,height:n.containerRect.width/p};break;case"vertical-cover":d={width:n.containerRect.height*p,height:n.containerRect.height};break;case"auto-cover":d=s>l?{width:n.containerRect.width,height:n.containerRect.width/p}:{width:n.containerRect.height*p,height:n.containerRect.height}}else d={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=w(w({},d),{naturalWidth:s,naturalHeight:l}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var h=n.props.cropSize?n.props.cropSize:O(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(null===(a=n.state.cropSize)||void 0===a?void 0:a.height)===h.height&&(null===(i=n.state.cropSize)||void 0===i?void 0:i.width)===h.width||n.props.onCropSizeChange&&n.props.onCropSizeChange(h),n.setState({cropSize:h},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(h),h}},n.onMouseDown=function(e){e.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.onDragStart(t.getMousePoint(e))},n.onMouseMove=function(e){return n.onDrag(t.getMousePoint(e))},n.onTouchStart=function(e){n.isTouching=!0,n.props.onTouchRequest&&!n.props.onTouchRequest(e)||(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),2===e.touches.length?n.onPinchStart(e):1===e.touches.length&&n.onDragStart(t.getTouchPoint(e.touches[0])))},n.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?n.onPinchMove(e):1===e.touches.length&&n.onDrag(t.getTouchPoint(e.touches[0]))},n.onGestureStart=function(e){e.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation},n.onGestureMove=function(e){if(e.preventDefault(),!n.isTouching){var r=t.getMousePoint(e),o=n.gestureZoomStart-1+e.scale;if(n.setNewZoom(o,r,{shouldUpdatePosition:!0}),n.props.onRotationChange){var a=n.gestureRotationStart+e.rotation;n.props.onRotationChange(a)}}},n.onGestureEnd=function(e){n.cleanEvents()},n.onDragStart=function(e){var t,r,o=e.x,a=e.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=w({},n.props.crop),null===(r=(t=n.props).onInteractionStart)||void 0===r||r.call(t)},n.onDrag=function(e){var t=e.x,r=e.y;n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame((function(){if(n.state.cropSize&&void 0!==t&&void 0!==r){var e=t-n.dragStartPosition.x,o=r-n.dragStartPosition.y,a={x:n.dragStartCrop.x+e,y:n.dragStartCrop.y+o},i=n.props.restrictPosition?S(a,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):a;n.props.onCropChange(i)}}))},n.onDragStopped=function(){var e,t;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),null===(t=(e=n.props).onInteractionEnd)||void 0===t||t.call(e)},n.onWheel=function(e){if(!n.props.onWheelRequest||n.props.onWheelRequest(e)){e.preventDefault();var r=t.getMousePoint(e),o=C()(e).pixelY,a=n.props.zoom-o*n.props.zoomSpeed/200;n.setNewZoom(a,r,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},(function(){var e,t;return null===(t=(e=n.props).onInteractionStart)||void 0===t?void 0:t.call(e)})),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout((function(){return n.setState({hasWheelJustStarted:!1},(function(){var e,t;return null===(t=(e=n.props).onInteractionEnd)||void 0===t?void 0:t.call(e)}))}),250)}},n.getPointOnContainer=function(e){var t=e.x,r=e.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(t-n.containerRect.left),y:n.containerRect.height/2-(r-n.containerRect.top)}},n.getPointOnMedia=function(e){var t=e.x,r=e.y,o=n.props,a=o.crop,i=o.zoom;return{x:(t+a.x)/i,y:(r+a.y)/i}},n.setNewZoom=function(e,t,r){var o=(void 0===r?{}:r).shouldUpdatePosition,a=void 0===o||o;if(n.state.cropSize&&n.props.onZoomChange){var i=N(e,n.props.minZoom,n.props.maxZoom);if(a){var c=n.getPointOnContainer(t),u=n.getPointOnMedia(c),s={x:u.x*i-c.x,y:u.y*i-c.y},l=n.props.restrictPosition?S(s,n.mediaSize,n.state.cropSize,i,n.props.rotation):s;n.props.onCropChange(l)}n.props.onZoomChange(i)}},n.getCropData=function(){return n.state.cropSize?R(n.props.restrictPosition?S(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition):null},n.emitCropData=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(t,r),n.props.onCropAreaChange&&n.props.onCropAreaChange(t,r)}},n.emitCropAreaChange=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(t,r)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var e=n.props.restrictPosition?S(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(e),n.emitCropData()}},n}return function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef)},t.prototype.componentWillUnmount=function(){var e;this.currentWindow.removeEventListener("resize",this.computeSizes),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null===(e=this.styleRef.parentNode)||void 0===e||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},t.prototype.componentDidUpdate=function(e){var t,n,r,o,a,i,c,u,s;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null===(t=e.cropSize)||void 0===t?void 0:t.height)!==(null===(n=this.props.cropSize)||void 0===n?void 0:n.height)||(null===(r=e.cropSize)||void 0===r?void 0:r.width)!==(null===(o=this.props.cropSize)||void 0===o?void 0:o.width)?this.computeSizes():(null===(a=e.crop)||void 0===a?void 0:a.x)===(null===(i=this.props.crop)||void 0===i?void 0:i.x)&&(null===(c=e.crop)||void 0===c?void 0:c.y)===(null===(u=this.props.crop)||void 0===u?void 0:u.y)||this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null===(s=this.videoRef.current)||void 0===s||s.load())},t.prototype.getAspect=function(){var e=this.props,t=e.cropSize,n=e.aspect;return t?t.width/t.height:n},t.prototype.onPinchStart=function(e){var n=t.getTouchPoint(e.touches[0]),r=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=j(n,r),this.lastPinchRotation=M(n,r),this.onDragStart(_(n,r))},t.prototype.onPinchMove=function(e){var n=this,r=t.getTouchPoint(e.touches[0]),o=t.getTouchPoint(e.touches[1]),a=_(r,o);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame((function(){var e=j(r,o),t=n.props.zoom*(e/n.lastPinchDistance);n.setNewZoom(t,a,{shouldUpdatePosition:!1}),n.lastPinchDistance=e;var i=M(r,o),c=n.props.rotation+(i-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(c),n.lastPinchRotation=i}))},t.prototype.render=function(){var e=this,t=this.props,n=t.image,r=t.video,o=t.mediaProps,a=t.transform,i=t.crop,u=i.x,s=i.y,l=t.rotation,p=t.zoom,d=t.cropShape,h=t.showGrid,f=t.style,v=f.containerStyle,m=f.cropAreaStyle,g=f.mediaStyle,b=t.classes,y=b.containerClassName,x=b.cropAreaClassName,C=b.mediaClassName,O=t.objectFit;return c.a.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(t){return e.containerRef=t},"data-testid":"container",style:v,className:T("reactEasyCrop_Container",y)},n?c.a.createElement("img",w({alt:"",className:T("reactEasyCrop_Image","contain"===O&&"reactEasyCrop_Contain","horizontal-cover"===O&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===O&&"reactEasyCrop_Cover_Vertical","auto-cover"===O&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),C)},o,{src:n,ref:this.imageRef,style:w(w({},g),{transform:a||"translate("+u+"px, "+s+"px) rotate("+l+"deg) scale("+p+")"}),onLoad:this.onMediaLoad})):r&&c.a.createElement("video",w({autoPlay:!0,loop:!0,muted:!0,className:T("reactEasyCrop_Video","contain"===O&&"reactEasyCrop_Contain","horizontal-cover"===O&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===O&&"reactEasyCrop_Cover_Vertical","auto-cover"===O&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),C)},o,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:w(w({},g),{transform:a||"translate("+u+"px, "+s+"px) rotate("+l+"deg) scale("+p+")"}),controls:!1}),(Array.isArray(r)?r:[{src:r}]).map((function(e){return c.a.createElement("source",w({key:e.src},e))}))),this.state.cropSize&&c.a.createElement("div",{style:w(w({},m),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:T("reactEasyCrop_CropArea","round"===d&&"reactEasyCrop_CropAreaRound",h&&"reactEasyCrop_CropAreaGrid",x)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(c.a.Component),F=n(10),I=n(2),W=n(1),Z=n(5),H=n(4),G=n.n(H),V=n(7),U=n(101),X=n.n(U),Y=n(43),B=n(13),q=n(3),J=n(14),$=i.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function K(e,t,n){return(e-t)/(n-t)}function Q(e,t,n,r){var o=K(t,n,r),a={};switch(e){case"rtl":a.right="".concat(100*o,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(100*o,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(100*o,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(100*o,"%"),a.transform="translateX(-50%)"}return a}function ee(e,t){return Array.isArray(e)?e[t]:e}var te=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"];var ne=i.forwardRef((function(e,t){var n,r,o=e.prefixCls,a=e.value,c=e.valueIndex,u=e.onStartMove,s=e.style,l=e.render,p=e.dragging,d=e.onOffsetChange,h=Object(B.a)(e,te),f=i.useContext($),v=f.min,m=f.max,g=f.direction,b=f.disabled,y=f.range,w=f.tabIndex,x=f.ariaLabelForHandle,C=f.ariaLabelledByForHandle,O=f.ariaValueTextFormatterForHandle,S="".concat(o,"-handle"),E=function(e){b||u(e,c)},j=Q(g,a,v,m),M=i.createElement("div",Object(W.a)({ref:t,className:G()(S,(n={},Object(I.a)(n,"".concat(S,"-").concat(c+1),y),Object(I.a)(n,"".concat(S,"-dragging"),p),n)),style:Object(q.a)(Object(q.a)({},j),s),onMouseDown:E,onTouchStart:E,onKeyDown:function(e){if(!b){var t=null;switch(e.which||e.keyCode){case J.a.LEFT:t="ltr"===g||"btt"===g?-1:1;break;case J.a.RIGHT:t="ltr"===g||"btt"===g?1:-1;break;case J.a.UP:t="ttb"!==g?1:-1;break;case J.a.DOWN:t="ttb"!==g?-1:1;break;case J.a.HOME:t="min";break;case J.a.END:t="max";break;case J.a.PAGE_UP:t=2;break;case J.a.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),d(t,c))}},tabIndex:b?null:ee(w,c),role:"slider","aria-valuemin":v,"aria-valuemax":m,"aria-valuenow":a,"aria-disabled":b,"aria-label":ee(x,c),"aria-labelledby":ee(C,c),"aria-valuetext":null===(r=ee(O,c))||void 0===r?void 0:r(a)},h));return l&&(M=l(M,{index:c,prefixCls:o,value:a,dragging:p})),M})),re=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"];var oe=i.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,o=e.onStartMove,a=e.onOffsetChange,c=e.values,u=e.handleRender,s=e.draggingIndex,l=Object(B.a)(e,re),p=i.useRef({});return i.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=p.current[e])||void 0===t||t.focus()}}})),i.createElement(i.Fragment,null,c.map((function(e,t){return i.createElement(ne,Object(W.a)({ref:function(e){e?p.current[t]=e:delete p.current[t]},dragging:s===t,prefixCls:n,style:ee(r,t),key:t,value:e,valueIndex:t,onStartMove:o,onOffsetChange:a,render:u},l))})))}));function ae(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function ie(e){var t=e.prefixCls,n=e.style,r=e.start,o=e.end,a=e.index,c=e.onStartMove,u=i.useContext($),s=u.direction,l=u.min,p=u.max,d=u.disabled,h=u.range,f="".concat(t,"-track"),v=K(r,l,p),m=K(o,l,p),g=function(e){!d&&c&&c(e,-1)},b={};switch(s){case"rtl":b.right="".concat(100*v,"%"),b.width="".concat(100*m-100*v,"%");break;case"btt":b.bottom="".concat(100*v,"%"),b.height="".concat(100*m-100*v,"%");break;case"ttb":b.top="".concat(100*v,"%"),b.height="".concat(100*m-100*v,"%");break;default:b.left="".concat(100*v,"%"),b.width="".concat(100*m-100*v,"%")}return i.createElement("div",{className:G()(f,h&&"".concat(f,"-").concat(a+1)),style:Object(q.a)(Object(q.a)({},b),n),onMouseDown:g,onTouchStart:g})}function ce(e){var t=e.prefixCls,n=e.style,r=e.values,o=e.startPoint,a=e.onStartMove,c=i.useContext($),u=c.included,s=c.range,l=c.min,p=i.useMemo((function(){if(!s){if(0===r.length)return[];var e=null!==o&&void 0!==o?o:l,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],a=0;a<r.length-1;a+=1)n.push({start:r[a],end:r[a+1]});return n}),[r,s,o,l]);return u?p.map((function(e,r){var o=e.start,c=e.end;return i.createElement(ie,{index:r,prefixCls:t,style:ee(n,r),start:o,end:c,key:r,onStartMove:a})})):null}function ue(e){var t=e.prefixCls,n=e.style,r=e.children,o=e.value,a=e.onClick,c=i.useContext($),u=c.min,s=c.max,l=c.direction,p=c.includedStart,d=c.includedEnd,h=c.included,f="".concat(t,"-text"),v=Q(l,o,u,s);return i.createElement("span",{className:G()(f,Object(I.a)({},"".concat(f,"-active"),h&&p<=o&&o<=d)),style:Object(q.a)(Object(q.a)({},v),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){a(o)}},r)}function se(e){var t=e.prefixCls,n=e.marks,r=e.onClick,o="".concat(t,"-mark");return n.length?i.createElement("div",{className:o},n.map((function(e){var t=e.value,n=e.style,a=e.label;return i.createElement(ue,{key:t,prefixCls:o,style:n,value:t,onClick:r},a)}))):null}function le(e){var t=e.prefixCls,n=e.value,r=e.style,o=e.activeStyle,a=i.useContext($),c=a.min,u=a.max,s=a.direction,l=a.included,p=a.includedStart,d=a.includedEnd,h="".concat(t,"-dot"),f=l&&p<=n&&n<=d,v=Object(q.a)(Object(q.a)({},Q(s,n,c,u)),"function"===typeof r?r(n):r);return f&&(v=Object(q.a)(Object(q.a)({},v),"function"===typeof o?o(n):o)),i.createElement("span",{className:G()(h,Object(I.a)({},"".concat(h,"-active"),f)),style:v})}function pe(e){var t=e.prefixCls,n=e.marks,r=e.dots,o=e.style,a=e.activeStyle,c=i.useContext($),u=c.min,s=c.max,l=c.step,p=i.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==l)for(var t=u;t<=s;)e.add(t),t+=l;return Array.from(e)}),[u,s,l,r,n]);return i.createElement("div",{className:"".concat(t,"-step")},p.map((function(e){return i.createElement(le,{prefixCls:t,key:e,value:e,style:o,activeStyle:a})})))}n(19);var de=i.forwardRef((function(e,t){var n,r=e.prefixCls,o=void 0===r?"rc-slider":r,a=e.className,c=e.style,u=e.disabled,s=void 0!==u&&u,l=e.autoFocus,p=e.onFocus,d=e.onBlur,h=e.min,f=void 0===h?0:h,v=e.max,m=void 0===v?100:v,g=e.step,b=void 0===g?1:g,y=e.value,w=e.defaultValue,x=e.range,C=e.count,O=e.onChange,S=e.onBeforeChange,E=e.onAfterChange,j=e.allowCross,M=void 0===j||j,R=e.pushable,P=void 0!==R&&R,z=e.draggableTrack,k=e.reverse,L=e.vertical,_=e.included,D=void 0===_||_,N=e.startPoint,T=e.trackStyle,A=e.handleStyle,W=e.railStyle,H=e.dotStyle,U=e.activeDotStyle,B=e.marks,q=e.dots,J=e.handleRender,K=e.tabIndex,Q=void 0===K?0:K,ee=e.ariaLabelForHandle,te=e.ariaLabelledByForHandle,ne=e.ariaValueTextFormatterForHandle,re=i.useRef(),ie=i.useRef(),ue=i.useMemo((function(){return L?k?"ttb":"btt":k?"rtl":"ltr"}),[k,L]),le=i.useMemo((function(){return isFinite(f)?f:0}),[f]),de=i.useMemo((function(){return isFinite(m)?m:100}),[m]),he=i.useMemo((function(){return null!==b&&b<=0?1:b}),[b]),fe=i.useMemo((function(){return!0===P?he:P>=0&&P}),[P,he]),ve=i.useMemo((function(){return Object.keys(B||{}).map((function(e){var t=B[e],n={value:Number(e)};return t&&"object"===Object(F.a)(t)&&!i.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"===typeof t})).sort((function(e,t){return e.value-t.value}))}),[B]),me=function(e,t,n,r,o,a){var c=i.useCallback((function(n){var r=isFinite(n)?n:e;return r=Math.min(t,n),r=Math.max(e,r)}),[e,t]),u=i.useCallback((function(r){if(null!==n){var o=e+Math.round((c(r)-e)/n)*n,a=function(e){return(String(e).split(".")[1]||"").length},i=Math.max(a(n),a(t),a(e)),u=Number(o.toFixed(i));return e<=u&&u<=t?u:null}return null}),[n,e,t,c]),s=i.useCallback((function(o){var a=c(o),i=r.map((function(e){return e.value}));null!==n&&i.push(u(o)),i.push(e,t);var s=i[0],l=t-e;return i.forEach((function(e){var t=Math.abs(a-e);t<=l&&(s=e,l=t)})),s}),[e,t,r,n,c,u]),l=function o(a,i,c){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof i){var l,p=a[c],d=p+i,h=[];r.forEach((function(e){h.push(e.value)})),h.push(e,t),h.push(u(p));var f=i>0?1:-1;"unit"===s?h.push(u(p+f*n)):h.push(u(d)),h=h.filter((function(e){return null!==e})).filter((function(e){return i<0?e<=p:e>=p})),"unit"===s&&(h=h.filter((function(e){return e!==p})));var v="unit"===s?p:d;l=h[0];var m=Math.abs(l-v);if(h.forEach((function(e){var t=Math.abs(e-v);t<m&&(l=e,m=t)})),void 0===l)return i<0?e:t;if("dist"===s)return l;if(Math.abs(i)>1){var g=Object(V.a)(a);return g[c]=l,o(g,i-f,c,s)}return l}return"min"===i?e:"max"===i?t:void 0},p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],a=l(e,t,n,r);return{value:a,changed:a!==o}},d=function(e){return null===a&&0===e||"number"===typeof a&&e<a};return[s,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(s),c=i[n],u=l(i,t,n,r);if(i[n]=u,!1===o){var h=a||0;n>0&&i[n-1]!==c&&(i[n]=Math.max(i[n],i[n-1]+h)),n<i.length-1&&i[n+1]!==c&&(i[n]=Math.min(i[n],i[n+1]-h))}else if("number"===typeof a||null===a){for(var f=n+1;f<i.length;f+=1)for(var v=!0;d(i[f]-i[f-1])&&v;){var m=p(i,1,f);i[f]=m.value,v=m.changed}for(var g=n;g>0;g-=1)for(var b=!0;d(i[g]-i[g-1])&&b;){var y=p(i,-1,g-1);i[g-1]=y.value,b=y.changed}for(var w=i.length-1;w>0;w-=1)for(var x=!0;d(i[w]-i[w-1])&&x;){var C=p(i,-1,w-1);i[w-1]=C.value,x=C.changed}for(var O=0;O<i.length-1;O+=1)for(var S=!0;d(i[O+1]-i[O])&&S;){var E=p(i,1,O+1);i[O+1]=E.value,S=E.changed}}return{value:i[n],values:i}}]}(le,de,he,ve,M,fe),ge=Object(Z.a)(me,2),be=ge[0],ye=ge[1],we=Object(Y.a)(w,{value:y}),xe=Object(Z.a)(we,2),Ce=xe[0],Oe=xe[1],Se=i.useMemo((function(){var e=null===Ce||void 0===Ce?[]:Array.isArray(Ce)?Ce:[Ce],t=Object(Z.a)(e,1)[0],n=null===Ce?[]:[void 0===t?le:t];if(x){if(n=Object(V.a)(e),C||void 0===Ce){var r=C>=0?C+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:le)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=be(e)})),n}),[Ce,x,le,C,be]),Ee=i.useRef(Se);Ee.current=Se;var je=function(e){return x?e:e[0]},Me=function(e){var t=Object(V.a)(e).sort((function(e,t){return e-t}));O&&!X()(t,Ee.current)&&O(je(t)),Oe(t)},Re=function(e){if(!s){var t=0,n=de-le;Se.forEach((function(r,o){var a=Math.abs(e-r);a<=n&&(n=a,t=o)}));var r=Object(V.a)(Se);r[t]=e,x&&!Se.length&&void 0===C&&r.push(e),null===S||void 0===S||S(je(r)),Me(r),null===E||void 0===E||E(je(r))}},Pe=i.useState(null),ze=Object(Z.a)(Pe,2),ke=ze[0],Le=ze[1];i.useEffect((function(){if(null!==ke){var e=Se.indexOf(ke);e>=0&&re.current.focus(e)}Le(null)}),[ke]);var _e=i.useMemo((function(){return(!z||null!==he)&&z}),[z,he]),De=function(e,t,n,r,o,a,c,u,s){var l=i.useState(null),p=Object(Z.a)(l,2),d=p[0],h=p[1],f=i.useState(-1),v=Object(Z.a)(f,2),m=v[0],g=v[1],b=i.useState(n),y=Object(Z.a)(b,2),w=y[0],x=y[1],C=i.useState(n),O=Object(Z.a)(C,2),S=O[0],E=O[1],j=i.useRef(null),M=i.useRef(null);i.useEffect((function(){-1===m&&x(n)}),[n,m]),i.useEffect((function(){return function(){document.removeEventListener("mousemove",j.current),document.removeEventListener("mouseup",M.current),document.removeEventListener("touchmove",j.current),document.removeEventListener("touchend",M.current)}}),[]);var R=function(e,t){w.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&h(t),x(e),c(e))},P=function(e,t){if(-1===e){var n=S[0],i=S[S.length-1],c=r-n,u=o-i,l=t*(o-r);l=Math.max(l,c),l=Math.min(l,u);var p=a(n+l);l=p-n;var d=S.map((function(e){return e+l}));R(d)}else{var h=(o-r)*t,f=Object(V.a)(w);f[e]=S[e];var v=s(f,h,e,"dist");R(v.values,v.value)}},z=i.useRef(P);z.current=P;var k=i.useMemo((function(){var e=Object(V.a)(n).sort((function(e,t){return e-t})),t=Object(V.a)(w).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?w:n}),[n,w]);return[m,d,k,function(r,o){r.stopPropagation();var a=n[o];g(o),h(a),E(n);var i=ae(r),c=i.pageX,s=i.pageY,l=function(n){n.preventDefault();var r,a=ae(n),i=a.pageX,u=a.pageY,l=i-c,p=u-s,d=e.current.getBoundingClientRect(),h=d.width,f=d.height;switch(t){case"btt":r=-p/f;break;case"ttb":r=p/f;break;case"rtl":r=-l/h;break;default:r=l/h}z.current(o,r)},p=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",l),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",l),j.current=null,M.current=null,g(-1),u()};document.addEventListener("mouseup",p),document.addEventListener("mousemove",l),document.addEventListener("touchend",p),document.addEventListener("touchmove",l),j.current=l,M.current=p}]}(ie,ue,Se,le,de,be,Me,(function(){null===E||void 0===E||E(je(Ee.current))}),ye),Ne=Object(Z.a)(De,4),Te=Ne[0],Ae=Ne[1],Fe=Ne[2],Ie=Ne[3],We=function(e,t){Ie(e,t),null===S||void 0===S||S(je(Ee.current))},Ze=-1!==Te;i.useEffect((function(){if(!Ze){var e=Se.lastIndexOf(Ae);re.current.focus(e)}}),[Ze]);var He=i.useMemo((function(){return Object(V.a)(Fe).sort((function(e,t){return e-t}))}),[Fe]),Ge=i.useMemo((function(){return x?[He[0],He[He.length-1]]:[le,He[0]]}),[He,x,le]),Ve=Object(Z.a)(Ge,2),Ue=Ve[0],Xe=Ve[1];i.useImperativeHandle(t,(function(){return{focus:function(){re.current.focus(0)},blur:function(){var e=document.activeElement;ie.current.contains(e)&&(null===e||void 0===e||e.blur())}}})),i.useEffect((function(){l&&re.current.focus(0)}),[]);var Ye=i.useMemo((function(){return{min:le,max:de,direction:ue,disabled:s,step:he,included:D,includedStart:Ue,includedEnd:Xe,range:x,tabIndex:Q,ariaLabelForHandle:ee,ariaLabelledByForHandle:te,ariaValueTextFormatterForHandle:ne}}),[le,de,ue,s,he,D,Ue,Xe,x,Q,ee,te,ne]);return i.createElement($.Provider,{value:Ye},i.createElement("div",{ref:ie,className:G()(o,a,(n={},Object(I.a)(n,"".concat(o,"-disabled"),s),Object(I.a)(n,"".concat(o,"-vertical"),L),Object(I.a)(n,"".concat(o,"-horizontal"),!L),Object(I.a)(n,"".concat(o,"-with-marks"),ve.length),n)),style:c,onMouseDown:function(e){e.preventDefault();var t,n=ie.current.getBoundingClientRect(),r=n.width,o=n.height,a=n.left,i=n.top,c=n.bottom,u=n.right,s=e.clientX,l=e.clientY;switch(ue){case"btt":t=(c-l)/o;break;case"ttb":t=(l-i)/o;break;case"rtl":t=(u-s)/r;break;default:t=(s-a)/r}Re(be(le+t*(de-le)))}},i.createElement("div",{className:"".concat(o,"-rail"),style:W}),i.createElement(ce,{prefixCls:o,style:T,values:He,startPoint:N,onStartMove:_e?We:null}),i.createElement(pe,{prefixCls:o,marks:ve,dots:q,style:H,activeStyle:U}),i.createElement(oe,{ref:re,prefixCls:o,style:A,values:Fe,draggingIndex:Te,onStartMove:We,onOffsetChange:function(e,t){if(!s){var n=ye(Se,e,t);null===S||void 0===S||S(je(Se)),Me(n.values),null===E||void 0===E||E(je(n.values)),Le(n.value)}},onFocus:p,onBlur:d,handleRender:J}),i.createElement(se,{prefixCls:o,marks:ve,onClick:Re})))})),he=n(67),fe=n(24),ve=n(35),me=n(118),ge=i.forwardRef((function(e,t){var n=e.open,r=Object(i.useRef)(null),o=Object(i.useRef)(null);function a(){fe.a.cancel(o.current),o.current=null}return i.useEffect((function(){return n?o.current=Object(fe.a)((function(){var e;null===(e=r.current)||void 0===e||e.forcePopupAlign(),o.current=null})):a(),a}),[n,e.title]),i.createElement(me.a,Object(W.a)({ref:Object(ve.a)(r,t)},e))})),be=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var ye=i.forwardRef((function(e,t){var n=i.useContext(he.b),r=n.getPrefixCls,o=n.direction,a=n.getPopupContainer,c=i.useState({}),u=Object(Z.a)(c,2),s=u[0],l=u[1],p=function(e,t){l((function(n){return Object(W.a)(Object(W.a)({},n),Object(I.a)({},e,t))}))},d=function(e,t){return e||(t?"rtl"===o?"left":"right":"top")},h=e.prefixCls,f=e.range,v=e.className,m=be(e,["prefixCls","range","className"]),g=r("slider",h),b=G()(v,Object(I.a)({},"".concat(g,"-rtl"),"rtl"===o));"rtl"!==o||m.vertical||(m.reverse=!m.reverse);var y=i.useMemo((function(){return f?"object"===Object(F.a)(f)?[!0,f.draggableTrack]:[!0,!1]:[!1]}),[f]),w=Object(Z.a)(y,2),x=w[0],C=w[1];return i.createElement(de,Object(W.a)({},m,{step:m.step,range:x,draggableTrack:C,className:b,ref:t,prefixCls:g,handleRender:function(t,n){var o,c=n.index,u=n.dragging,l=r(),h=e.tooltip,f=void 0===h?{}:h,v=e.vertical,m=Object(W.a)({formatter:null!==(o=e.tipFormatter)&&void 0!==o?o:function(e){return"number"===typeof e?e.toString():""},open:e.tooltipVisible,placement:e.tooltipPlacement,getPopupContainer:e.getTooltipPopupContainer},f),b=m.open,y=m.placement,w=m.getPopupContainer,x=m.prefixCls,C=m.formatter,O=!!C&&(s[c]||u),S=b||void 0===b&&O,E=Object(W.a)(Object(W.a)({},t.props),{onMouseEnter:function(){return p(c,!0)},onMouseLeave:function(){return p(c,!1)}}),j=r("tooltip",x);return i.createElement(ge,{prefixCls:j,title:C?C(n.value):"",open:S,placement:d(y,v),transitionName:"".concat(l,"-zoom-down"),key:c,overlayClassName:"".concat(g,"-tooltip"),getPopupContainer:w||a},i.cloneElement(t,E))}}))}));function we(){we=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),c=new E(o||[]);return r(i,"_invoke",{value:x(e,n,c)}),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=s;var p={};function d(){}function h(){}function f(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==t&&n.call(g,a)&&(v=g);var b=f.prototype=d.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;r(this,"_invoke",{value:function(r,a){function i(){return new t((function(o,i){!function r(o,a,i,c){var u=l(e[o],e,a);if("throw"!==u.type){var s=u.arg,p=s.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(p).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}(r,a,o,i)}))}return o=o?o.then(i,i):i()}})}function x(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return M()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=C(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=u(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var xe="img-crop",Ce=Object(i.forwardRef)((function(e,t){var n=e.cropperRef,o=e.image,c=e.aspect,u=e.shape,s=e.grid,l=e.zoom,p=e.rotate,d=e.minZoom,h=e.maxZoom,f=e.cropperProps,v=Object(i.useState)({x:0,y:0}),m=Object(r.a)(v,2),g=m[0],b=m[1],y=Object(i.useState)({width:0,height:0}),w=Object(r.a)(y,2),x=w[0],C=w[1],O=Object(i.useState)(1),S=Object(r.a)(O,2),E=S[0],j=S[1],M=Object(i.useState)(0),R=Object(r.a)(M,2),P=R[0],z=R[1],k=Object(i.useRef)({width:0,height:0,x:0,y:0}),L=Object(i.useCallback)((function(e){var t=e.width,n=e.height,r=n*c;C(t>r?{width:r,height:n}:{width:t,height:t/c})}),[c]),_=Object(i.useCallback)((function(e,t){k.current=t}),[]);return Object(i.useImperativeHandle)(t,(function(){return{rotateVal:P,setZoomVal:j,setRotateVal:z,cropPixelsRef:k}})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(A,Object.assign({},f,{ref:n,image:o,crop:g,cropSize:x,onCropChange:b,aspect:c,cropShape:u,showGrid:s,zoomWithScroll:l,zoom:E,rotation:P,onZoomChange:j,onRotationChange:z,minZoom:d,maxZoom:h,onMediaLoaded:L,onCropComplete:_,classes:{containerClassName:"".concat(xe,"-container"),mediaClassName:"".concat(xe,"-media")}})),l&&Object(a.jsxs)("section",Object.assign({className:"".concat(xe,"-control ").concat(xe,"-control-zoom")},{children:[Object(a.jsx)("button",Object.assign({onClick:function(){return j(E-.1)},disabled:E-.1<d},{children:"\uff0d"})),Object(a.jsx)(ye,{min:d,max:h,step:.1,value:E,onChange:j}),Object(a.jsx)("button",Object.assign({onClick:function(){return j(E+.1)},disabled:E+.1>h},{children:"\uff0b"}))]})),p&&Object(a.jsxs)("section",Object.assign({className:"".concat(xe,"-control ").concat(xe,"-control-rotate")},{children:[Object(a.jsx)("button",Object.assign({onClick:function(){return z(P-1)},disabled:-180===P},{children:"\u21ba"})),Object(a.jsx)(ye,{min:-180,max:180,step:1,value:P,onChange:z}),Object(a.jsx)("button",Object.assign({onClick:function(){return z(P+1)},disabled:180===P},{children:"\u21bb"}))]}))]})})),Oe=Object(i.memo)(Ce);!function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");t.setAttribute("media","screen"),t.innerHTML=e,document.head.appendChild(t)}}(".img-crop-modal .img-crop-container {\n  position: relative;\n  width: 100%;\n  height: 40vh;\n}\n.img-crop-modal .img-crop-control {\n  display: flex;\n  align-items: center;\n  width: 60%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.img-crop-modal .img-crop-control:first-of-type {\n  margin-top: 16px;\n}\n.img-crop-modal .img-crop-control:last-of-type {\n  margin-bottom: -8px;\n}\n.img-crop-modal .img-crop-control button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 34px;\n  height: 34px;\n  padding: 0;\n  font-style: normal;\n  background: transparent;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n}\n.img-crop-modal .img-crop-control button[disabled] {\n  cursor: default;\n}\n.img-crop-modal .img-crop-control button + div:only-of-type {\n  flex: 1;\n  margin: 0 8px;\n}\n.img-crop-modal .img-crop-control-zoom button {\n  font-size: 18px;\n}\n.img-crop-modal .img-crop-control-rotate button {\n  font-size: 16px;\n}\n.img-crop-modal .img-crop-control-rotate button:first-of-type {\n  transform: rotate(-20deg);\n}\n.img-crop-modal .img-crop-control-rotate button:last-of-type {\n  transform: rotate(20deg);\n}\n");var Se=-1===p("4.24.5","4.23.0")?{visible:!0}:{open:!0},Ee=Object(i.forwardRef)((function(e,t){var n=e.aspect,c=void 0===n?1:n,p=e.shape,d=void 0===p?"rect":p,h=e.grid,f=void 0!==h&&h,v=e.quality,m=void 0===v?.4:v,g=e.fillColor,b=void 0===g?"white":g,y=e.zoom,w=void 0===y||y,x=e.rotate,C=void 0!==x&&x,O=e.minZoom,S=void 0===O?1:O,E=e.maxZoom,j=void 0===E?3:E,M=e.modalTitle,R=e.modalWidth,P=e.modalOk,z=e.modalCancel,k=e.modalMaskTransitionName,L=e.modalTransitionName,_=e.modalClassName,D=e.onModalOk,N=e.onModalCancel,T=e.beforeCrop,A=e.onUploadFail,F=e.cropperProps,I=e.children,W=Object(i.useRef)({});W.current.onModalOk=D,W.current.onModalCancel=N,W.current.beforeCrop=T,W.current.onUploadFail=A;var Z=Object(i.useState)(""),H=Object(r.a)(Z,2),G=H[0],V=H[1],U=Object(i.useRef)({}),X=Object(i.useRef)(),Y=Object(i.useRef)((function(){})),B=Object(i.useRef)((function(){})),q=Object(i.useMemo)((function(){var e=Array.isArray(I)?I[0]:I,t=e.props,n=t.beforeUpload,r=t.accept,a=Object(o.e)(t,["beforeUpload","accept"]);return X.current=n,Object.assign(Object.assign({},e),{props:Object.assign(Object.assign({},a),{accept:r||"image/*",beforeUpload:function(e,t){return new Promise((function(n,r){return Object(o.b)(void 0,void 0,void 0,we().mark((function o(){var a;return we().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!W.current.beforeCrop){o.next=6;break}return o.next=3,W.current.beforeCrop(e,t);case 3:if(o.sent){o.next=6;break}return o.abrupt("return",r());case 6:U.current=e,Y.current=function(e){var t,r;null===(r=(t=W.current).onModalOk)||void 0===r||r.call(t,e),n(e)},B.current=function(e){var t,n;null===(n=(t=W.current).onUploadFail)||void 0===n||n.call(t,e),r()},(a=new FileReader).addEventListener("load",(function(){"string"===typeof a.result&&V(a.result)})),a.readAsDataURL(e);case 12:case"end":return o.stop()}}),o)})))}))}})})}),[I]),J=Object(i.useRef)({}),$=Object(i.useMemo)((function(){var e={width:R,okText:P,cancelText:z,maskTransitionName:k,transitionName:L};return Object.keys(e).forEach((function(t){var n=t;void 0===e[n]&&delete e[n]})),e}),[z,k,P,L,R]),K=function(){V(""),J.current.setZoomVal(1),J.current.setRotateVal(0)},Q=Object(i.useCallback)((function(){var e,t;null===(t=(e=W.current).onModalCancel)||void 0===t||t.call(e),K()}),[]),ee=Object(i.useCallback)((function(e){return Object(o.b)(void 0,void 0,void 0,we().mark((function t(){var n,r,a,i,c,u,s,p,d,h,f,v,g,y,w,x,O,S,E,j,M,R,P,z,k,L,_;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(),r=document.createElement("canvas"),a=r.getContext("2d"),i=e.target,c=(null===(n=null===i||void 0===i?void 0:i.getRootNode)||void 0===n?void 0:n.call(i))||document,u=c.querySelector(".".concat(xe,"-media")),s=J.current.cropPixelsRef.current,p=s.width,d=s.height,h=s.x,f=s.y,C&&0!==J.current.rotateVal?(v=u.naturalWidth,g=u.naturalHeight,y=J.current.rotateVal*(Math.PI/180),w=Math.abs(Math.sin(y)),x=Math.abs(Math.cos(y)),O=v*x+g*w,S=g*x+v*w,r.width=O,r.height=S,a.fillStyle=b,a.fillRect(0,0,O,S),E=O/2,j=S/2,a.translate(E,j),a.rotate(y),a.translate(-E,-j),M=(O-v)/2,R=(S-g)/2,a.drawImage(u,0,0,v,g,M,R,v,g),P=a.getImageData(0,0,O,S),r.width=p,r.height=d,a.putImageData(P,-h,-f)):(r.width=p,r.height=d,a.fillStyle=b,a.fillRect(0,0,p,d),a.drawImage(u,h,f,p,d,0,0,p,d)),z=U.current,k=z.type,L=z.name,_=z.uid,r.toBlob((function(e){return Object(o.b)(void 0,void 0,void 0,we().mark((function t(){var n,r,o;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object.assign(new File([e],L,{type:k}),{uid:_}),X.current){t.next=3;break}return t.abrupt("return",Y.current(n));case 3:return r=n,t.next=6,X.current(r,[r]);case 6:if(!0!==(o=t.sent)){t.next=9;break}return t.abrupt("return",Y.current(n));case 9:if(!1!==o){t.next=11;break}return t.abrupt("return",B.current(new Error("beforeUpload return false")));case 11:if(delete n[l.a.LIST_IGNORE],o!==l.a.LIST_IGNORE){t.next=15;break}return Object.defineProperty(n,l.a.LIST_IGNORE,{value:!0,configurable:!0}),t.abrupt("return",B.current(new Error("beforeUpload return LIST_IGNORE")));case 15:if("object"!==typeof o||null===o){t.next=17;break}return t.abrupt("return",Y.current(o));case 17:case"end":return t.stop()}}),t)})))}),k,m);case 10:case"end":return t.stop()}}),t)})))}),[b,m,C]),te=function(e){return Object(a.jsxs)(a.Fragment,{children:[q,G&&Object(a.jsx)(s.a,Object.assign({},Se,{wrapClassName:"".concat(xe,"-modal ").concat(_||""),title:e,onOk:ee,onCancel:Q,maskClosable:!1,destroyOnClose:!0},$,{children:Object(a.jsx)(Oe,{ref:J,cropperRef:t,image:G,aspect:c,shape:d,grid:f,zoom:w,rotate:C,minZoom:S,maxZoom:j,cropperProps:F})}))]})};return M?te(M):Object(a.jsx)(u.a,{children:function(e,t){return te("zh-cn"===t?"\u7f16\u8f91\u56fe\u7247":"Edit image")}})}))}}]);