(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[38],{659:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,s,r,i=n(8),l=n(16),o={GET_CONTACT_US_MSG_LIST:Object(l.d)(a||(a=Object(i.a)(["\n    query getContactUsMsgList {\n        getContactUsMsgList{\n          message\n          status\n          tenant_id\n          data {\n            id\n            name\n            email\n            phone\n            subject\n            message\n            tenant_id\n            images {\n              id\n              image\n              tenant_id\n            }\n          }\n        }\n      }\n    "]))),GET_SINGLE_CONTACT_US_MSG:Object(l.d)(s||(s=Object(i.a)(["\n    query getSingleContactUsMsg($query: GetSingleContactMessageInput) {\n      getSingleContactUsMsg(query: $query) {\n        message\n        status\n        data {\n          id\n          name\n          email\n          phone\n          subject\n          message\n          images {\n            id\n            image\n          }\n        }\n      }\n    }\n    "]))),GET_CONTACT_US_UNREAD_MSG_LIST:Object(l.d)(r||(r=Object(i.a)(["\n    query getContactUsUnreadMsgList {\n      getContactUsUnreadMsgList{\n        message\n        status\n        data {\n          id\n          name\n          email\n          phone\n          subject\n          message\n          isRead\n          images {\n            id\n            image\n          }\n        }\n      }\n    }\n    \n    "])))}},976:function(e,t,n){"use strict";n.r(t);n(200);var a=n(97),s=(n(201),n(74)),r=(n(150),n(77)),i=(n(148),n(45)),l=(n(166),n(98)),o=n(9),c=n(23),u=n(0),d=n.n(u),m=n(217),g=n(165),p=n(164),b=n(126),f=n.n(b),C=n(192),E=n(135),_=n(71),j=n(68),h=n.n(j),v=n(22),S=n(659),U=n(12),O=n(76);t.default=function(){Object(v.f)("customer-group");var e=Object(u.useState)({data:[],isLoading:!0}),t=Object(c.a)(e,2),n=t[0],b=t[1],j=Object(u.useState)([]),T=Object(c.a)(j,2),y=T[0],M=T[1],x=Object(u.useState)(""),I=Object(c.a)(x,2),L=I[0],N=I[1],G=[{title:"ID",dataIndex:"id",key:"id",sorter:function(e,t){return e.id>t.id?1:-1}},{title:"Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}},{title:"Email",dataIndex:"email",key:"email",render:function(e){return d.a.createElement("a",{href:"tel:".concat(e)},e)},sorter:function(e,t){return e.email.toUpperCase()>t.email.toUpperCase()?1:-1}},{title:"Phone",dataIndex:"phone",key:"phone",sorter:function(e,t){return e.phone.toUpperCase()>t.phone.toUpperCase()?1:-1}},{title:"Subject",dataIndex:"subject",key:"subject",ellipsis:!0,sorter:function(e,t){return e.subject.toUpperCase()>t.subject.toUpperCase()?1:-1}},{title:"Message",dataIndex:"message",key:"message",ellipsis:!0,render:function(e){return d.a.createElement("p",{style:{maxWidth:"250px",whiteSpace:"normal"}},e)},sorter:function(e,t){return e.message.toUpperCase()>t.message.toUpperCase()?1:-1}},{title:"View",dataIndex:"id",width:70,align:"right",render:function(e,t){return d.a.createElement(d.a.Fragment,null,d.a.createElement(U.b,{to:"/admin/supports/message?id=".concat(e)},d.a.createElement(f.a,{name:"eye",style:{margin:".5em 1em"}})))},key:"id"}];Object(u.useEffect)((function(){_.j.query({query:S.a.GET_CONTACT_US_MSG_LIST,context:{headers:{TENANTID:"100001",Authorization:h.a.get("psp_t")}}}).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getContactUsMsgList;if(!(null===n||void 0===n?void 0:n.status))return Object(O.a)();b((function(e){return Object(o.a)(Object(o.a)({},e),{},{data:null===n||void 0===n?void 0:n.data,error:""})}))})).finally((function(){b((function(e){return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1})}))}))}),[]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,{title:"Messages"}),d.a.createElement(g.b,null,d.a.createElement(a.a,{gutter:25},d.a.createElement(s.a,{sm:24,xs:24},d.a.createElement(p.a,{headless:!0},n.isLoading?d.a.createElement("div",{className:"spin"},d.a.createElement(l.a,null)):d.a.createElement(d.a.Fragment,null,d.a.createElement(i.a,{placeholder:"Search Message...",prefix:d.a.createElement(C.a,null),onChange:function(e){var t=e.target.value;N(t),M(n.data.filter((function(e){return((null===e||void 0===e?void 0:e.email)+(null===e||void 0===e?void 0:e.message)+(null===e||void 0===e?void 0:e.name)+(null===e||void 0===e?void 0:e.phone)+(null===e||void 0===e?void 0:e.subject)).toLowerCase().includes(t.toLowerCase())})))}}),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("span",{className:"psp_list"},d.a.createElement(r.a,{scroll:{x:"max-content"},className:"table-responsive",columns:G,rowKey:"id",size:"small",dataSource:L?y:n.data,rowClassName:function(e,t){return t%2===0?"":"altTableClass"},pagination:{defaultPageSize:E.a.CONTACT_US_MESSAGE_PER_PAGE,total:L?y.length:n.data.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}}))))))))}}}]);