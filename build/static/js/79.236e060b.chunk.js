(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[79],{912:function(e,a,t){"use strict";t.r(a);t(200);var l=t(97),n=(t(201),t(74)),r=(t(148),t(45)),i=(t(376),t(220)),s=(t(288),t(69)),m=t(9),c=(t(289),t(52)),o=t(23),u=t(0),d=t.n(u),f=t(164),E=t(287),b=t(165),p=t(55),v=t(50),_=t(71),g=t(68),O=t.n(g),j=t(12),h=t(926),P=t(223),U=t(136);a.default=function(){var e=c.a.useForm(),a=(Object(o.a)(e,1)[0],Object(v.d)((function(e){return e.auth.user}))),t=Object(u.useState)(!1),g=Object(o.a)(t,2),L=g[0],I=g[1],N=Object(u.useState)({}),y=Object(o.a)(N,2),A=y[0],F=y[1],S=Object(v.c)();return d.a.createElement(f.a,{title:d.a.createElement("div",{className:"setting-card-title"},d.a.createElement(p.a,{as:"h4"},"Edit Profile"),d.a.createElement("span",null,"Set Up Your Personal Information"))},d.a.createElement(l.a,{justify:"center"},d.a.createElement(n.a,{xl:12,lg:16,xs:24},d.a.createElement(b.a,null,d.a.createElement(c.a,{labelCol:{span:6},name:"editProfile",onFinish:function(e){I(!0);var t={data:Object(m.a)(Object(m.a)({},e),{},{uid:a.uid,sendEmail:!0})};console.log(t),A.file&&(t.file=A.file),_.a.mutate({mutation:_.d.ADMIN_UPDATE,variables:t,context:{headers:{TENANTID:"100001",Authorization:O.a.get("psp_t")}}}).then((function(t){var l,n,r,i;if(!(null===t||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.adminUpdate)||void 0===n?void 0:n.status))return s.b.error(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(i=r.adminUpdate)||void 0===i?void 0:i.message);s.b.success(U.a.PROFILE_UPDATE_SUCCESS);var c=e.first_name,o=e.last_name;S(Object(P.a)(Object(m.a)(Object(m.a)({},a),{},{first_name:c,last_name:o})))})).finally((function(){I(!1)}))}},d.a.createElement(c.a.Item,{label:"Photo"},d.a.createElement("p",null,d.a.createElement(h.a,{rotate:!0},d.a.createElement(i.a,{listType:"picture-card",beforeUpload:function(e){console.log(e);var a="image/jpeg"===e.type;if(!a)return s.b.error(U.a.ONLY_JPG_FILE_UPLOAD);var t=e.size/1024/1024<2;return t?(a&&t&&F({file:e,thumbnail:URL.createObjectURL(e)}),!1):s.b.error(U.a.FILE_MAX_2MB)},onPreview:function(){return console.log()},onRemove:function(){return F({})},fileList:A.file?[{file:A.file,url:A.thumbnail}]:[]},!A.file&&"+ Upload")))),d.a.createElement(c.a.Item,{label:"Email"},d.a.createElement("p",null," ",a.email)),d.a.createElement(c.a.Item,{name:"first_name",initialValue:a.first_name,label:"First Name",rules:[{required:!0,max:30,message:"Please enter First Name"}]},d.a.createElement(r.a,null)),d.a.createElement(c.a.Item,{name:"last_name",initialValue:a.last_name,label:"Last Name",rules:[{required:!0,message:"Please enter Last Name"}]},d.a.createElement(r.a,null)),d.a.createElement("div",{className:"setting-form-actions"},d.a.createElement(E.a,{size:"default",htmlType:"submit",type:"primary",loading:L},L?"Processing":"Update Profile"),"\xa0 \xa0",d.a.createElement(j.b,{to:"/admin"},d.a.createElement(E.a,{style:{marginLeft:10},type:"light",size:"default"},"Cancel"))))))))}}}]);