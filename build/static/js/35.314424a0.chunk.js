(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[35],{906:function(e,t,a){"use strict";a.r(t);a(127);var n,r=a(67),i=(a(128),a(45)),o=(a(189),a(88)),l=(a(109),a(31)),s=(a(188),a(110)),c=a(11),d=a(22),m=a(0),u=a.n(m),p=a(21),f=a.n(p),_=a(152),E=a(130),g=a(129),v=a(187),h=a(12),b=a(119),y=a.n(b),O=a(182),j=a(131),w=a(47),A=(a(50),a(33)),C=a(46),x=a(9),S=a(19),k={GET_ALL_ORDER:Object(S.d)(n||(n=Object(x.a)(["\n    query getOrderlistAdmin {\n      getOrderlistAdmin {\n        message\n        tenant_id\n        status\n        data {\n          id\n          total\n          sub_total\n          shipping_cost\n          discount_amount\n          tax_amount\n          tax_exempt\n          createdAt\n          updatedAt\n          customer {\n            id\n            first_name\n            last_name\n            email\n            email_verified\n            user_status\n            image\n          }\n          payment {\n            id\n            name\n            slug\n            description\n            status\n          }\n          orderStatus {\n            id\n            name\n            slug\n            description\n            status\n          }\n        }\n      }\n    }\n  "])))},I=a(293),U=a.n(I);t.default=function(){Object(A.b)("order");var e=Object(m.useState)({data:[],loading:!0,error:""}),t=Object(d.a)(e,2),a=t[0],n=t[1],p=Object(m.useState)([]),b=Object(d.a)(p,2),x=b[0],S=b[1],I=Object(m.useState)(!1),N=Object(d.a)(I,2),D=N[0],L=N[1],P=Object(C.d)((function(e){return e.auth.token}));Object(m.useEffect)((function(){n((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!0})})),w.j.query({query:k.GET_ALL_ORDER,context:{headers:{TENANTID:"100001",Authorization:P}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getOrderlistAdmin;if(a.status){var r=[];a.data.forEach((function(e){var t,a=e.customer,n=e.id,i=e.createdAt,o=e.orderStatus,l=e.payment,s=e.total;r.push({id:n,customer_name:a.first_name,customer_email:a.email,createdAt:i,orderStatus:o.name,payment_name:null!==(t=null===l||void 0===l?void 0:l.name)&&void 0!==t?t:"No Payment Method",total:s})})),n((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:r,error:""})}))}})).catch((function(e){n((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){n((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))}))}),[]);var R=[{title:"Order Id",dataIndex:"id",key:"id",width:100,ellipsis:!0,sorter:function(e,t){return e.id.toUpperCase()>t.id.toUpperCase()?1:-1}},{title:"Customer",dataIndex:"customer_name",key:"customer_name",width:150,sorter:function(e,t){return e.customer_name.toUpperCase()>t.customer.first_name.toUpperCase()?1:-1}},{title:"Customer Email",dataIndex:"customer_email",key:"customer_email",width:200,ellipsis:!0,sorter:function(e,t){return e.customer_email.toUpperCase()>t.customer.customer_email.toUpperCase()?1:-1}},{title:"Total Amount",dataIndex:"total",key:"total",width:120,render:function(e){return"$".concat(e)},sorter:function(e,t){return e.total.toUpperCase()>t.total.toUpperCase()?1:-1}},{title:"Payment Method",dataIndex:"payment_name",key:"payment_name",width:150,sorter:function(e,t){return e.payment_name.toUpperCase()>t.payment_name.toUpperCase()?1:-1}},{title:"Date",dataIndex:"createdAt",key:"createdAt",align:"center",width:150,render:function(e,t){return u.a.createElement("span",{className:"status-text"},u.a.createElement(U.a,{format:"DD MMMM YYYY"},parseInt(e)))}},{title:"View",dataIndex:"id",width:70,align:"right",key:"id",render:function(e,t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(h.b,{to:"/admin/order/view?id=".concat(e)},u.a.createElement(y.a,{name:"eye",style:{margin:".5em 1em"}})))}},{title:"Action",dataIndex:"action",width:70,align:"right",key:"last_name",render:function(e,t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(h.b,{to:"/admin/order/add?id=".concat(e)},u.a.createElement(y.a,{name:"edit",style:{margin:".5em 1em"}})))}}];return u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{title:"List Orders",buttons:[u.a.createElement("div",{key:"1",className:"page-header-actions"},u.a.createElement(v.a,{size:"small",title:"Add Order",type:"primary"},u.a.createElement(f.a,{icon:"user-plus"})))]}),u.a.createElement(E.b,null,u.a.createElement(r.a,{gutter:25},u.a.createElement(i.a,{sm:24,xs:24},u.a.createElement(g.a,{headless:!0},a.loading?u.a.createElement("div",{className:"spin"},u.a.createElement(s.a,null)):u.a.createElement(u.a.Fragment,null,u.a.createElement(l.a,{placeholder:"Search Orders..",prefix:u.a.createElement(O.a,null),onChange:function(e){var t=e.target.value;L(t),S(a.data.filter((function(e){return((null===e||void 0===e?void 0:e.id)+(null===e||void 0===e?void 0:e.customer_name)+(null===e||void 0===e?void 0:e.customer_email)+(null===e||void 0===e?void 0:e.orderStatus)+(null===e||void 0===e?void 0:e.payment_name)+(null===e||void 0===e?void 0:e.total)).toLowerCase().includes(t.toLowerCase())})))}}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("span",{className:"psp_list"},u.a.createElement(o.a,{className:"table-responsive",columns:R,rowKey:"g_s",size:"small",dataSource:D?x:a.data,rowClassName:function(e,t){return t%2==0?"":"altTableClass"},pagination:{defaultPageSize:j.a.ORDER_PER_PAGE,total:D?x.length:a.data.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}}))))))))}}}]);