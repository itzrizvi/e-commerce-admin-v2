(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[19],{1025:function(e,t,a){"use strict";a.r(t);a(202);var n=a(64),r=(a(303),a(217)),l=(a(143),a(68)),i=(a(144),a(52)),o=(a(132),a(74)),d=a(60),u=a(7),c=(a(201),a(27)),s=a(14),m=(a(145),a(30)),p=(a(115),a(39)),_=a(0),v=a.n(_),b=a(120),g=a(101),f=a(99),E=a(100),h=a(760),y=a.n(h),O=a(761),j=a.n(O),P=(a(133),a(71)),I=(a(365),a(220)),w=(a(93),a(44)),S=a(84),T=a(968),A=a(19),k=a.n(A),x=a(28),L=a(72),C=a.n(L),D=m.a.Option,N=function(e){var t=e.attributesTableData,a=e.setAttributesTableData,n=Object(_.useState)({}),r=Object(s.a)(n,2),l=(r[0],r[1]),i=Object(_.useState)({data:[],isLoading:!0}),o=Object(s.a)(i,2),d=o[0],c=o[1],b=Object(_.useState)({}),g=Object(s.a)(b,2),f=(g[0],g[1]);Object(_.useEffect)((function(){x.j.query({query:x.c.GET_ALL_ATTR_GROUPS_FOR_ADD_PROD,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllAttrGroups;(null===a||void 0===a?void 0:a.status)&&c((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){c((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){c((function(e){return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1})}))}))}));var E=[{title:"Attribute Group",dataIndex:"attr_group_id",key:"attr_group_id",width:200,render:function(e,t,n){return v.a.createElement(m.a,{style:{width:"100%"},placeholder:d.isLoading?"Loading...":"Select Group...",defaultValue:e,options:d.data.map((function(e){return{label:e.attr_group_name,value:e.id,attributes:e.attributes}})),onSelect:function(e,t){return function(e,t,n){f(t),a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{attr_group_id:e}),r}))}(e,t,n)}})}},{title:"Attribute",dataIndex:"attribute_id",key:"attribute_id",width:200,render:function(e,t,n){var r,l;return v.a.createElement(m.a,{style:{width:"100%"},defaultValue:e,placeholder:d.isLoading?"Loading...":"Select Attribute...",options:null===d||void 0===d||null===(r=d.data.filter((function(e){return e.id===t.attr_group_id}))[0])||void 0===r||null===(l=r.attributes)||void 0===l?void 0:l.map((function(e){return{label:e.attribute_name,value:e.id}})),onSelect:function(e,t){return function(e,t,n){a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{attribute_id:e}),r}))}(e,0,n)}})}},{title:"Value Type",dataIndex:"value",width:80,key:"value",render:function(e,t,n){return v.a.createElement(m.a,{style:{width:"10em",marginRight:"1em"},placeholder:"Select type",defaultValue:t.attribute_type,onChange:function(e){a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{attribute_type:e}),r}))}},v.a.createElement(D,{value:"text"},"Text"),v.a.createElement(D,{value:"link"},"Link"),v.a.createElement(D,{value:"file"},"File"),v.a.createElement(D,{value:"none"},"None"))}},{title:"Attribute Value",dataIndex:"attribute_value",width:150,key:"attribute_value",render:function(e,t,n){return"text"===t.attribute_type?v.a.createElement(p.a,{placeholder:"Enter text",size:"large",onBlur:function(e){a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{attribute_value:e.target.value}),r}))},defaultValue:t.attribute_value}):"link"===t.attribute_type?v.a.createElement(p.a,{placeholder:"Enter Link",size:"large",onBlur:function(e){a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{attribute_value:e.target.value}),r}))},defaultValue:t.attribute_value}):"file"===t.attribute_type?v.a.createElement(I.a,{multiple:!1,onChange:function(e){l(e.file),a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{attribute_value:e.file.originFileObj}),r}))},onRemove:function(){return l({})}},v.a.createElement(w.a,{icon:v.a.createElement(T.a,null)},"Select File"),v.a.createElement("p",{style:{fontSize:12,marginTop:10}},t.attribute_value.name?"".concat(t.attribute_value.name):"".concat(t.attribute_value,".pdf"))):void 0}},{title:"Action",dataIndex:"action",key:"action",width:90,align:"right",render:function(e,t){return v.a.createElement(w.a,{size:"",title:"Remove",type:"danger",onClick:function(){return e=t.id,void a((function(t){return t.filter((function(t){return t.id!==e}))}));var e}},v.a.createElement(k.a,{icon:"minus",size:15}))}}];return v.a.createElement(v.a.Fragment,null,v.a.createElement(P.a,{columns:E,dataSource:t,pagination:!1,rowKey:"attribute_value"}),v.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px",marginRight:"1em"}},v.a.createElement(w.a,{title:"Add Attribute",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),attr_group_id:"",attribute_id:"",attribute_type:"",attribute_value:""};a((function(t){return[].concat(Object(S.a)(t),[e])}))}},v.a.createElement(k.a,{icon:"plus",size:15}))))},q=(a(632),a(642)),R=a(368),B=a.n(R),V=function(e){var t=e.discount,a=e.setDiscount,n=Object(_.useState)({data:[],isLoading:!0}),r=Object(s.a)(n,2),l=r[0],i=r[1];Object(_.useEffect)((function(){x.j.query({query:x.i.GET_ALL_CUSTOMER_GROUPS,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllCustomerGroups;(null===a||void 0===a?void 0:a.status)&&i((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){i((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){i((function(e){return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1})}))}))}));var o=[{title:"Customer Group",dataIndex:"customer_group_id",key:"customer_group_id",render:function(e,t,n){var r;return v.a.createElement(m.a,{style:{width:"150px"},placeholder:l.isLoading?"Loading..":"customer group",defaultValue:e||null,onSelect:function(e){a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{customer_group_id:e}),console.log(r),r}))}},null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.map((function(e){return v.a.createElement(m.a.Option,{key:e.id,value:e.id},e.customer_group_name)})))}},{title:"Quantity",dataIndex:"discount_quantity",key:"discount_quantity",width:100,render:function(e,t,n){return v.a.createElement(p.a,{defaultValue:e,type:"number",placeholder:"Quantity",style:{width:"100px"},onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{discount_quantity:e.target.value}),console.log(r),r}))}})}},{title:"Priority",dataIndex:"discount_priority",key:"discount_priority",width:100,render:function(e,t,n){return v.a.createElement(p.a,{type:"number",placeholder:"Priority",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{discount_priority:e.target.value}),console.log(r),r}))}})}},{title:"Price",dataIndex:"discount_price",key:"discount_price",width:100,render:function(e,t,n){return v.a.createElement(p.a,{type:"number",placeholder:"Price",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(S.a)(t);return r[n]=Object(u.a)(Object(u.a)({},a),{},{discount_price:e.target.value}),console.log(r),r}))}})}},{title:"Date Start",dataIndex:"discount_startdate",key:"discount_startdate",render:function(e,t,n){return v.a.createElement(q.a,{defaultValue:e&&B()(parseInt(e)),onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],r=Object(S.a)(e);return r[n]=Object(u.a)(Object(u.a)({},a),{},{discount_startdate:t}),console.log(r),r}))}})}},{title:"Date End",dataIndex:"discount_enddate",key:"discount_enddate",render:function(e,t,n){return v.a.createElement(q.a,{defaultValue:e&&B()(parseInt(e)),onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],r=Object(S.a)(e);return r[n]=Object(u.a)(Object(u.a)({},a),{},{discount_enddate:t}),console.log(r),r}))}})}},{title:"Action",dataIndex:"action",key:"action",render:function(e,t){return v.a.createElement(w.a,{size:"",title:"Remove",type:"danger",onClick:function(){return d(t.id)}},v.a.createElement(k.a,{icon:"minus"}))}}],d=function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))};return v.a.createElement(v.a.Fragment,null,v.a.createElement(P.a,{className:"table-responsive",columns:o,pagination:!1,rowKey:"id",size:"small",dataSource:t}),v.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px"}},v.a.createElement(w.a,{title:"Add Banner",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),customer_group_id:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""};a((function(t){return[].concat(Object(S.a)(t),[e])}))},style:{marginRight:".5em"}},v.a.createElement(k.a,{icon:"plus"}))))},G=a(762),U=a.n(G),F=a(33),M=a(1031),z=function(e){var t=e.featuresImage,a=e.setFeaturesImage,n=e.gallaryImages,r=e.setGallaryImages,l=e.singleProdId,i=e.setIsLoading;return v.a.createElement(v.a.Fragment,null,v.a.createElement(c.a.Item,{label:"Features Image"},v.a.createElement(I.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){var t="image/jpeg"===e.type;if(!t)return F.b.error("You can only upload JPG file!");var n=e.size/1024/1024<2;return n?(t&&n&&(a({file:e,thumbnail:URL.createObjectURL(e)}),l&&(i(!0),x.a.mutate({mutation:x.k.UPDATE_THUMBNAIL,variables:{data:{prod_id:l,prod_thumbnail:e}},context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updateThumbnail;if(!a.status)return F.b.error(a.message);F.b.success(a.message)})).catch((function(e){return console.log("update thumbnail err:\n",e),F.b.error("Something Went wrong !!")})).finally((function(){})))),!1):F.b.error("Image must smaller than 2MB!")},onPreview:function(){return console.log()},onRemove:function(){return a({})},fileList:t.thumbnail?[{file:t.file,url:t.thumbnail}]:[]},!t.thumbnail&&"+ Upload")),v.a.createElement(c.a.Item,{label:"Gallery Image"},v.a.createElement(U.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){return console.log("file type:\n",e.type),"image/jpeg"===e.type?e.size/1024/1024<2?(r((function(t){return[].concat(Object(S.a)(t),[{file:e,url:URL.createObjectURL(e),uid:e.uid}])})),l&&(i(!0),x.a.mutate({mutation:x.k.UPLOAD_GALLERY_IMAGE,variables:{data:{prod_id:l,gallery_img:e}},context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.uploadGalleryImage;if(!a.status)return F.b.error(a.message);F.b.success(a.message)})).catch((function(e){return console.log("update gal img err:\n",e),F.b.error("Something Went wrong !!")})).finally((function(){}))),!1):F.b.error("Image must smaller than 2MB!"):F.b.error("You can only upload JPG file!")},fileList:n,onRemove:function(e){r((function(t){return t.filter((function(t){return t.uid!==e.uid}))})),l&&(i(!0),x.a.mutate({mutation:x.k.DELETE_GALLERY_IMAGE,variables:{data:{prod_id:l,prod_gallery_id:e.prod_gallery_uuid}},context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.deleteGalleryImage;if(!a.status)return F.b.error(a.message);F.b.success(a.message)})).catch((function(e){return console.log("del gal img err:\n",e),F.b.error("Something Went wrong !!")})).finally((function(){})))}},v.a.createElement("p",{className:"ant-upload-drag-icon"},v.a.createElement(M.a,null)),v.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"))))},W=a(102),$=a(628),K=function(e){var t,a=e.products,n=(e.setProducts,e.selectedPartsOfProducts),r=e.setSelectedPartsOfProducts,o=(e.partOfProductQuantities,e.setPartOfProductQuantities),d=[{title:"Name",dataIndex:"label",key:"label"},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Quantity",dataIndex:"q",key:"q",width:120,render:function(e,t){return v.a.createElement(p.a,{defaultValue:t.quantity||"1",type:"number",placeholder:"Quantity",onBlur:function(e){o((function(a){var n=Object(u.a)({},a);return n[t.uid]=e.target.value,console.log(n),n}))}})}},{title:"Action",dataIndex:"action",key:"action",width:100,render:function(e,t,a){return v.a.createElement(w.a,{size:"",title:"Remove",type:"danger",onClick:function(){var e=Object(S.a)(n);e.splice(a,1),r(e)}},v.a.createElement(k.a,{icon:"minus"}))}}];return v.a.createElement("div",null,v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{label:"Products"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:8},v.a.createElement(m.a,{style:{marginBottom:"2em"},mode:"multiple",value:n,placeholder:a.isLoading?"Loading..":"Select Product..",optionFilterProp:"label",options:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.map((function(e){return{label:e.prod_name,value:e.id,uid:e.id,key:e.id,name:e.prod_name,sku:e.prod_sku}})),onChange:function(e,t){r(t)}}))),v.a.createElement(P.a,{dataSource:n,columns:d,pagination:!1,rowKey:"uid"})))))},Q=a(23),H=a(59),Y=a(12),J=a(168),X=a.n(J),Z=["dimension_class","prod_regular_price","extended_warranty_value","prod_sale_price","cost","prod_weight","prod_weight_class"],ee=["id"],te=p.a.TextArea,ae=m.a.Option;t.default=function(){var e,t,a,h,O,P,I,w,S,T,A,k,L,D,q,R,B,G,U,M,J,ne,re,le,ie,oe,de,ue,ce,se,me,pe,_e,ve,be,ge,fe,Ee,he,ye,Oe,je,Pe,Ie,we,Se,Te,Ae,ke,xe,Le,Ce,De,Ne,qe,Re,Be,Ve,Ge,Ue,Fe,Me,ze,We;Object(Q.c)("product");var $e=c.a.useForm(),Ke=Object(s.a)($e,1)[0],Qe=Object(_.useState)(!1),He=Object(s.a)(Qe,2),Ye=He[0],Je=He[1],Xe=Object(H.useHistory)(),Ze=Object(_.useState)(null),et=Object(s.a)(Ze,2),tt=et[0],at=et[1],nt=Object(_.useState)(null),rt=Object(s.a)(nt,2),lt=rt[0],it=rt[1],ot=Object(_.useState)(null),dt=Object(s.a)(ot,2),ut=dt[0],ct=dt[1],st=Object(_.useState)(null),mt=Object(s.a)(st,2),pt=mt[0],_t=mt[1],vt=Object(_.useState)(!1),bt=Object(s.a)(vt,2),gt=bt[0],ft=bt[1],Et=Object(H.useLocation)().search,ht=X.a.parse(Et),yt=Object(_.useState)({data:{},isLoading:!0}),Ot=Object(s.a)(yt,2),jt=Ot[0],Pt=Ot[1];Object(_.useEffect)((function(){ht.id&&W.b.query({query:x.l.GET_SINGLE_PRODUCT,variables:{query:{prod_id:parseInt(ht.id)}},context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}},fetchPolicy:"network-only"}).then((function(e){var t,a,n,r,l,i,o,d,u,c,s,m,p,_,v,b,g,f,E,h,O,j,P,I,w,S,T,A,k,x,L,C,D,N,q,R=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getSingleProduct;if(!R.status)return F.b.error("Try reload..!");Pt({data:null===R||void 0===R?void 0:R.data,isLoading:!1}),Tt(y.a.createValueFromString(null===R||void 0===R||null===(a=R.data)||void 0===a?void 0:a.prod_long_desc,"html")),Lt(null===R||void 0===R||null===(n=R.data)||void 0===n?void 0:n.prod_long_desc),ja((function(e){var t,a;return null===R||void 0===R||null===(t=R.data)||void 0===t||null===(a=t.discount_type)||void 0===a?void 0:a.map((function(e){return{id:(new Date).getTime(),customer_group_id:e.id,discount_quantity:e.discount_quantity,discount_priority:e.discount_priority,discount_price:e.discount_price,discount_startdate:e.discount_startdate,discount_enddate:e.discount_enddate}}))})),fa((function(e){var t,a;return null===R||void 0===R||null===(t=R.data)||void 0===t||null===(a=t.prod_attributes)||void 0===a?void 0:a.map((function(e){var t,a,n,r;return{id:e.id,attr_group_id:null===(t=e.attribute_data)||void 0===t||null===(a=t.attribute_group)||void 0===a?void 0:a.id,attribute_id:null===e||void 0===e||null===(n=e.attribute_data)||void 0===n?void 0:n.id,attribute_name:null===e||void 0===e||null===(r=e.attribute_data)||void 0===r?void 0:r.attribute_name,attribute_type:e.attribute_type,attribute_value:e.attribute_value}}))})),xa((function(e){var t,a;return null===R||void 0===R||null===(t=R.data)||void 0===t||null===(a=t.part_of_products)||void 0===a?void 0:a.map((function(e){return{label:e.part_product.prod_name,value:e.part_product.id,uid:e.part_product.id,key:e.part_product.id,name:e.part_product.prod_name,sku:e.part_product.prod_sku,quantity:e.prod_quantity}}))})),Va((function(e){var t,a;return{file:"",thumbnail:"https://api.primeserverparts.com/images/product/image/thumbnail/".concat(null===R||void 0===R||null===(t=R.data)||void 0===t?void 0:t.id,"/128x128_").concat(null===R||void 0===R||null===(a=R.data)||void 0===a?void 0:a.id,".jpg")}})),Ma(null===R||void 0===R?void 0:R.data.gallery.map((function(e){var t;return{file:"",url:"https://api.primeserverparts.com/images/product/image/gallery/".concat(null===R||void 0===R||null===(t=R.data)||void 0===t?void 0:t.id,"/128x128_").concat(e.prod_image),prod_gallery_uuid:e.id}}))),Ke.setFieldValue({prod_name:null===R||void 0===R?void 0:R.data.prod_name,prod_short_desc:null===R||void 0===R?void 0:R.data.prod_short_desc,prod_meta_title:null===R||void 0===R?void 0:R.data.prod_meta_title,prod_meta_desc:null===R||void 0===R?void 0:R.data.prod_meta_desc,prod_meta_keywords:null===R||void 0===R?void 0:R.data.prod_meta_keywords,prod_tags:null===R||void 0===R?void 0:R.data.prod_tags,prod_partnum:null===R||void 0===R?void 0:R.data.prod_partnum,prod_sku:null===R||void 0===R?void 0:R.data.prod_sku,is_sale:null===R||void 0===R?void 0:R.data.is_sale,brand_id:null===R||void 0===R||null===(r=R.data)||void 0===r||null===(l=r.brand)||void 0===l?void 0:l.id,prod_category:null===R||void 0===R||null===(i=R.data)||void 0===i||null===(o=i.category)||void 0===o?void 0:o.id,dimension_class:(null===R||void 0===R||null===(d=R.data)||void 0===d||null===(u=d.dimensions)||void 0===u?void 0:u.dimension_class)||"Inch",prod_weight:(null===R||void 0===R||null===(c=R.data)||void 0===c?void 0:c.prod_weight)||"",prod_weight_class:(null===R||void 0===R||null===(s=R.data)||void 0===s?void 0:s.prod_weight_class)||"Pound",prod_outofstock_status:null===R||void 0===R||null===(m=R.data)||void 0===m||null===(p=m.productavailablitystatus)||void 0===p?void 0:p.id,prod_regular_price:(null===R||void 0===R||null===(_=R.data)||void 0===_?void 0:_.prod_regular_price)||"",prod_sale_price:(null===R||void 0===R||null===(v=R.data)||void 0===v?void 0:v.prod_sale_price)||"",cost:(null===R||void 0===R||null===(b=R.data)||void 0===b?void 0:b.cost)||"",prod_condition:(null===R||void 0===R||null===(g=R.data)||void 0===g||null===(f=g.productCondition)||void 0===f?void 0:f.id)||"",product_rep:(null===R||void 0===R||null===(E=R.data)||void 0===E||null===(h=E.representative)||void 0===h?void 0:h.id)||"",extended_warranty:null===R||void 0===R||null===(O=R.data)||void 0===O?void 0:O.extended_warranty,extended_warranty_value:(null===R||void 0===R||null===(j=R.data)||void 0===j?void 0:j.extended_warranty_value)||0,location:(null===R||void 0===R||null===(P=R.data)||void 0===P?void 0:P.location)||"",hs_code:(null===R||void 0===R||null===(I=R.data)||void 0===I?void 0:I.hs_code)||"",product_rank:(null===R||void 0===R||null===(w=R.data)||void 0===w?void 0:w.product_rank)||"",mfg_build_part_number:(null===R||void 0===R||null===(S=R.data)||void 0===S?void 0:S.mfg_build_part_number)||""}),ct(null===R||void 0===R||null===(T=R.data)||void 0===T||null===(A=T.category)||void 0===A?void 0:A.id),ft(null===R||void 0===R||null===(k=R.data)||void 0===k?void 0:k.extended_warranty_value),_t(null===R||void 0===R||null===(x=R.data)||void 0===x||null===(L=x.productavailablitystatus)||void 0===L?void 0:L.id),at(null===R||void 0===R||null===(C=R.data)||void 0===C||null===(D=C.productCondition)||void 0===D?void 0:D.id),it(null===R||void 0===R||null===(N=R.data)||void 0===N||null===(q=N.representative)||void 0===q?void 0:q.id)})).catch((function(e){console.log("error on loading porduct,\n",e)}))}));var It=Object(_.useState)(y.a.createEmptyValue()),wt=Object(s.a)(It,2),St=wt[0],Tt=wt[1],At=Object(_.useState)(""),kt=Object(s.a)(At,2),xt=kt[0],Lt=kt[1],Ct=Object(_.useState)(!0),Dt=Object(s.a)(Ct,2),Nt=Dt[0],qt=(Dt[1],Object(_.useState)(!0)),Rt=Object(s.a)(qt,2),Bt=Rt[0],Vt=Rt[1],Gt=Object(_.useState)({data:[],loading:!0,error:""}),Ut=Object(s.a)(Gt,2),Ft=Ut[0],Mt=Ut[1],zt=Object(_.useState)({data:[],loading:!0,error:""}),Wt=Object(s.a)(zt,2),$t=Wt[0],Kt=Wt[1],Qt=Object(_.useState)({data:[],loading:!0,error:""}),Ht=Object(s.a)(Qt,2),Yt=Ht[0],Jt=Ht[1],Xt=Object(_.useState)({data:[],loading:!0,error:""}),Zt=Object(s.a)(Xt,2),ea=Zt[0],ta=Zt[1],aa=Object(_.useState)([]),na=Object(s.a)(aa,2),ra=na[0],la=na[1],ia=Object(_.useState)([]),oa=Object(s.a)(ia,2),da=oa[0],ua=oa[1];Object(_.useEffect)((function(){ht.id&&jt.isLoading||(W.b.query({query:$.a.GET_ALL_BRAND_WITH_CATEGORY,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllBrands;if(Mt((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})})),ht.id){var n,r,l=null===jt||void 0===jt||null===(n=jt.data.brand)||void 0===n?void 0:n.id,i=null===a||void 0===a?void 0:a.data.find((function(e){return e.id===l})),o=[];null===i||void 0===i||null===(r=i.categories)||void 0===r||r.forEach((function(e){var t=e.cat_name;o.push({cat_name:t,id:e.id,cat_status:e.cat_status}),e.subcategories&&e.subcategories.forEach((function(e){var a=e.cat_name;o.push({cat_name:"".concat(t," > ").concat(a),id:e.id,cat_status:e.cat_status}),e.subsubcategories&&e.subsubcategories.forEach((function(e){var n=e.cat_name;o.push({cat_name:"".concat(t," > ").concat(a," > ").concat(n),id:e.id,cat_status:e.cat_status})}))}))})),la(o)}})).catch((function(e){Mt((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Mt((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1})}))})),W.b.query({query:x.m.GET_ALL_CONDITIONS,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllProductCondition;Kt(a)})).catch((function(e){Kt((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Kt((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1})}))})),W.b.query({query:x.e.GET_ALL_STAFF,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllStaff;Jt(a)})).catch((function(e){Jt((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Jt((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1})}))})),W.b.query({query:x.m.GET_ALL_AVAILABILITY,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllProductAvailabilityStatus;ta(a)})).catch((function(e){ta((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){ta((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1})}))})))}),[jt]);var ca=Object(_.useState)({}),sa=Object(s.a)(ca,2),ma=sa[0],pa=sa[1],_a=[{id:(new Date).getTime(),attr_group_id:"",attribute_id:"",attribute_type:"",attribute_value:""}],va=Object(_.useState)(_a),ba=Object(s.a)(va,2),ga=ba[0],fa=ba[1];console.log(ga);var Ea=[{id:(new Date).getTime(),customer_group_id:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""}],ha=Object(_.useState)(Ea),ya=Object(s.a)(ha,2),Oa=ya[0],ja=ya[1],Pa=Object(_.useState)({data:[],isLoading:!0}),Ia=Object(s.a)(Pa,2),wa=Ia[0],Sa=Ia[1],Ta=Object(_.useState)([]),Aa=Object(s.a)(Ta,2),ka=Aa[0],xa=Aa[1],La=Object(_.useState)({}),Ca=Object(s.a)(La,2),Da=Ca[0],Na=Ca[1];Object(_.useEffect)((function(){W.b.query({query:x.l.GET_PRODUCT_LIST_FOR_ADD_MINIMAL,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getProductList;(null===a||void 0===a?void 0:a.status)&&Sa((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){Sa((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Sa((function(e){return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1})}))}))}));var qa=Object(_.useState)({}),Ra=Object(s.a)(qa,2),Ba=Ra[0],Va=Ra[1],Ga=Object(_.useState)([]),Ua=Object(s.a)(Ga,2),Fa=Ua[0],Ma=Ua[1];return v.a.createElement(v.a.Fragment,null,v.a.createElement(b.a,{title:ht.id?"Manage Product | Edit Product ".concat(jt.isLoading?"":"(".concat(jt.data.prod_name,")")):"Add Product"}),v.a.createElement(g.b,null,v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{sm:24,xs:24},v.a.createElement(f.a,{headless:!0},ht.id&&jt.isLoading?v.a.createElement("div",{div:"true",className:"spin"},v.a.createElement(o.a,null)):v.a.createElement(c.a,{style:{width:"100%"},form:Ke,name:"addRole",onFinish:function(){var e=Ke.getFieldsValue(!0),t=e.dimension_class,a=e.prod_regular_price,n=e.extended_warranty_value,r=e.prod_sale_price,l=e.cost,i=e.prod_weight,o=e.prod_weight_class,c=Object(d.a)(e,Z),s=!0,m=!0;console.log(ga);var p=ga.map((function(e){e.id;var t=Object(d.a)(e,ee);return"none"===t.attribute_type&&(t.attribute_value="none"),t.attr_group_id||t.attribute_type||t.attribute_value||(s=!1),t.attr_group_id&&t.attribute_type&&t.attribute_value||(m=!1),Object(u.a)({},t)}));if(!m&&s)return F.b.warning("Please fill all Attribute field correctly");var _=!0,v=!0,b=Oa.map((function(e){e.id;var t=e.customer_group_id,a=e.discount_quantity,n=e.discount_priority,r=e.discount_price,l=e.discount_startdate,i=e.discount_enddate;return t||a||n||r||l||i||(_=!1),t&&a&&n&&r&&l&&i||(v=!1),{customer_group_id:t,discount_quantity:a,discount_priority:n,discount_price:r,discount_startdate:l,discount_enddate:i}}));if(!v&&_)return F.b.warning("Please fill all Discount field correctly");var g=da.map((function(e){return e.uid})),f=ka.map((function(e){return{prod_id:e.uid,prod_quantity:Da[e.uid]?parseInt(Da[e.uid]):1}})),E=Object(u.a)(Object(u.a)({},c),{},{prod_long_desc:xt,related_product:g,prod_status:Nt,partof_product:f,taxable:Bt,prod_condition:tt,product_rep:lt,prod_outofstock_status:pt});a&&(E.prod_regular_price=parseFloat(a)),l&&(E.cost=parseFloat(l)),n&&(E.extended_warranty_value=parseFloat(n)),r&&(E.prod_sale_price=parseFloat(r)),s&&(E.product_attributes=p),_&&(E.discount_type=b),i&&(E.prod_weight=i,E.prod_weight_class=o);var h=ma.height,y=ma.length,O=ma.width;if(h||y||O){var j={dimension_class:t};h&&(j.height=h),y&&(j.length=y),O&&(j.width=O),E.dimensions=j}if(!E.prod_long_desc)return F.b.warning("Please enter a long description");if(!E.prod_short_desc)return F.b.warning("Please enter a long description");if(!E.prod_sku)return F.b.warning("Please enter Product SKU");if(!E.prod_partnum)return F.b.warning("Please enter Part No");if(!E.brand_id)return F.b.warning("Please select a Manufacture");if(!E.prod_category)return F.b.warning("Please select a Category");if(!E.product_rep)return F.b.warning("Please select a Product Representative");if(!E.prod_outofstock_status&&!ht.id)return F.b.warning("Please select an Availability Status");if(!E.prod_regular_price)return F.b.warning("Please enter Regular Price");if(Je(!0),ht.id)E.prod_id=parseInt(ht.id),x.a.mutate({mutation:x.k.UPDATE_PRODUCT,variables:{data:E},context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}},refetchQueries:[{query:x.l.GET_PRODUCT_LIST,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}},fetchPolicy:"network-only"},["getProductList"]]}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updateProduct;if(!a.status)return F.b.error(a.message);setTimeout((function(){Xe.push("/admin/products/list")}),1e3),F.b.success(a.message)})).catch((function(e){return console.log("add Prod err:\n",e),F.b.error("Something Went wrong !!")})).finally((function(){Je(!1)}));else{if(E.prod_thumbnail=Ba.file,E.prod_gallery=Fa.map((function(e){return e.file})),!prod_thumbnail)return F.b.warning("Please select a Feature image");x.a.mutate({mutation:x.k.ADD_PRODUCT,variables:{data:E},context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}},refetchQueries:[{query:x.l.GET_PRODUCT_LIST,context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}},fetchPolicy:"network-only"},["getProductList"]]}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.addProduct;if(!a.status)return F.b.error(a.message);setTimeout((function(){Xe.push("/admin/products/list")}),1e3),F.b.success(a.message)})).catch((function(e){return console.log("add Prod err:\n",e),F.b.error("Something Went wrong !!")})).finally((function(){Je(!1)}))}},onFinishFailed:function(e){console.log("form error info:\n",e),F.b.warning("Please fill all required data in all tab")},labelCol:{span:4},initialValues:ht.id?{prod_name:jt.data.prod_name,prod_short_desc:jt.data.prod_short_desc,prod_meta_title:jt.data.prod_meta_title,prod_meta_desc:jt.data.prod_meta_desc,prod_meta_keywords:jt.data.prod_meta_keywords,prod_tags:jt.data.prod_tags,prod_partnum:jt.data.prod_partnum,prod_sku:jt.data.prod_sku,is_sale:jt.data.is_sale,brand_id:null===(e=jt.data)||void 0===e||null===(t=e.brand)||void 0===t?void 0:t.id,prod_condition:(null===(a=jt.data)||void 0===a||null===(h=a.productCondition)||void 0===h?void 0:h.id)||"",product_rep:(null===(O=jt.data)||void 0===O||null===(P=O.representative)||void 0===P?void 0:P.id)||"",prod_outofstock_status:null===jt||void 0===jt||null===(I=jt.data)||void 0===I||null===(w=I.productavailablitystatus)||void 0===w?void 0:w.id,prod_category:null===(S=jt.data)||void 0===S||null===(T=S.category)||void 0===T?void 0:T.id,dimension_class:(null===(A=jt.data)||void 0===A||null===(k=A.dimensions)||void 0===k?void 0:k.dimension_class)||"",prod_weight:(null===(L=jt.data)||void 0===L?void 0:L.prod_weight)||"",prod_weight_class:(null===(D=jt.data)||void 0===D?void 0:D.prod_weight_class)||"",prod_regular_price:(null===(q=jt.data)||void 0===q?void 0:q.prod_regular_price)||0,prod_sale_price:(null===(R=jt.data)||void 0===R?void 0:R.prod_sale_price)||0,cost:(null===(B=jt.data)||void 0===B?void 0:B.cost)||0,extended_warranty:(null===(G=jt.data)||void 0===G?void 0:G.extended_warranty)||!1,extended_warranty_value:(null===(U=jt.data)||void 0===U?void 0:U.extended_warranty_value)||0,location:(null===(M=jt.data)||void 0===M?void 0:M.location)||"",hs_code:(null===(J=jt.data)||void 0===J?void 0:J.hs_code)||"",product_rank:(null===(ne=jt.data)||void 0===ne?void 0:ne.product_rank)||"",mfg_build_part_number:(null===(re=jt.data)||void 0===re?void 0:re.mfg_build_part_number)||""}:{dimension_class:"Inch",prod_weight_class:"Pound",prod_outofstock_status:"In Stock"}},v.a.createElement(n.a,null,v.a.createElement(n.a.TabPane,{tab:"General",key:"general"},v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_partnum",rules:[{required:!0,message:"Part NO"}],label:"Part Number"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:6},v.a.createElement(p.a,{defaultValue:null===jt||void 0===jt||null===(le=jt.data)||void 0===le?void 0:le.prod_partnum,placeholder:"Part No"}))))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"mfg_build_part_number",label:"MFG Build Part Number"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:6},v.a.createElement(p.a,{defaultValue:null===jt||void 0===jt||null===(ie=jt.data)||void 0===ie?void 0:ie.mfg_build_part_number,placeholder:"MFG Build Part Number"}))))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_sku",label:"SKU"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:6},v.a.createElement(p.a,{defaultValue:null===jt||void 0===jt||null===(oe=jt.data)||void 0===oe?void 0:oe.prod_sku,placeholder:" Product SKU"}))))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_name",rules:[{required:!0,message:"Please enter Product Name"}],label:"Title"},v.a.createElement(p.a,{placeholder:"Product Name"}))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_short_desc",rules:[{required:!0,message:"Please enter n"}],label:"Short Description"},v.a.createElement(te,{rows:3,placeholder:" Short Description"}))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{label:"Long Description"},v.a.createElement(y.a,{value:St,onChange:function(e){Lt(e.toString("html")),Tt(e)},placeholder:"Long Description",className:j.a.rte,editorClassName:j.a.rteEditor,toolbarClassName:j.a.rteToolbar}))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_meta_title",rules:[{required:!0,message:"Please enter Meta Title"}],label:"Meta Title"},v.a.createElement(p.a,{placeholder:" Meta Title"}))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_meta_desc",rules:[{required:!0,message:"Please enter Meta Description"}],label:"Meta Description"},v.a.createElement(p.a,{placeholder:" Meta Description"}))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_meta_keywords",rules:[{required:!0,message:"Please enter Meta Keywords"}],label:"Meta Keywords"},v.a.createElement(p.a,{placeholder:"Comma separated Meta Keywords"}))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_tags",rules:[{required:!0,message:"Please enter Tags"}],label:"Tags"},v.a.createElement(p.a,{placeholder:"Comma separated Tags"}))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_status",label:"Status"},v.a.createElement(r.a,{defaultChecked:jt.data.prod_status,defaultValue:jt.data.prod_status}))))),v.a.createElement(n.a.TabPane,{tab:"Data",key:"Data"},v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:12},v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"prod_condition",rules:[{required:!0,message:"Product Condition Is Required"}],label:"Product Condition"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:12},v.a.createElement(m.a,{defaultValue:null===jt||void 0===jt||null===(de=jt.data)||void 0===de||null===(ue=de.productCondition)||void 0===ue?void 0:ue.name,placeholder:$t.loading?"Loading...":"Select Condition",options:null===$t||void 0===$t||null===(ce=$t.data)||void 0===ce?void 0:ce.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return at(e)}})))))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"location",label:"Location"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:16},v.a.createElement(p.a,{defaultValue:null===jt||void 0===jt||null===(se=jt.data)||void 0===se?void 0:se.location,placeholder:" Product Location"})))))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"hs_code",label:"HS Code"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:12},v.a.createElement(p.a,{defaultValue:null===jt||void 0===jt||null===(me=jt.data)||void 0===me?void 0:me.hs_code,placeholder:" HS Code"})))))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"product_rank",label:"Product Rank"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:12},v.a.createElement(p.a,{defaultValue:null===jt||void 0===jt||null===(pe=jt.data)||void 0===pe?void 0:pe.product_rank,placeholder:" Product Rank"})))))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"product_rep",label:"Product Representative"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:12},v.a.createElement(m.a,{defaultValue:"".concat(null===jt||void 0===jt||null===(_e=jt.data)||void 0===_e||null===(ve=_e.representative)||void 0===ve?void 0:ve.first_name," ").concat(null===jt||void 0===jt||null===(be=jt.data)||void 0===be||null===(ge=be.representative)||void 0===ge?void 0:ge.last_name),placeholder:Yt.loading?"Loading...":"Select a Product Representative",options:null===Yt||void 0===Yt||null===(fe=Yt.data)||void 0===fe?void 0:fe.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})),onSelect:function(e){return it(e)}}),v.a.createElement("ul",null,null===jt||void 0===jt||null===(Ee=jt.data)||void 0===Ee||null===(he=Ee.representative)||void 0===he?void 0:he.roles.map((function(e){return v.a.createElement("li",{key:e.id},e.role)}))))))))),v.a.createElement(i.a,{span:12},v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"extended_warranty",label:"Extended Warranty"},v.a.createElement(r.a,{defaultChecked:jt.data.extended_warranty,onChange:function(e){return ft(e)},defaultValue:jt.data.extended_warranty})),gt&&v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},rules:[{required:!0,message:"Extended Warranty Value"}],name:"extended_warranty_value",label:"Extended Warranty Value"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:8},v.a.createElement(p.a,{placeholder:"Extended Warranty Value",defaultValue:null===jt||void 0===jt||null===(ye=jt.data)||void 0===ye?void 0:ye.extended_warranty_value,type:"number"})))))),v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"is_sale",label:"On Sale"},v.a.createElement(r.a,{defaultChecked:jt.data.is_sale,defaultValue:jt.data.is_sale})),v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"is_featured",label:"Featured"},v.a.createElement(r.a,{defaultChecked:jt.data.is_featured,defaultValue:jt.data.is_featured})),v.a.createElement(c.a.Item,{labelCol:{style:{width:"40%"}},name:"is_serial",label:"Has Serial"},v.a.createElement(r.a,{defaultChecked:jt.data.is_serial,defaultValue:jt.data.is_serial}))))),v.a.createElement(n.a.TabPane,{tab:"Links",key:"Links"},v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"brand_id",rules:[{required:!0,message:"Please Select a Manufacture"}],label:"Manufacturer"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:7},v.a.createElement(m.a,{defaultValue:null===jt||void 0===jt||null===(Oe=jt.data)||void 0===Oe||null===(je=Oe.brand)||void 0===je?void 0:je.brand_name,placeholder:Ft.loading?"Loading...":"Select Manufacture",options:null===Ft||void 0===Ft||null===(Pe=Ft.data)||void 0===Pe?void 0:Pe.map((function(e){return{label:e.brand_name,value:e.id,categories:e.categories}})),onSelect:function(e,t){var a,n;if(la([]),ct(""),null===t||void 0===t||null===(a=t.categories)||void 0===a?void 0:a.length){var r=[];null===t||void 0===t||null===(n=t.categories)||void 0===n||n.forEach((function(e){var t=e.cat_name;r.push({cat_name:t,id:e.id,cat_status:e.cat_status}),e.subcategories&&e.subcategories.forEach((function(e){var a=e.cat_name;r.push({cat_name:"".concat(t," > ").concat(a),id:e.id,cat_status:e.cat_status}),e.subsubcategories&&e.subsubcategories.forEach((function(e){var n=e.cat_name;r.push({cat_name:"".concat(t," > ").concat(a," > ").concat(n),id:e.id,cat_status:e.cat_status})}))}))})),la(r)}}})))))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_category",initialValue:ut,rules:[{required:!0,message:"Please Select a Category"}],label:"Categories"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:7},v.a.createElement(m.a,{defaultValue:null===jt||void 0===jt||null===(Ie=jt.data)||void 0===Ie||null===(we=Ie.category)||void 0===we?void 0:we.cat_name,placeholder:Ft.loading?"Loading...":ra.length?"Select Category":"Select manifacture first",options:ra.map((function(e){return{label:e.cat_name,value:e.id,key:e.id}}))})))))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{label:"Related Product",rules:[{required:!0,message:"Please enter Product Name"}]},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:7},v.a.createElement(m.a,{placeholder:wa.isLoading?"Loading...":"select Related Products",mode:"multiple",optionFilterProp:"label",defaultValue:ht.id?null===jt||void 0===jt||null===(Se=jt.data)||void 0===Se||null===(Te=Se.related_products)||void 0===Te?void 0:Te.map((function(e){var t;return null===e||void 0===e||null===(t=e.related_prod)||void 0===t?void 0:t.id})):[],options:null===wa||void 0===wa||null===(Ae=wa.data)||void 0===Ae?void 0:Ae.map((function(e){return{label:e.prod_name,value:e.id,uid:e.id}})),onChange:function(e,t){ua(t)}}))))))),v.a.createElement(n.a.TabPane,{tab:"Specifications",key:"Specifications"},v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{label:v.a.createElement("p",null,"Dimensions ",v.a.createElement("br",null)," (L x W x H)")},v.a.createElement(p.a.Group,{compact:!0},v.a.createElement(p.a,{type:"number",style:{width:"20%"},placeholder:"Length",onBlur:function(e){return pa((function(t){return Object(u.a)(Object(u.a)({},t),{},{length:parseFloat(e.target.value)})}))},defaultValue:ht.id&&(null===jt||void 0===jt||null===(ke=jt.data)||void 0===ke||null===(xe=ke.dimensions)||void 0===xe?void 0:xe.length)?null===jt||void 0===jt||null===(Le=jt.data)||void 0===Le||null===(Ce=Le.dimensions)||void 0===Ce?void 0:Ce.length:""}),v.a.createElement(p.a,{type:"number",style:{width:"20%"},placeholder:"Width",onBlur:function(e){return pa((function(t){return Object(u.a)(Object(u.a)({},t),{},{width:parseFloat(e.target.value)})}))},defaultValue:ht.id&&(null===jt||void 0===jt||null===(De=jt.data)||void 0===De||null===(Ne=De.dimensions)||void 0===Ne?void 0:Ne.length)?null===jt||void 0===jt||null===(qe=jt.data)||void 0===qe||null===(Re=qe.dimensions)||void 0===Re?void 0:Re.width:""}),v.a.createElement(p.a,{type:"number",style:{width:"20%"},placeholder:"Height",onBlur:function(e){return pa((function(t){return Object(u.a)(Object(u.a)({},t),{},{height:parseFloat(e.target.value)})}))},defaultValue:ht.id&&(null===jt||void 0===jt||null===(Be=jt.data)||void 0===Be||null===(Ve=Be.dimensions)||void 0===Ve?void 0:Ve.length)?null===jt||void 0===jt||null===(Ge=jt.data)||void 0===Ge||null===(Ue=Ge.dimensions)||void 0===Ue?void 0:Ue.height:""}))))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"dimension_class",label:v.a.createElement("p",null,"Dimensions ",v.a.createElement("br",null),"Class"," ")},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:7},v.a.createElement(m.a,{style:{height:"3.5em"},placeholder:"Dimension Class"},v.a.createElement(ae,{key:1,value:"Centimeter"},"Centimeter"),v.a.createElement(ae,{key:2,value:"Millimeter"},"Millimeter"),v.a.createElement(ae,{key:3,value:"Inch"},"Inch"))))))),v.a.createElement(c.a.Item,{name:"prod_weight",label:"Weight"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:7},v.a.createElement(p.a,{type:"number",placeholder:"Weight"})))),v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_weight_class",label:"Weight Class"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:7},v.a.createElement(m.a,{placeholder:"Weight Class"},v.a.createElement(ae,{key:1,value:"Kilogram"},"Kilogram"),v.a.createElement(ae,{key:1,value:"Gram"},"Gram"),v.a.createElement(ae,{key:2,value:"Pound"},"Pound"),v.a.createElement(ae,{key:3,value:"Ounce"},"Ounce")))))))),v.a.createElement(n.a.TabPane,{tab:"Stock",key:"Stock"},v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_outofstock_status",rules:[{required:!0,message:"Please Select Availability Status"}],label:"Availability"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:6},v.a.createElement(m.a,{defaultValue:null===jt||void 0===jt||null===(Fe=jt.data)||void 0===Fe||null===(Me=Fe.productavailablitystatus)||void 0===Me?void 0:Me.name,placeholder:ea.loading?"Loading...":"Select a Status",options:null===ea||void 0===ea||null===(ze=ea.data)||void 0===ze?void 0:ze.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return _t(e)}}))))))),v.a.createElement(n.a.TabPane,{tab:"Attribute",key:"Attribute"},v.a.createElement(N,{attributesTableData:ga,setAttributesTableData:fa})),v.a.createElement(n.a.TabPane,{tab:"Price",key:"Price"},v.a.createElement(l.a,{gutter:25},v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_regular_price",rules:[{required:!0,message:"MSRP"}],label:"MSRP"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:6},v.a.createElement(p.a,{placeholder:"MSRP",defaultValue:jt.data.prod_regular_price,prefix:"US$  ",type:"number"}))))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"prod_sale_price",label:"Sales Price"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:6},v.a.createElement(p.a,{prefix:"US$  ",type:"number",defaultValue:jt.data.prod_sale_price,placeholder:"Sales Price"}))))),v.a.createElement(i.a,{span:24},v.a.createElement(c.a.Item,{name:"cost",label:"Cost"},v.a.createElement(l.a,null,v.a.createElement(i.a,{span:6},v.a.createElement(p.a,{prefix:"US$  ",type:"number",defaultValue:jt.data.cost,placeholder:"Product Cost"})))))),v.a.createElement(c.a.Item,{label:"Taxable"},v.a.createElement(r.a,{checked:Bt,onChange:function(e){return Vt(e)}}))),v.a.createElement(n.a.TabPane,{tab:"Discount",key:"Discount"},v.a.createElement(V,{discount:Oa,setDiscount:ja})),v.a.createElement(n.a.TabPane,{tab:"Build Of Product",key:"PartsOf"},v.a.createElement(K,{products:wa,setProducts:Sa,selectedPartsOfProducts:ka,setSelectedPartsOfProducts:xa,partOfProductQuantities:Da,setPartOfProductQuantities:Na})),v.a.createElement(n.a.TabPane,{tab:"Images",key:"Images"},v.a.createElement(z,{featuresImage:Ba,setFeaturesImage:Va,gallaryImages:Fa,setGallaryImages:Ma,singleProdUid:null===jt||void 0===jt||null===(We=jt.data)||void 0===We?void 0:We.id,setIsLoading:Je}))),v.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"3em"}},v.a.createElement(c.a.Item,null,v.a.createElement(E.a,{loading:Ye,size:"default",htmlType:"submit",type:"primary",raised:!0},Ye?"Processing":"Save"),v.a.createElement(Y.b,{to:"/admin/products/list"},v.a.createElement(E.a,{type:"white",size:"large"},"Cancel"))))))))))}},628:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n,r,l,i,o,d,u,c,s=a(8),m=a(17),p={GET_ALL_BRAND:Object(m.d)(n||(n=Object(s.a)(["\n  query getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_description\n      brand_status\n      image\n      brand_sort_order\n      createdAt\n    }\n  }\n}"]))),GET_ALL_BRAND_WITH_CATEGORY:Object(m.d)(r||(r=Object(s.a)(["\nquery getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_status\n      brand_description\n      image\n      createdAt\n      updatedAt\n      categories {\n        id\n        cat_name\n        cat_slug\n        cat_status\n        subcategories {\n          id\n          cat_name\n          cat_slug\n          cat_status\n          subsubcategories {\n            id\n            cat_name\n            cat_slug\n            cat_status\n          }\n        }\n      }\n    }\n  }\n}\n\n"]))),GET_CATEGORIES:Object(m.d)(l||(l=Object(s.a)(["\n  query getParentCategories {\n    getParentCategories {\n      message\n      status\n      categories {\n        id\n        cat_name\n      }\n    }\n  }\n"]))),GET_SINGLE_BRAND:Object(m.d)(i||(i=Object(s.a)(["\n  query getSingleBrand($query: GetSingleBrandInput){\n    getSingleBrand(query: $query) {\n      message\n      status\n      data {\n        brand_name\n        brand_description\n        brand_status\n        brand_sort_order\n        image\n        categories {\n          id\n          cat_name\n        }\n      }\n    }\n  }\n"]))),BRAND_UPDATE:Object(m.d)(o||(o=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput, $file:Upload){\n    updateBrand(data:$data, file: $file){\n      message\n      status\n    }\n  }"]))),BRAND_UPDATE_WI:Object(m.d)(d||(d=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput){\n    updateBrand(data:$data){\n      message\n      status\n    }\n  }"]))),BRAND_ADD:Object(m.d)(u||(u=Object(s.a)(["\n    mutation createBrand($data: BrandCreateInput, $file:Upload) {\n      createBrand(data: $data, file:$file) {\n        message\n        status\n      }\n    }"]))),BRAND_ADD_WI:Object(m.d)(c||(c=Object(s.a)(["\n      mutation createBrand($data: BrandCreateInput) {\n        createBrand(data: $data) {\n          message\n          status\n        }\n     }"])))}},761:function(e,t,a){e.exports={rte:"products_rte__2mjKU",rteEditor:"products_rteEditor__3SKk0",rteToolbar:"products_rteToolbar__ZjRRX"}}}]);