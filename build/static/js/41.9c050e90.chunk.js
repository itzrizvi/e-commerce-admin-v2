(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[41],{849:function(e,t,a){"use strict";a.r(t);a(130);var r=a(67),n=(a(131),a(43)),o=(a(281),a(132)),i=(a(143),a(68)),l=(a(197),a(121)),u=(a(256),a(147)),d=a(12),c=a(33),s=a(0),p=a.n(s),m=a(25),_=a.n(m),f=a(146),g=a(145),E=a(144),b=a(176),h=a(172),v=a(10),k=a(35),y=a(39),O=a(113),C=a.n(O),j=a(42),I=a.n(j),P=a(122),S=a(259),x=a(283);t.default=function(){Object(k.b)("product");var e=Object(s.useState)({data:[],isLoading:!0}),t=Object(c.a)(e,2),a=t[0],m=t[1],O=Object(s.useState)([]),j=Object(c.a)(O,2),w=j[0],U=j[1],L=Object(s.useState)(""),N=Object(c.a)(L,2),T=N[0],A=N[1];Object(s.useEffect)((function(){y.j.query({query:y.l.GET_PRODUCT_LIST,context:{headers:{TENANTID:"100001",Authorization:I.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getProductList;(null===a||void 0===a?void 0:a.status)&&m((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){m((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){m((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}))}))}),[]);var z=[{title:"UID",dataIndex:"prod_uuid",key:"prod_uuid",width:70,ellipsis:!0,sorter:function(e,t){return e.prod_uuid.toUpperCase()>t.prod_uuid.toUpperCase()?1:-1}},{title:"Logo",dataIndex:"prod_uuid",key:"prod_uuid",width:70,render:function(e,t){return p.a.createElement(x.LazyLoadImage,{effect:"blur",width:"40",src:Object(S.renderImage)(t.prod_uuid,t.prod_thumbnail,"product/image/thumbnail","128x128"),onError:S.errorImageSrc,alt:t.prod_uuid})}},{title:"Product Name",dataIndex:"prod_name",key:"prod_name",ellipsis:!0,sorter:function(e,t){return e.prod_name.toUpperCase()>t.prod_name.toUpperCase()?1:-1}},{title:"Product SKU",dataIndex:"prod_sku",key:"prod_sku",ellipsis:!0,sorter:function(e,t){return e.prod_sku.toUpperCase()>t.prod_sku.toUpperCase()?1:-1}},{title:"Part NO",dataIndex:"prod_partnum",key:"prod_partnum",ellipsis:!0,sorter:function(e,t){return e.prod_partnum.toUpperCase()>t.prod_partnum.toUpperCase()?1:-1}},{title:"Regular Price",dataIndex:"prod_regular_price",key:"prod_regular_price",ellipsis:!0,align:"center",sorter:function(e,t){return e.prod_regular_price>t.prod_regular_price?1:-1}},{title:"Sales Price",dataIndex:"prod_sale_price",key:"prod_sale_price",ellipsis:!0,align:"center",sorter:function(e,t){return e.prod_sale_price>t.prod_sale_price?1:-1}},{title:"Status",dataIndex:"prod_status",key:"prod_status",align:"right",sorter:function(e,t){return e.prod_status===t.prod_status?0:e.prod_status?-1:1},filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:function(e,t){return t.prod_status===e},render:function(e,t){return p.a.createElement(u.a,{defaultChecked:e,title:"Status",onChange:function(e){}})}},{title:"Action",dataIndex:"action",width:70,align:"right",render:function(e,t){return p.a.createElement(p.a.Fragment,null,p.a.createElement(v.b,{to:"/admin/products/add?id=".concat(t.prod_uuid,"&name=").concat(t.prod_name)},p.a.createElement(C.a,{name:"edit",style:{margin:".5em 1em"}})))},key:"last_name"}];return p.a.createElement(p.a.Fragment,null,p.a.createElement(f.a,{title:"Products",buttons:[p.a.createElement("div",{key:"1",className:"page-header-actions"},p.a.createElement(v.b,{to:"/admin/products/add"},p.a.createElement(b.a,{size:"small",title:"Add Product",type:"primary"},p.a.createElement(_.a,{icon:"file-plus"}))))]}),p.a.createElement(g.b,null,p.a.createElement(r.a,{gutter:25},p.a.createElement(n.a,{sm:24,xs:24},p.a.createElement(E.a,{headless:!0},a.isLoading?p.a.createElement("div",{className:"spin"},p.a.createElement(l.a,null)):p.a.createElement(p.a.Fragment,null,p.a.createElement(i.a,{placeholder:"Search Permission...",prefix:p.a.createElement(h.a,null),onChange:function(e){var t=e.target.value;A(t),U(a.data.filter((function(e){return((null===e||void 0===e?void 0:e.prod_name)+(null===e||void 0===e?void 0:e.prod_sku)).toLowerCase().includes(t.toLowerCase())})))}}),p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement("span",{className:"psp_list"},p.a.createElement(o.a,{className:"table-responsive",columns:z,rowKey:"g_s",size:"small",dataSource:T?w:a.data,rowClassName:function(e,t){return t%2==0?"":"altTableClass"},pagination:{defaultPageSize:P.a.PRODUCTS_PER_PAGE,total:T?w.length:a.data.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}}))))))))}}}]);