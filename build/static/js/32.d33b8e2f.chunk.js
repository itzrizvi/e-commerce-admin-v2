(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[32],{681:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var n,r,i,u,o=a(9),l=a(20),d={GET_ALL_QUOTE:Object(l.d)(n||(n=Object(o.a)(["\n    query getSubmittedQuoteList {\n      getSubmittedQuoteList {\n        message\n        status\n        data {\n          id\n          status\n          grand_total\n          note\n          createdAt\n          updatedAt\n          quotedby {\n            id\n            email\n          }\n        }\n      }\n    }\n  "]))),GET_SINGLE_QUOTE:Object(l.d)(r||(r=Object(o.a)(["\n    query getSingleSubmittedQuote($query: GetSingleSubmittedQuoteInput) {\n      getSingleSubmittedQuote(query: $query) {\n        message\n        status\n        data {\n          id\n          status\n          grand_total\n          note\n          createdAt\n          submittedquoteitems {\n            id\n            submittedquote_id\n            price\n            quantity\n            total_price\n            product {\n              id\n              prod_name\n              prod_slug\n              prod_sku\n              prod_partnum\n              createdAt\n            }\n            createdAt\n          }\n        }\n      }\n    }\n  "]))),REMOVE_QUOTE_ITEM:Object(l.d)(i||(i=Object(o.a)(["\n    mutation quoteItemDelete($data: QuoteItemDeleteInput) {\n      quoteItemDelete(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),SUBMIT_QUOTE:Object(l.d)(u||(u=Object(o.a)(["\n    mutation updateSubmittedQuote($data: SubmittedQuoteUpdateInput) {\n      updateSubmittedQuote(data: $data) {\n        message\n        status\n      }\n    }\n  "])))}},942:function(t,e,a){"use strict";a.r(e);a(100);var n=a(50),r=(a(101),a(40)),i=(a(102),a(54)),u=(a(74),a(17)),o=(a(121),a(69)),l=a(7),d=a(14),s=a(0),c=a.n(s),m=a(194),p=a(81),b=a(77),g=a(76),v=a(11),E=a(103),f=a.n(E),O=a(109),S=a(681),_=a(43),h=a(220),j=a.n(h),y=a(25),I=a(110);e.default=function(){var t,e;Object(y.c)("quote");var a=Object(s.useState)({data:[],loading:!0,error:""}),E=Object(d.a)(a,2),h=E[0],Q=E[1],q=Object(s.useState)([]),w=Object(d.a)(q,2),T=w[0],x=w[1],U=Object(s.useState)(!1),A=Object(d.a)(U,2),C=A[0],k=A[1],L=Object(_.d)((function(t){return t.auth.token}));Object(s.useEffect)((function(){O.b.query({query:S.a.GET_ALL_QUOTE,context:{headers:{TENANTID:"100001",Authorization:L}}}).then((function(t){var e,a=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.getSubmittedQuoteList;Q((function(t){return Object(l.a)(Object(l.a)({},t),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(t){Q((function(t){return Object(l.a)(Object(l.a)({},t),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Q((function(t){return Object(l.a)(Object(l.a)({},t),{},{loading:!1})}))}))}),[]);var N=[{title:"ID",dataIndex:"id",key:"id",width:80,ellipsis:!0,sorter:function(t,e){return t.id.toUpperCase()>e.id.toUpperCase()?1:-1}},{title:"Email",dataIndex:["quotedby","email"],key:"email",width:150,ellipsis:!0,sorter:function(t,e){return t.email.toUpperCase()>e.email.toUpperCase()?1:-1}},{title:"Total",dataIndex:"grand_total",key:"grand_total",width:100,ellipsis:!0,sorter:function(t,e){return t.grand_total>e.grand_total?1:-1}},{title:"Status",dataIndex:"status",key:"status",align:"right",width:100,filters:[{text:"New",value:"new"},{text:"In Progress",value:"in_progress"},{text:"Save",value:"save"},{text:"Submitted",value:"submitted"}],onFilter:function(t,e){return e.status===t},sorter:function(t,e){return t.status-e.status},render:function(t){return t.toUpperCase()}},{title:"Note",dataIndex:"note",key:"note",width:250,ellipsis:!0,sorter:function(t,e){return t.note.toUpperCase()>e.note.toUpperCase()?1:-1}},{title:"Date",dataIndex:"createdAt",key:"createdAt",width:120,align:"center",render:function(t,e){return c.a.createElement("span",{className:"status-text"},c.a.createElement(j.a,{format:"DD MMMM YYYY"},parseInt(t)))}},{title:"Action",dataIndex:"action",align:"right",key:"action",width:100,render:function(t,e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.b,{to:"/admin/products/quote/edit/".concat(e.id),style:{margin:".5em"}},c.a.createElement(f.a,{name:"edit"})))}}];return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{title:"Quote List"}),c.a.createElement(b.b,null,c.a.createElement(n.a,{gutter:25},c.a.createElement(r.a,{sm:24,xs:24},c.a.createElement(g.a,{headless:!0},h.loading?c.a.createElement("div",{className:"spin"},c.a.createElement(o.a,null)):h.error?c.a.createElement("p",null,h.error):c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{placeholder:"Search in Quote...",prefix:c.a.createElement(m.a,null),onChange:function(t){var e=t.target.value;k(e),x(h.data.filter((function(t){var a;return((null===t||void 0===t||null===(a=t.quotedby)||void 0===a?void 0:a.email)+(null===t||void 0===t?void 0:t.id)+(null===t||void 0===t?void 0:t.status)+(null===t||void 0===t?void 0:t.grand_total)+(null===t||void 0===t?void 0:t.note)).toLowerCase().includes(e.toLowerCase())})))}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("span",{className:"psp_list"},c.a.createElement(i.a,{className:"table-responsive",columns:N,pagination:{defaultPageSize:I.a.QUOTE_PER_PAGE,total:C?null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.length:null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.length,showTotal:function(t,e){return"".concat(e[0],"-").concat(e[1]," of ").concat(t," items")}},rowKey:"id",size:"small",dataSource:C?T:h.data,rowClassName:function(t,e){return e%2===0?"":"altTableClass"}}))))))))}}}]);