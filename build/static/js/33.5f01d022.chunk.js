(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[33],{621:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n,l,i,r,m,d,s,o,E,u,c,p,T=a(9),g=a(20),A={GET_EMAIL_HEADER_FOOTER_LIST:Object(g.d)(n||(n=Object(T.a)(["\n    query getEmailTempHeaderFooterList {\n      getEmailTempHeaderFooterList {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          type\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),ADD_EMAIL_TEMPLATE_HEADER_FOOTER:Object(g.d)(l||(l=Object(T.a)(["\n    mutation addEmailTempHeaderFooter($data: AddEmailTempHFInput) {\n      addEmailTempHeaderFooter(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),SINGLE_EMAIL_TEMPLATE_HEADER_FOOTER:Object(g.d)(i||(i=Object(T.a)(["\n    query getSingleEmailTempHeaderFooter($query: GetSingleEmailHeaderFooterInput) {\n      getSingleEmailTempHeaderFooter(query: $query) {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          type\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),EMAIL_TEMPLATE_HEADER_FOOTER_UPDATE:Object(g.d)(r||(r=Object(T.a)(["\n    mutation updateEmailTempHeaderFooter($data: UpdateEmailTempHFInput) {\n      updateEmailTempHeaderFooter(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),GET_EMAIL_TEMPLATE_LIST:Object(g.d)(m||(m=Object(T.a)(["\n    query getAllEmailTemplateList {\n      getAllEmailTemplateList {\n        message\n        status\n        data {\n          id\n          email_template_id\n          name\n          slug\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),ADD_EMAIL_TEMPLATE_LIST:Object(g.d)(d||(d=Object(T.a)(["\n    mutation addEmailTemplateOnList($data: AddEmailTemplateListInput) {\n      addEmailTemplateOnList(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),SINGLE_EMAIL_TEMPLATE_LIST:Object(g.d)(s||(s=Object(T.a)(["\n    query getSingleEmailTemplateList($query: GetSingleEmailTemplateListInput) {\n      getSingleEmailTemplateList(query: $query) {\n        message\n        status\n        data {\n          id\n          email_template_id\n          name\n          slug\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),UPDATE_EMAIL_TEMPLATE_LIST:Object(g.d)(o||(o=Object(T.a)(["\n    mutation updateEmailTemplateOnList($data: UpdateEmailTemplateListInput) {\n      updateEmailTemplateOnList(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),CREATE_EMAIL_TEMPLATE:Object(g.d)(E||(E=Object(T.a)(["\n    mutation createEmailTemplate($data: addEmailTemplateInput) {\n      createEmailTemplate(data: $data) {\n        message\n        status\n      }\n    }\n  "]))),GET_EMAIL_TEMPLATE_CONTENT_LIST:Object(g.d)(u||(u=Object(T.a)(["\n    query getEmailTemplateList {\n      getEmailTemplateList {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          createdAt\n          updatedAt\n          emailHeader {\n            id\n            name\n            slug\n          }\n          emailFooter {\n            id\n            name\n            slug\n          }\n        }\n      }\n    }\n  "]))),GET_SINGLE_EMAIL_CONTENT_TEMPLATE:Object(g.d)(c||(c=Object(T.a)(["\n    query getSingleEmailTemplate($query: GetSingleEmailTemplateInput) {\n      getSingleEmailTemplate(query: $query) {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          createdAt\n          updatedAt\n          emailHeader {\n            id\n            name\n            slug\n            content\n            type\n            createdAt\n            updatedAt\n          }\n          emailFooter {\n            id\n            name\n            slug\n            content\n            type\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    }\n  "]))),UPDATE_EMAIL_TEMPLATE_CONTENT:Object(g.d)(p||(p=Object(T.a)(["\n    mutation updateEmailTemplate($data: updateEmailTemplateInput) {\n      updateEmailTemplate(data: $data) {\n        message\n        status\n        tenant_id\n      }\n    }\n  "])))}},990:function(e,t,a){"use strict";a.r(t);a(100);var n=a(51),l=(a(101),a(40)),i=(a(155),a(35)),r=(a(74),a(17)),m=(a(121),a(69)),d=a(7),s=(a(154),a(25)),o=a(14),E=a(0),u=a.n(E),c=a(81),p=a(77),T=a(76),g=a(72),A=a(63),b=a(10),L=a(43),O=a(26),_=a(109),y=a(22),h=a(664),I=a.n(h),j=(a(665),a(621)),F=a(666),H=a.n(F),S=a(667),f=a.n(S);h.Quill.register("modules/imageResize",H.a),h.Quill.register("modules/htmlEditButton",f.a);var M={toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]],imageResize:{parchment:h.Quill.import("parchment"),modules:["Resize","DisplaySize"]},htmlEditButton:{okText:"Save",msg:'Edit HTML here, when you click "Save" the quill editor\'s contents will be replaced'}};t.default=function(){Object(y.c)("email-template");var e=Object(A.useHistory)(),t=Object(L.d)((function(e){return e.auth.token})),a=Object(E.useState)(!1),h=Object(o.a)(a,2),F=h[0],H=h[1],S=Object(E.useState)(""),f=Object(o.a)(S,2),v=f[0],q=f[1],P=s.a.useForm(),D=Object(o.a)(P,1)[0];return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.a,{title:"Add Email Header/Footer"}),u.a.createElement(p.b,null,u.a.createElement(n.a,{gutter:25},u.a.createElement(l.a,{sm:24,xs:24},u.a.createElement(T.a,{headless:!0},F?u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement(m.a,{tip:"processing..."})):u.a.createElement(s.a,{style:{width:"100%"},form:D,name:"addEmailHeaderFooter",onFinish:function(a){H(!0),_.b.mutate({mutation:j.a.ADD_EMAIL_TEMPLATE_HEADER_FOOTER,variables:{data:Object(d.a)(Object(d.a)({},a),{},{content:v})},refetchQueries:[{query:j.a.GET_EMAIL_HEADER_FOOTER_LIST,context:{headers:{TENANTID:"100001",Authorization:t}},fetchPolicy:"network-only"},["getEmailTempHeaderFooterList"]],context:{headers:{TENANTID:"100001",Authorization:t}}}).then((function(t){var a,n=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.addEmailTempHeaderFooter;if(!(null===n||void 0===n?void 0:n.status))return O.b.error("Something Went wrong !!");setTimeout((function(){e.push("/admin/email/header-footer/list")}),1e3),O.b.success(null===n||void 0===n?void 0:n.message)})).catch((function(e){O.b.error("Something Went wrong !!")})).finally((function(){return H(!1)}))},onFinishFailed:function(e){return console.log("form error info:\n",e)},labelCol:{span:4}},u.a.createElement(s.a.Item,{rules:[{required:!0,max:100,message:"Please Enter Email Header/Footer Name"}],name:"name",label:"Name"},u.a.createElement(r.a,{placeholder:"Enter Header/Footer Name"})),u.a.createElement(s.a.Item,{name:"type",label:"Type",required:!0},u.a.createElement(i.a,{style:{width:"100%"},placeholder:"Select Header/Footer Type",optionLabelProp:"label"},u.a.createElement(i.a.Option,{value:"header",label:"Header"},u.a.createElement("div",{className:"demo-option-label-item"},"Header")),u.a.createElement(i.a.Option,{value:"footer",label:"Footer"},u.a.createElement("div",{className:"demo-option-label-item"},"Footer")))),u.a.createElement(s.a.Item,{label:"Content",required:!0},u.a.createElement(I.a,{theme:"snow",modules:M,placeholder:"Content goes here...",onChange:q})),u.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},u.a.createElement(s.a.Item,null,u.a.createElement(g.a,{loading:F,size:"default",htmlType:"submit",type:"primary",raised:!0},F?"Processing":"Save"),u.a.createElement(b.b,{to:"/admin/email/header-footer/list"},u.a.createElement(g.a,{style:{marginLeft:10},type:"light",size:"default"},"Cancel"))))))))))}}}]);