(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[23],{1032:function(e,t,a){"use strict";a.r(t);a(69);var n=a(20),r=(a(70),a(14)),l=(a(89),a(32)),i=(a(92),a(25)),c=(a(134),a(72)),s=a(6),d=a(9),u=a(0),o=a.n(u),m=a(218),p=a(26),b=a.n(p),E=a(142),g=a(108),f=a(107),v=a(71),A=a(12),h=a(153),j=a.n(h),O=a(49),N=a(683),B=a(39),_=a(135),y=a.n(_),w=a(22),I=a(50);t.default=function(){var e,t;Object(w.e)("banner");var a=Object(u.useState)({data:[],loading:!0,error:""}),p=Object(d.a)(a,2),h=p[0],_=p[1],C=Object(u.useState)([]),S=Object(d.a)(C,2),k=S[0],x=S[1],D=Object(u.useState)(!1),L=Object(d.a)(D,2),T=L[0],U=L[1],R=Object(B.d)((function(e){return e.auth.token}));Object(u.useEffect)((function(){O.b.query({query:N.a.GET_ALL_BANNER,context:{headers:{TENANTID:"100001",Authorization:R}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllBanners;_((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){_((function(e){return Object(s.a)(Object(s.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){_((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))}))}),[]);var $=[{title:"ID",dataIndex:"id",key:"id",width:80,ellipsis:!0,sorter:function(e,t){return e.id.toUpperCase()>t.id.toUpperCase()?1:-1}},{title:"Name",dataIndex:"name",key:"name",width:250,ellipsis:!0,sorter:function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}},{title:"Alias",dataIndex:"slug",key:"slug",width:250,ellipsis:!0,sorter:function(e,t){return e.slug.toUpperCase()>t.slug.toUpperCase()?1:-1}},{title:"Date",dataIndex:"createdAt",key:"createdAt",width:120,align:"center",render:function(e,t){return o.a.createElement("span",{className:"status-text"},o.a.createElement(y.a,{format:"DD MMMM YYYY"},parseInt(e)))}},{title:"Action",dataIndex:"action",align:"right",key:"action",width:100,render:function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.b,{to:"/admin/banner/edit/".concat(t.id)},o.a.createElement(j.a,{name:"edit"})))}}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{title:"Banner List",buttons:[o.a.createElement("div",{key:"1",className:"page-header-actions"},o.a.createElement(A.b,{to:"/admin/banner/add"},o.a.createElement(v.a,{size:"small",title:"Add Banner",type:"primary"},o.a.createElement(b.a,{icon:"plus"}))))]}),o.a.createElement(g.b,null,o.a.createElement(n.a,{gutter:25},o.a.createElement(r.a,{sm:24,xs:24},o.a.createElement(f.a,{headless:!0},h.loading?o.a.createElement("div",{className:"spin"},o.a.createElement(c.a,null)):h.error?o.a.createElement("p",null,h.error):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{placeholder:"Search in Banner...",prefix:o.a.createElement(m.a,null),onChange:function(e){var t=e.target.value;U(t),x(h.data.filter((function(e){return((null===e||void 0===e?void 0:e.name)+(null===e||void 0===e?void 0:e.slug)+(null===e||void 0===e?void 0:e.id)).toLowerCase().includes(t.toLowerCase())})))}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"psp_list"},o.a.createElement(l.a,{className:"table-responsive",columns:$,pagination:{defaultPageSize:I.a.BANNER_PER_PAGE,total:T?null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.length:null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}},rowKey:"id",size:"small",dataSource:T?k:h.data,rowClassName:function(e,t){return t%2===0?"":"altTableClass"}}))))))))}},683:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n,r,l,i,c=a(7),s=a(15),d={BANNER_ADD:Object(s.d)(n||(n=Object(c.a)(["\n    mutation addBanner($data: BannerInput) {\n      addBanner(data: $data) {\n        message\n        status\n        id\n      }\n    }\n  "]))),GET_ALL_BANNER:Object(s.d)(r||(r=Object(c.a)(["\n    query getAllBanners {\n      getAllBanners {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          status\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),GET_SINGLE_BANNER:Object(s.d)(l||(l=Object(c.a)(["\n    query getSingleBanner($banner_id: Int!) {\n      getSingleBanner(query: { banner_id: $banner_id }) {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          layout_type\n          status\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),BANNER_UPDATE:Object(s.d)(i||(i=Object(c.a)(["\n    mutation updateBanner($data: UpdateBannerInput) {\n      updateBanner(data: $data) {\n        message\n        status\n      }\n    }\n  "])))}}}]);
//# sourceMappingURL=23.58ee0cd8.chunk.js.map