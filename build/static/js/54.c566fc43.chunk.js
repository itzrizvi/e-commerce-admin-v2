(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[54],{664:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a,i,o,d,r=n(8),u=n(16),l={CONDITION_ADD:Object(u.d)(a||(a=Object(r.a)(["\n    mutation addProductCondition($name: String!){\n        addProductCondition(data: { name: $name }) {\n            message\n            status\n            tenant_id\n        }\n    }"]))),CONDITION_UPDATE:Object(u.d)(i||(i=Object(r.a)(["\n    mutation updateProductCondition($data: UpdateProductConditionInput){\n        updateProductCondition(data: $data) {\n            message\n            status\n            tenant_id\n        }\n    }"]))),GET_ALL_CONDITION:Object(u.d)(o||(o=Object(r.a)(["\n    query getAllProductCondition{\n        getAllProductCondition {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n    }"]))),GET_SINGLE_CONDITION:Object(u.d)(d||(d=Object(r.a)(["\n    query getSingleProductCondition($query: GetSingleProductConditionInput){\n        getSingleProductCondition(query: $query) {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n  }"])))}},972:function(t,e,n){"use strict";n.r(e);n(200);var a=n(97),i=(n(201),n(74)),o=(n(148),n(45)),d=(n(166),n(98)),r=(n(288),n(69)),u=n(9),l=(n(289),n(52)),c=n(23),s=n(0),m=n.n(s),v=n(217),O=n(165),b=n(164),f=n(287),p=n(58),g=n(12),E=n(50),C=n(317),j=n.n(C),I=n(664),N=n(99),h=n(22),y=n(76);e.default=function(){var t,e;Object(h.f)("product-condition");var n=Object(p.useLocation)().search,C=j.a.parse(n),P=Object(p.useHistory)(),T=Object(E.d)((function(t){return t.auth.token})),A=Object(s.useState)(!1),_=Object(c.a)(A,2),D=_[0],L=_[1],q=Object(s.useState)({data:[],isLoading:!0}),S=Object(c.a)(q,2),x=S[0],G=S[1],F=l.a.useForm(),$=Object(c.a)(F,1)[0];Object(s.useEffect)((function(){C.id&&N.b.query({query:I.a.GET_SINGLE_CONDITION,variables:{query:{id:parseInt(null===C||void 0===C?void 0:C.id)}},context:{headers:{TENANTID:"100001",Authorization:T}}}).then((function(t){var e,n,a=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.getSingleProductCondition;if(!(null===a||void 0===a?void 0:a.status))return Object(y.a)();G((function(t){return Object(u.a)(Object(u.a)({},t),{},{data:null===a||void 0===a?void 0:a.data,error:""})})),$.setFieldsValue({name:null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.name})})).finally((function(){G((function(t){return Object(u.a)(Object(u.a)({},t),{},{isLoading:!1})}))}))}),[]);return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,{title:"Manage Product Condition | Edit Product Condition ".concat((null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.name)?"(".concat(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.name,")"):"")}),m.a.createElement(O.b,null,m.a.createElement(a.a,{gutter:25},m.a.createElement(i.a,{sm:24,xs:24},m.a.createElement(b.a,{headless:!0},(null===x||void 0===x?void 0:x.isLoading)?m.a.createElement("div",{style:{textAlign:"center"}},m.a.createElement(d.a,{tip:"processing..."})):m.a.createElement(l.a,{style:{width:"100%"},form:$,name:"addProductCondition",onFinish:function(t){L(!0),N.b.mutate({mutation:I.a.CONDITION_UPDATE,variables:{data:{name:t.name,id:parseInt(null===C||void 0===C?void 0:C.id)}},refetchQueries:[{query:I.a.GET_ALL_CONDITION,context:{headers:{TENANTID:"100001",Authorization:T}}},["getAllProductCondition"]],context:{headers:{TENANTID:"100001",Authorization:T}}}).then((function(t){var e,n=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.updateProductCondition;if(!(null===n||void 0===n?void 0:n.status))return Object(y.a)();setTimeout((function(){P.push("/admin/product-condition/list")}),1e3),r.b.success(null===n||void 0===n?void 0:n.message)})).finally((function(){return L(!1)}))},onFinishFailed:function(t){return console.log("form error info:\n",t)},labelCol:{span:4}},m.a.createElement(l.a.Item,{rules:[{required:!0,max:30,message:"Please Enter Product Condition Name"}],name:"name",label:"Name"},m.a.createElement(o.a,{placeholder:"Enter Product Condition Name"})),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(l.a.Item,null,m.a.createElement(f.a,{loading:D,size:"default",htmlType:"submit",type:"primary",raised:!0},D?"Processing":"Save"),m.a.createElement(g.b,{to:"/admin/product-condition/list"},m.a.createElement(f.a,{style:{marginLeft:10},type:"light",size:"default"},"Cancel"))))))))))}}}]);