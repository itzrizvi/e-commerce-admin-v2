(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[23],{614:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n,r,l,i,c,d,s,u=t(12),o=t(30),m={GET_ALL_BRAND:Object(o.d)(n||(n=Object(u.a)(["\n  query getAllBrands {\n  getAllBrands {\n    message\n    tenant_id\n    status\n    data {\n      brand_uuid\n      brand_name\n      brand_slug\n      brand_description\n      brand_status\n      image\n      brand_sort_order\n      createdAt\n    }\n  }\n}"]))),GET_CATEGORIES:Object(o.d)(r||(r=Object(u.a)(["\n  query getParentCategories {\n    getParentCategories {\n      message\n      status\n      tenant_id\n      categories {\n        cat_id\n        cat_name\n      }\n    }\n  }\n"]))),GET_SINGLE_BRAND:Object(o.d)(l||(l=Object(u.a)(["\n  query getSingleBrand($brand_uuid : UUID!){\n    getSingleBrand(query: {brand_uuid: $brand_uuid}) {\n      message\n      tenant_id\n      status\n      data {\n        brand_name\n        brand_description\n        brand_status\n        brand_sort_order\n        image\n        categories {\n          cat_id\n          cat_name\n        }\n      }\n    }\n  }\n"]))),BRAND_UPDATE:Object(o.d)(i||(i=Object(u.a)(["\n  mutation updateBrand($data: UpdateBrandInput, $file:Upload){\n    updateBrand(data:$data, file: $file){\n      message\n      status\n    }\n  }"]))),BRAND_UPDATE_WI:Object(o.d)(c||(c=Object(u.a)(["\n  mutation updateBrand($data: UpdateBrandInput){\n    updateBrand(data:$data){\n      message\n      status\n    }\n  }"]))),BRAND_ADD:Object(o.d)(d||(d=Object(u.a)(["\n    mutation createBrand($data: BrandCreateInput, $file:Upload) {\n      createBrand(data: $data, file:$file) {\n        message\n        tenant_id\n        status\n      }\n    }"]))),BRAND_ADD_WI:Object(o.d)(s||(s=Object(u.a)(["\n      mutation createBrand($data: BrandCreateInput) {\n        createBrand(data: $data) {\n          message\n          tenant_id\n          status\n        }\n     }"])))}},864:function(e,a,t){"use strict";t.r(a);t(129);var n=t(66),r=(t(130),t(41)),l=(t(605),t(604)),i=(t(254),t(146)),c=(t(696),t(698)),d=(t(280),t(132)),s=(t(196),t(119)),u=t(11),o=(t(278),t(58)),m=t(33),b=(t(142),t(67)),g=t(0),p=t.n(g),E=t(145),f=t(144),_=t(143),O=t(175),h=t(54),j=t(10),v=t(42),A=t(46),y=t(349),B=t(614),D=t(281),I=t(257),S=t(282);a.default=function(){var e=b.a.TextArea,a=Object(h.useHistory)(),t=Object(v.d)((function(e){return e.auth.token})),N=Object(g.useState)(!1),C=Object(m.a)(N,2),T=C[0],$=C[1],L=Object(g.useState)(!1),P=Object(m.a)(L,2),R=P[0],U=P[1],w=Object(g.useState)(!0),q=Object(m.a)(w,2),x=q[0],G=q[1],k=Object(g.useState)(""),z=Object(m.a)(k,2),F=z[0],M=z[1],W=Object(g.useState)(""),J=Object(m.a)(W,2),H=J[0],Q=J[1],V=Object(g.useState)(0),Y=Object(m.a)(V,2),K=Y[0],X=Y[1],Z=Object(g.useState)([]),ee=Object(m.a)(Z,2),ae=ee[0],te=ee[1],ne=Object(g.useState)([]),re=Object(m.a)(ne,2),le=re[0],ie=re[1],ce=o.a.useForm(),de=Object(m.a)(ce,1)[0];Object(g.useEffect)((function(){$(!0),D.b.query({query:B.a.GET_CATEGORIES,context:{headers:{TENANTID:"100001",Authorization:t}}}).then((function(e){var a,t,n=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.getParentCategories)||void 0===t?void 0:t.categories;ie(n),$(!1)})).catch((function(e){ie([]),console.log(e)}))}),[]);var se=p.a.createElement("div",null,p.a.createElement(y.a,null),p.a.createElement("div",{style:{marginTop:8}}," Upload "));return p.a.createElement(p.a.Fragment,null,p.a.createElement(E.a,{title:"Add Manufacture"}),p.a.createElement(f.b,null,p.a.createElement(n.a,{gutter:25},p.a.createElement(r.a,{sm:24,xs:24},p.a.createElement(_.a,{headless:!0},T?p.a.createElement("div",{style:{textAlign:"center"}},p.a.createElement(s.a,{tip:"processing..."})):p.a.createElement(o.a,{style:{width:"100%"},form:de,name:"addBrand",onFinish:function(e){U(!0);var n=[];if(ae.forEach((function(e){n.push({cat_id:e})})),0==n.length)return U(!1),A.b.error("Please Select Category");var r=Object(u.a)(Object(u.a)({},e),{},{brandStatus:x,brandSortOrder:K,categories:n});D.a.mutate({mutation:F?B.a.BRAND_ADD:B.a.BRAND_ADD_WI,variables:F?{data:r,file:F}:{data:r},refetchQueries:[{query:B.a.GET_ALL_BRAND,context:{headers:{TENANTID:"100001",Authorization:t}}},"getAllBrands"],context:{headers:{TENANTID:"100001",Authorization:t}}}).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.createBrand;if(!(null===n||void 0===n?void 0:n.status))return A.b.error("Something Went wrong !!");a.push("/admin/brand/list"),A.b.success(null===n||void 0===n?void 0:n.message),window.location.reload()})).catch((function(e){A.b.error("Something Went wrong !!")})).finally((function(){return U(!1)}))},onFinishFailed:function(e){return console.log("form error info:\n",e)},labelCol:{span:4}},p.a.createElement(o.a.Item,{rules:[{required:!0,max:30,message:"Please Enter Manufacture Name"}],name:"brandName",label:"Name"},p.a.createElement(b.a,{placeholder:"Enter Manufacture Name"})),p.a.createElement(o.a.Item,{rules:[{required:!0,message:"Please Enter Manufacture Description"}],name:"brandDescription",label:"Description"},p.a.createElement(e,{rows:4,placeholder:"Enter Manufacture Description"})),p.a.createElement(o.a.Item,{label:"Categories",required:!0},p.a.createElement(d.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select Categories",initialvalues:"",onChange:function(e){return te(e)},optionLabelProp:"label"},le.map((function(e){return p.a.createElement(d.a.Option,{key:e.cat_id,value:e.cat_id,label:e.cat_name},p.a.createElement("div",{className:"demo-option-label-item"},e.cat_name))})))),p.a.createElement(o.a.Item,{label:"Sort Order"},p.a.createElement(c.a,{defaultValue:0,onChange:X,style:{width:"100%"}})),p.a.createElement(o.a.Item,{label:"Status"},p.a.createElement(i.a,{checked:x,onChange:function(e){return G(e)},checkedChildren:"ON",unCheckedChildren:"OFF"})),p.a.createElement(o.a.Item,{label:"Image"},p.a.createElement(l.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(e){var a="image/jpeg"===e.type;a||A.b.error("You can only upload JPG file!");var t=e.size/1024/1024<1;return t||A.b.error("Image must smaller than 1MB!"),a&&t&&(Q(URL.createObjectURL(e)),M(e)),!1},fileList:[]},H?p.a.createElement(S.LazyLoadImage,{src:H,onError:I.errorImageSrc,alt:"image",style:{width:"100%"}}):se)),p.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},p.a.createElement(o.a.Item,null,p.a.createElement(O.a,{loading:R,size:"default",htmlType:"submit",type:"primary",raised:!0},R?"Processing":"Save"),p.a.createElement(j.b,{to:"/admin/brand/list"},p.a.createElement(O.a,{style:{marginLeft:10},type:"light",size:"default"},"Cancel"))))))))))}}}]);