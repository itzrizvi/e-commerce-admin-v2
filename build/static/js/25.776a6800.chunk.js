(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[25],{618:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n,r,d,i,s,l,u,c,o=t(11),b=t(20),m={GET_ALL_BRAND:Object(b.d)(n||(n=Object(o.a)(["\n  query getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_description\n      brand_status\n      image\n      brand_sort_order\n      createdAt\n    }\n  }\n}"]))),GET_ALL_BRAND_WITH_CATEGORY:Object(b.d)(r||(r=Object(o.a)(["\nquery getAllBrands {\n  getAllBrands {\n    message\n    tenant_id\n    status\n    data {\n      brand_uuid\n      brand_name\n      brand_slug\n      brand_status\n      brand_description\n      image\n      createdAt\n      updatedAt\n      tenant_id\n      categories {\n        cat_id\n        cat_name\n        cat_slug\n        cat_status\n        subcategories {\n          cat_id\n          cat_name\n          cat_slug\n          cat_status\n          subsubcategories {\n            cat_id\n            cat_name\n            cat_slug\n            cat_status\n          }\n        }\n      }\n    }\n  }\n}\n\n"]))),GET_CATEGORIES:Object(b.d)(d||(d=Object(o.a)(["\n  query getParentCategories {\n    getParentCategories {\n      message\n      status\n      categories {\n        id\n        cat_name\n      }\n    }\n  }\n"]))),GET_SINGLE_BRAND:Object(b.d)(i||(i=Object(o.a)(["\n  query getSingleBrand($query: GetSingleBrandInput){\n    getSingleBrand(query: $query) {\n      message\n      status\n      data {\n        brand_name\n        brand_description\n        brand_status\n        brand_sort_order\n        image\n        categories {\n          id\n          cat_name\n        }\n      }\n    }\n  }\n"]))),BRAND_UPDATE:Object(b.d)(s||(s=Object(o.a)(["\n  mutation updateBrand($data: UpdateBrandInput, $file:Upload){\n    updateBrand(data:$data, file: $file){\n      message\n      status\n    }\n  }"]))),BRAND_UPDATE_WI:Object(b.d)(l||(l=Object(o.a)(["\n  mutation updateBrand($data: UpdateBrandInput){\n    updateBrand(data:$data){\n      message\n      status\n    }\n  }"]))),BRAND_ADD:Object(b.d)(u||(u=Object(o.a)(["\n    mutation createBrand($data: BrandCreateInput, $file:Upload) {\n      createBrand(data: $data, file:$file) {\n        message\n        tenant_id\n        status\n      }\n    }"]))),BRAND_ADD_WI:Object(b.d)(c||(c=Object(o.a)(["\n      mutation createBrand($data: BrandCreateInput) {\n        createBrand(data: $data) {\n          message\n          tenant_id\n          status\n        }\n     }"])))}},880:function(e,a,t){"use strict";t.r(a);t(131);var n=t(67),r=(t(132),t(44)),d=(t(282),t(133)),i=(t(143),t(68)),s=(t(199),t(122)),l=(t(257),t(147)),u=t(12),c=t(33),o=t(0),b=t.n(o),m=t(174),_=t(26),g=t.n(_),p=t(146),f=t(145),E=t(144),v=t(178),A=t(10),h=t(112),O=t.n(h),j=t(284),B=t(618),I=t(46),D=t(286),y=t.n(D),N=t(50),C=t(260),S=t(285),w=t(34),T=t(123);a.default=function(){var e,a;Object(w.b)("manufacture");var t=Object(o.useState)({data:[],loading:!0,error:""}),_=Object(c.a)(t,2),h=_[0],D=_[1],x=Object(o.useState)([]),$=Object(c.a)(x,2),k=$[0],R=$[1],U=Object(o.useState)(!1),L=Object(c.a)(U,2),G=L[0],P=L[1],q=Object(I.d)((function(e){return e.auth.token}));Object(o.useEffect)((function(){j.b.query({query:B.a.GET_ALL_BRAND,context:{headers:{TENANTID:"100001",Authorization:q}}}).then((function(e){var a,t=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.getAllBrands;D((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:null===t||void 0===t?void 0:t.data,error:""})}))})).catch((function(e){D((function(e){return Object(u.a)(Object(u.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){D((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1})}))}))}),[]);var M=[{title:"ID",dataIndex:"id",key:"id",width:120,ellipsis:!0,sorter:function(e,a){return e.id.toUpperCase()>a.id.toUpperCase()?1:-1}},{title:"Name",dataIndex:"brand_name",key:"brand_name",width:120,ellipsis:!0,sorter:function(e,a){return e.brand_name.toUpperCase()>a.brand_name.toUpperCase()?1:-1}},{title:"Image",dataIndex:"image",key:"image",width:70,align:"center",render:function(e,a){return b.a.createElement(S.LazyLoadImage,{effect:"blur",height:"32",src:Object(C.renderImage)(a.id,a.image,"brand","128x128"),onError:C.errorImageSrc,onL:!0,alt:a.brand_name})}},{title:"Alias",dataIndex:"brand_slug",key:"brand_slug",width:120,ellipsis:!0,sorter:function(e,a){return e.brand_slug.toUpperCase()>a.brand_slug.toUpperCase()?1:-1}},{title:"Description",dataIndex:"brand_description",key:"brand_description",width:200,ellipsis:!0},{title:"Status",dataIndex:"brand_status",key:"brand_status",align:"right",width:120,render:function(e,a){return b.a.createElement(l.a,{defaultChecked:e,title:"Status",onChange:function(e){return function(e,a){var t={data:{brand_id:e.id,brand_status:a}};j.b.mutate({mutation:B.a.BRAND_UPDATE,variables:t,context:{headers:{TENANTID:"100001",Authorization:q}}}).then((function(a){var t,n,r,d;if(!(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.updateBrand)||void 0===n?void 0:n.status))return N.b.error(null===a||void 0===a||null===(r=a.data)||void 0===r||null===(d=r.updateBrand)||void 0===d?void 0:d.message);N.b.success("".concat(e.brand_name," Status updated."))})).catch((function(e){console.log(e),N.b.error("Something went wrong!!")}))}(a,e)}})},filters:[{text:"Enable",value:!0},{text:"Disable",value:!1}],onFilter:function(e,a){return a.brand_status===e},sorter:function(e,a){return e.brand_status-a.brand_status}},{title:"Date",dataIndex:"createdAt",key:"createdAt",align:"center",width:120,render:function(e,a){return b.a.createElement("span",{className:"status-text"},b.a.createElement(y.a,{format:"DD MMMM YYYY"},parseInt(e)))}},{title:"Action",dataIndex:"action",align:"right",key:"action",width:80,render:function(e,a){return b.a.createElement(b.a.Fragment,null,b.a.createElement(A.b,{to:"/admin/brand/edit?id=".concat(a.id)},b.a.createElement(O.a,{name:"edit"})))}}];return b.a.createElement(b.a.Fragment,null,b.a.createElement(p.a,{title:"Manufacture",buttons:[b.a.createElement("div",{key:"1",className:"page-header-actions"},b.a.createElement(A.b,{to:"/admin/brand/add"},b.a.createElement(v.a,{size:"small",title:"Add Manufacture",type:"primary"},b.a.createElement(g.a,{icon:"plus"}))))]}),b.a.createElement(f.b,null,b.a.createElement(n.a,{gutter:25},b.a.createElement(r.a,{sm:24,xs:24},b.a.createElement(E.a,{headless:!0},h.loading?b.a.createElement("div",{className:"spin"},b.a.createElement(s.a,null)):h.error?b.a.createElement("p",null,h.error):b.a.createElement(b.a.Fragment,null,b.a.createElement(i.a,{placeholder:"Search in Manufacture...",prefix:b.a.createElement(m.a,null),onChange:function(e){var a=e.target.value;P(a),R(h.data.filter((function(e){return((null===e||void 0===e?void 0:e.brand_name)+(null===e||void 0===e?void 0:e.brand_slug)+(null===e||void 0===e?void 0:e.id)).toLowerCase().includes(a.toLowerCase())})))}}),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("span",{className:"psp_list"},b.a.createElement(d.a,{className:"table-responsive",columns:M,pagination:{defaultPageSize:T.a.BRAND_PER_PAGE,total:G?null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.length:null===h||void 0===h||null===(a=h.data)||void 0===a?void 0:a.length,showTotal:function(e,a){return"".concat(a[0],"-").concat(a[1]," of ").concat(e," items")}},rowKey:"id",size:"small",dataSource:G?k:h.data,rowClassName:function(e,a){return a%2===0?"":"altTableClass"}}))))))))}}}]);