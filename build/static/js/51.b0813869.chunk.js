(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[51],{660:function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));var n,i,l,u,r=e(8),d=e(16),s={AVAILABILITY_STATUS_ADD:Object(d.d)(n||(n=Object(r.a)(["\n    mutation addProductAvailabilityStatus($name: String!){\n        addProductAvailabilityStatus(data: { name: $name }) {\n            message\n            status\n            tenant_id\n        }\n    }"]))),AVAILABILITY_STATUS_UPDATE:Object(d.d)(i||(i=Object(r.a)(["\n    mutation updateProductAvailabilityStatus($data: UpdateProductAvailabilityStatusInput){\n        updateProductAvailabilityStatus(data: $data) {\n            message\n            status\n            tenant_id\n        }\n    }"]))),GET_ALL_AVAILABILITY_STATUS:Object(d.d)(l||(l=Object(r.a)(["\n    query getAllProductAvailabilityStatus{\n        getAllProductAvailabilityStatus {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n    }"]))),GET_SINGLE_AVAILABILITY_STATUS:Object(d.d)(u||(u=Object(r.a)(["\n    query getSingleProductAvailabilityStatus($query : GetSingleProductAvailabilityStatusInput){\n        getSingleProductAvailabilityStatus(query: $query) {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n  }"])))}},970:function(t,a,e){"use strict";e.r(a);e(200);var n=e(97),i=(e(201),e(74)),l=(e(148),e(45)),u=(e(166),e(98)),r=(e(288),e(69)),d=e(9),s=(e(289),e(52)),o=e(23),c=e(0),A=e.n(c),v=e(217),m=e(165),b=e(164),y=e(287),S=e(58),T=e(12),f=e(50),p=e(317),g=e.n(p),I=e(99),E=e(22),j=e(660),L=e(76);a.default=function(){var t,a;Object(E.f)("product-availability-status");var e=Object(S.useLocation)().search,p=g.a.parse(e),O=Object(S.useHistory)(),_=Object(f.d)((function(t){return t.auth.token})),h=Object(c.useState)(!1),P=Object(o.a)(h,2),N=P[0],q=P[1],U=Object(c.useState)({data:[],isLoading:!0}),x=Object(o.a)(U,2),V=x[0],B=x[1],D=s.a.useForm(),G=Object(o.a)(D,1)[0];Object(c.useEffect)((function(){p.id&&I.b.query({query:j.a.GET_SINGLE_AVAILABILITY_STATUS,variables:{query:{id:parseInt(null===p||void 0===p?void 0:p.id)}},context:{headers:{TENANTID:"100001",Authorization:_}}}).then((function(t){var a,e,n=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.getSingleProductAvailabilityStatus;if(!(null===n||void 0===n?void 0:n.status))return Object(L.a)();B((function(t){return Object(d.a)(Object(d.a)({},t),{},{data:null===n||void 0===n?void 0:n.data,error:""})})),G.setFieldsValue({name:null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.name})})).finally((function(){B((function(t){return Object(d.a)(Object(d.a)({},t),{},{isLoading:!1})}))}))}),[]);return A.a.createElement(A.a.Fragment,null,A.a.createElement(v.a,{title:"Manage Product Availability Status | Edit Product Availability Status ".concat((null===V||void 0===V||null===(t=V.data)||void 0===t?void 0:t.name)?"(".concat(null===V||void 0===V||null===(a=V.data)||void 0===a?void 0:a.name,")"):"")}),A.a.createElement(m.b,null,A.a.createElement(n.a,{gutter:25},A.a.createElement(i.a,{sm:24,xs:24},A.a.createElement(b.a,{headless:!0},(null===V||void 0===V?void 0:V.isLoading)?A.a.createElement("div",{style:{textAlign:"center"}},A.a.createElement(u.a,{tip:"processing..."})):A.a.createElement(s.a,{style:{width:"100%"},form:G,name:"addProductAvailabilityStatus",onFinish:function(t){q(!0),I.b.mutate({mutation:j.a.AVAILABILITY_STATUS_UPDATE,variables:{data:{name:t.name,id:parseInt(null===p||void 0===p?void 0:p.id)}},refetchQueries:[{query:j.a.GET_ALL_AVAILABILITY_STATUS,context:{headers:{TENANTID:"100001",Authorization:_}}},["getAllProductAvailabilityStatus"]],context:{headers:{TENANTID:"100001",Authorization:_}}}).then((function(t){var a,e=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.updateProductAvailabilityStatus;if(!(null===e||void 0===e?void 0:e.status))return Object(L.a)();setTimeout((function(){O.push("/admin/product-availability-status/list")}),1e3),r.b.success(null===e||void 0===e?void 0:e.message)})).finally((function(){return q(!1)}))},onFinishFailed:function(t){return console.log("form error info:\n",t)},labelCol:{span:4}},A.a.createElement(s.a.Item,{rules:[{required:!0,max:30,message:"Please Enter Product Availability Status Name"}],name:"name",label:"Name"},A.a.createElement(l.a,{placeholder:"Enter Product Availability Status Name"})),A.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},A.a.createElement(s.a.Item,null,A.a.createElement(y.a,{loading:N,size:"default",htmlType:"submit",type:"primary",raised:!0},N?"Processing":"Save"),A.a.createElement(T.b,{to:"/admin/product-availability-status/list"},A.a.createElement(y.a,{style:{marginLeft:10},type:"light",size:"default"},"Cancel"))))))))))}}}]);