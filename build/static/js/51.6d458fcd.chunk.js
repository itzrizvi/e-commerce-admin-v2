(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[51],{980:function(e,t,a){"use strict";a.r(t);a(100);var n,r=a(50),i=(a(101),a(40)),l=(a(102),a(54)),o=(a(74),a(17)),u=(a(121),a(69)),d=a(7),s=a(14),c=a(0),m=a.n(c),v=a(193),p=a(81),b=a(77),g=a(76),E=a(11),f=a(103),h=a.n(f),O=a(129),w=a(9),y=a(20),j={GET_ALL_QUOTE:Object(y.d)(n||(n=Object(w.a)(["\n    query getSubmittedQuoteList {\n      getSubmittedQuoteList {\n        message\n        status\n        data {\n          id\n          status\n          grand_total\n          note\n          createdAt\n          updatedAt\n          quotedby {\n            id\n            email\n          }\n        }\n      }\n    }\n  "])))},x=a(43),S=a(218),_=a.n(S),C=a(25),I=a(110);t.default=function(){var e,t;Object(C.c)("quote");var a=Object(c.useState)({data:[],loading:!0,error:""}),n=Object(s.a)(a,2),f=n[0],w=n[1],y=Object(c.useState)([]),S=Object(s.a)(y,2),k=S[0],A=S[1],L=Object(c.useState)(!1),T=Object(s.a)(L,2),q=T[0],N=T[1],U=Object(x.d)((function(e){return e.auth.token}));Object(c.useEffect)((function(){O.b.query({query:j.GET_ALL_QUOTE,context:{headers:{TENANTID:"100001",Authorization:U}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getSubmittedQuoteList;w((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){w((function(e){return Object(d.a)(Object(d.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){w((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!1})}))}))}),[]);var Q=[{title:"ID",dataIndex:"id",key:"id",width:80,ellipsis:!0,sorter:function(e,t){return e.id.toUpperCase()>t.id.toUpperCase()?1:-1}},{title:"Email",dataIndex:["quotedby","email"],key:"email",width:150,ellipsis:!0,sorter:function(e,t){return e.email.toUpperCase()>t.email.toUpperCase()?1:-1}},{title:"Total",dataIndex:"grand_total",key:"grand_total",width:100,ellipsis:!0,sorter:function(e,t){return e.grand_total>t.grand_total?1:-1}},{title:"Status",dataIndex:"status",key:"status",align:"right",width:100,filters:[{text:"New",value:"new"},{text:"In Progress",value:"in_progress"},{text:"Submitted",value:"submitted"}],onFilter:function(e,t){return t.status===e},sorter:function(e,t){return e.status-t.status}},{title:"Note",dataIndex:"note",key:"note",width:250,ellipsis:!0,sorter:function(e,t){return e.note.toUpperCase()>t.note.toUpperCase()?1:-1}},{title:"Date",dataIndex:"createdAt",key:"createdAt",width:120,align:"center",render:function(e,t){return m.a.createElement("span",{className:"status-text"},m.a.createElement(_.a,{format:"DD MMMM YYYY"},parseInt(e)))}},{title:"Action",dataIndex:"action",align:"right",key:"action",width:100,render:function(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement(E.b,{to:"/admin/quote/edit?id=".concat(t.id),style:{margin:".5em"}},m.a.createElement(h.a,{name:"edit"})),m.a.createElement(E.b,{to:"/admin/quote/view?id=".concat(t.id),style:{margin:".5em"}},m.a.createElement(h.a,{name:"eye"})))}}];return m.a.createElement(m.a.Fragment,null,m.a.createElement(p.a,{title:"Quote List"}),m.a.createElement(b.b,null,m.a.createElement(r.a,{gutter:25},m.a.createElement(i.a,{sm:24,xs:24},m.a.createElement(g.a,{headless:!0},f.loading?m.a.createElement("div",{className:"spin"},m.a.createElement(u.a,null)):f.error?m.a.createElement("p",null,f.error):m.a.createElement(m.a.Fragment,null,m.a.createElement(o.a,{placeholder:"Search in Quote...",prefix:m.a.createElement(v.a,null),onChange:function(e){var t=e.target.value;N(t),A(f.data.filter((function(e){var a;return((null===e||void 0===e||null===(a=e.quotedby)||void 0===a?void 0:a.email)+(null===e||void 0===e?void 0:e.id)+(null===e||void 0===e?void 0:e.status)+(null===e||void 0===e?void 0:e.grand_total)+(null===e||void 0===e?void 0:e.note)).toLowerCase().includes(t.toLowerCase())})))}}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("span",{className:"psp_list"},m.a.createElement(l.a,{className:"table-responsive",columns:Q,pagination:{defaultPageSize:I.a.QUOTE_PER_PAGE,total:q?null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length:null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}},rowKey:"id",size:"small",dataSource:q?k:f.data,rowClassName:function(e,t){return t%2===0?"":"altTableClass"}}))))))))}}}]);