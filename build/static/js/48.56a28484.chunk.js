(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[48],{863:function(t,e,a){"use strict";a.r(e);a(156);var r=a(79),n=(a(157),a(37)),u=(a(554),a(553)),o=(a(302),a(218)),s=(a(220),a(159)),l=(a(526),a(527)),i=a(9),c=a(49),d=a(0),p=a.n(d),m=a(16),g=a.n(m),_=a(247),f=a(524),b=a(522),v=a(521),E=a(519),h=a(8),A=a(106),O=a.n(A),j=a(136),y=a(50),S=a.n(y),T=a(219);e.default=function(){var t=Object(d.useState)({data:[],isLoading:!0}),e=Object(c.a)(t,2),a=e[0],m=e[1],A=Object(d.useState)([]),y=Object(c.a)(A,2),x=y[0],N=y[1],w=Object(d.useState)(""),C=Object(c.a)(w,2),k=C[0],G=C[1];Object(d.useEffect)((function(){j.h.query({query:j.c.GET_ALL_ATTR_GROUPS,context:{headers:{TENANTID:"100001",Authorization:S.a.get("psp_t")}}}).then((function(t){var e,a=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.getAllAttrGroups;(null===a||void 0===a?void 0:a.status)&&m((function(t){return Object(i.a)(Object(i.a)({},t),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(t){m((function(t){return Object(i.a)(Object(i.a)({},t),{},{error:"Something went Wrong.!! "})}))})).finally((function(){m((function(t){return Object(i.a)(Object(i.a)({},t),{},{isLoading:!1})}))}))}),[]);var I=[{title:"Group Name",dataIndex:"attr_group_name",key:"attr_group_name",sorter:function(t,e){return t.attr_group_name.toUpperCase()>e.attr_group_name.toUpperCase()?1:-1}},{title:"Sort Order",dataIndex:"attrgroup_sortorder",key:"attrgroup_sortorder",sorter:function(t,e){return t.attrgroup_sortorder===e.attrgroup_sortorder?0:t.attrgroup_sortorder?-1:1}},{title:"Status",dataIndex:"attrgroup_status",key:"attrgroup_status",align:"right",sorter:function(t,e){return t.attrgroup_status===e.attrgroup_status?0:t.attrgroup_status?-1:1},filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:function(t,e){return e.attrgroup_status===t},render:function(t,e){return p.a.createElement(l.a,{defaultChecked:t,title:"Status",onChange:function(t){return L(e,t)}})}},{title:"Action",dataIndex:"attr_group_uuid",key:"attr_group_uuid",width:70,align:"right",render:function(t,e){return p.a.createElement(p.a.Fragment,null,p.a.createElement(h.b,{to:"/admin/attributes/add-group?id=".concat(t,"&name=").concat(e.attr_group_name,"&s=").concat(e.attrgroup_sortorder,"&status=").concat(e.attrgroup_status)},p.a.createElement(O.a,{name:"edit",style:{margin:".5em 1em"}})))}}],L=function(t,e){var a={data:{attr_group_uuid:t.attr_group_uuid,attrgroup_status:e}};console.log(a),j.h.mutate({mutation:j.b.UPDATE_ATTR_GROUP,variables:a,context:{headers:{TENANTID:"100001",Authorization:S.a.get("psp_t")}}}).then((function(e){var a,r=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.updateAttrGroup;if(!r.status)return T.b.error(r.message);T.b.success("".concat(t.attr_group_name," status updated successfully"))})).catch((function(t){return console.log("got error on status update",t),T.b.error("Something Went wrong !!")}))};return p.a.createElement(p.a.Fragment,null,p.a.createElement(f.a,{title:"Attribute Groups",buttons:[p.a.createElement("div",{key:"1",className:"page-header-actions"},p.a.createElement(h.b,{to:"/admin/attributes/add-group"},p.a.createElement(E.a,{size:"small",title:"Add Attribute Group",type:"primary"},p.a.createElement(g.a,{icon:"file-plus"}))))]}),p.a.createElement(b.b,null,p.a.createElement(r.a,{gutter:25},p.a.createElement(n.a,{sm:24,xs:24},p.a.createElement(v.a,{headless:!0},a.isLoading?p.a.createElement("div",{className:"spin"},p.a.createElement(s.a,null)):p.a.createElement(p.a.Fragment,null,p.a.createElement(o.a,{placeholder:"Search Permission...",prefix:p.a.createElement(_.a,null),onChange:function(t){var e=t.target.value;G(e),N(a.data.filter((function(t){return null===t||void 0===t?void 0:t.g_n.toLowerCase().includes(e.toLowerCase())})))}}),p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement("span",{className:"psp_list"},p.a.createElement(u.a,{className:"table-responsive",columns:I,rowKey:"g_s",size:"small",dataSource:k?x:a.data,rowClassName:function(t,e){return e%2==0?"":"altTableClass"}}))))))))}}}]);