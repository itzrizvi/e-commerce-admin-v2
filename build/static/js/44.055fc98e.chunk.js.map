{"version":3,"sources":["container/productCondition/AddCondition.js","apollo/productCondition/index.js"],"names":["AddCondition","viewPermission","history","useHistory","token","useSelector","state","auth","useState","loading","setLoading","useForm","form","title","gutter","sm","xs","headless","style","width","name","onFinish","values","apolloClient","mutate","mutation","productConditionQuery","CONDITION_ADD","variables","refetchQueries","query","GET_ALL_CONDITION","context","headers","TENANTID","process","Authorization","then","res","data","addProductCondition","status","toast","error","setTimeout","push","success","message","catch","err","finally","onFinishFailed","errorInfo","console","log","labelCol","span","Item","rules","required","max","label","placeholder","display","justifyContent","size","htmlType","type","raised","to","marginLeft","gql","CONDITION_UPDATE","GET_SINGLE_CONDITION"],"mappings":"0TAyGeA,UA5FM,WACnBC,YAAe,qBACf,IAAMC,EAAUC,uBACVC,EAAQC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,SAC9C,EAA8BI,oBAAS,GAAM,mBAAtCC,EAAO,KAAEC,EAAU,KAE1B,EAAe,IAAKC,UAAbC,EAAsB,iBAAlB,GA0CX,OACE,oCACE,kBAAC,IAAU,CAACC,MAAM,0BAElB,kBAAC,IAAI,KACH,uBAAKC,OAAQ,IACX,uBAAKC,GAAI,GAAIC,GAAI,IACf,kBAAC,IAAK,CAACC,UAAQ,GACb,uBACEC,MAAO,CAAEC,MAAO,QAChBP,KAAMA,EACNQ,KAAK,sBACLC,SAnDO,SAAAC,GACnBZ,GAAW,GACXa,IACGC,OAAO,CACNC,SAAUC,IAAsBC,cAChCC,UAAW,CAAER,KAAME,EAAOF,MAC1BS,eAAgB,CACd,CACEC,MAAOJ,IAAsBK,kBAC7BC,QAAS,CACPC,QAAS,CACPC,SAAUC,SACVC,cAAehC,KAIrB,CAAC,2BAEH4B,QAAS,CACPC,QAAS,CACPC,SAAUC,SACVC,cAAehC,MAIpBiC,MAAK,SAAAC,GAAQ,IAAD,EACLC,EAAU,OAAHD,QAAG,IAAHA,GAAS,QAAN,EAAHA,EAAKC,YAAI,WAAN,EAAH,EAAWC,oBACxB,KAAS,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAME,QAAQ,OAAOC,IAAMC,MAAM,2BACtCC,YAAW,WACT1C,EAAQ2C,KAAK,mCACZ,KACHH,IAAMI,QAAY,OAAJP,QAAI,IAAJA,OAAI,EAAJA,EAAMQ,YAErBC,OAAM,SAAAC,GACLP,IAAMC,MAAM,8BAEbO,SAAQ,kBAAMxC,GAAW,OAgBhByC,eAAgB,SAAAC,GAAS,OAAIC,QAAQC,IAAI,qBAAsBF,IAC/DG,SAAU,CAAEC,KAAM,IAElB,sBAAMC,KAAI,CACRC,MAAO,CAAC,CAAEC,UAAU,EAAMC,IA5DxB,GA4DwCb,QAAS,wCACnD3B,KAAK,OACLyC,MAAM,QAEN,uBAAOC,YAAY,kCAErB,yBAAK5C,MAAO,CAAE6C,QAAS,OAAQC,eAAgB,aAC7C,sBAAMP,KAAI,KACR,kBAAC,IAAM,CAAChD,QAASA,EAASwD,KAAK,UAAUC,SAAS,SAASC,KAAK,UAAUC,QAAM,GAC7E3D,EAAU,aAAe,QAE5B,kBAAC,IAAI,CAAC4D,GAAG,iCACP,kBAAC,IAAM,CAACnD,MAAO,CAAEoD,WAAY,IAAMH,KAAK,QAAQF,KAAK,WAAS,qB,8FCxFvEvC,EAAwB,CAEnCC,cAAe4C,YAAG,qNAQlBC,iBAAkBD,YAAG,qOAQrBxC,kBAAmBwC,YAAG,mTActBE,qBAAsBF,YAAG","file":"static/js/44.055fc98e.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Row, Col, Form, Input, Switch, Select, Upload, InputNumber, Spin } from 'antd';\nimport { PageHeader } from '../../components/page-headers/page-headers';\nimport { Main } from '../styled';\nimport { Cards } from '../../components/cards/frame/cards-frame';\nimport { Button } from '../../components/buttons/buttons';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { productConditionQuery } from '../../apollo/productCondition';\nimport apolloClient from '../../apollo';\nimport { viewPermission } from '../../utility/utility';\n\nconst AddCondition = () => {\n  viewPermission('product-condition');\n  const history = useHistory();\n  const token = useSelector(state => state.auth.token);\n  const [loading, setLoading] = useState(false);\n  const maxLength = 30;\n  const [form] = Form.useForm();\n\n  //Submit Form\n  const handleSubmit = values => {\n    setLoading(true);\n    apolloClient\n      .mutate({\n        mutation: productConditionQuery.CONDITION_ADD,\n        variables: { name: values.name },\n        refetchQueries: [\n          {\n            query: productConditionQuery.GET_ALL_CONDITION,\n            context: {\n              headers: {\n                TENANTID: process.env.REACT_APP_TENANTID,\n                Authorization: token,\n              },\n            },\n          },\n          ['getAllProductCondition'],\n        ],\n        context: {\n          headers: {\n            TENANTID: process.env.REACT_APP_TENANTID,\n            Authorization: token,\n          },\n        },\n      })\n      .then(res => {\n        const data = res?.data?.addProductCondition;\n        if (!data?.status) return toast.error('Something Went wrong !!');\n        setTimeout(() => {\n          history.push('/admin/product-condition/list');\n        }, 1000);\n        toast.success(data?.message);\n      })\n      .catch(err => {\n        toast.error('Something Went wrong !!');\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <>\n      <PageHeader title=\"Add Product Condition\" />\n\n      <Main>\n        <Row gutter={25}>\n          <Col sm={24} xs={24}>\n            <Cards headless>\n              <Form\n                style={{ width: '100%' }}\n                form={form}\n                name=\"addProductCondition\"\n                onFinish={handleSubmit}\n                onFinishFailed={errorInfo => console.log('form error info:\\n', errorInfo)}\n                labelCol={{ span: 4 }}\n              >\n                <Form.Item\n                  rules={[{ required: true, max: maxLength, message: 'Please Enter Product Condition Name' }]}\n                  name=\"name\"\n                  label=\"Name\"\n                >\n                  <Input placeholder=\"Enter Product Condition Name\" />\n                </Form.Item>\n                <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                  <Form.Item>\n                    <Button loading={loading} size=\"default\" htmlType=\"submit\" type=\"primary\" raised>\n                      {loading ? 'Processing' : 'Save'}\n                    </Button>\n                    <Link to=\"/admin/product-condition/list\">\n                      <Button style={{ marginLeft: 10 }} type=\"light\" size=\"default\">\n                        Cancel\n                      </Button>\n                    </Link>\n                  </Form.Item>\n                </div>\n              </Form>\n            </Cards>\n          </Col>\n        </Row>\n      </Main>\n    </>\n  );\n};\n\nexport default AddCondition;\n","import { gql } from \"@apollo/client\";\n\nexport const productConditionQuery = {\n\n  CONDITION_ADD: gql`\n    mutation addProductCondition($name: String!){\n        addProductCondition(data: { name: $name }) {\n            message\n            status\n            tenant_id\n        }\n    }`,\n  CONDITION_UPDATE: gql`\n    mutation updateProductCondition($data: UpdateProductConditionInput){\n        updateProductCondition(data: $data) {\n            message\n            status\n            tenant_id\n        }\n    }`,\n  GET_ALL_CONDITION: gql`\n    query getAllProductCondition{\n        getAllProductCondition {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n    }`,\n  GET_SINGLE_CONDITION: gql`\n    query getSingleProductCondition($query: GetSingleProductConditionInput){\n        getSingleProductCondition(query: $query) {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n  }`\n}\n"],"sourceRoot":""}