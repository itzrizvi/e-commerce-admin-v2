(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[16],{1071:function(e,t,a){"use strict";a.r(t);a(152);var n=a(44),r=(a(227),a(78)),l=(a(178),a(109)),i=(a(69),a(20)),o=(a(70),a(14)),d=(a(134),a(72)),u=a(64),c=a(6),s=(a(115),a(17)),m=a(9),p=(a(92),a(25)),v=a(0),_=a.n(v),b=a(142),g=a(108),f=a(107),E=a(71),h=a(805),y=a.n(h),O=a(806),j=a.n(O),S=(a(89),a(33)),P=(a(226),a(123)),T=(a(68),a(22)),I=a(94),A=a(1011),w=a(26),k=a.n(w),C=a(28),L=a(93),x=a.n(L),D=n.a.Option,N=function(e){var t=e.attributesTableData,a=e.setAttributesTableData,r=Object(v.useState)({}),l=Object(m.a)(r,2),i=(l[0],l[1]),o=Object(v.useState)({data:[],isLoading:!0}),d=Object(m.a)(o,2),u=d[0],s=d[1],b=Object(v.useState)({}),g=Object(m.a)(b,2),f=(g[0],g[1]);Object(v.useEffect)((function(){C.j.query({query:C.c.GET_ALL_ATTR_GROUPS_FOR_ADD_PROD,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllAttrGroups;(null===a||void 0===a?void 0:a.status)&&s((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){s((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){s((function(e){return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1})}))}))}),[]);var E=[{title:"Attribute Group",dataIndex:"attr_group_id",key:"attr_group_id",width:200,render:function(e,t,r){return _.a.createElement(n.a,{style:{width:"100%"},placeholder:u.isLoading?"Loading...":"Select Group...",defaultValue:e,options:u.data.map((function(e){return{label:e.attr_group_name,value:e.id,attributes:e.attributes}})),onSelect:function(e,t){return function(e,t,n){f(t),a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{attr_group_id:e}),r}))}(e,t,r)}})}},{title:"Attribute",dataIndex:"attribute_id",key:"attribute_id",width:200,render:function(e,t,r){var l,i;return _.a.createElement(n.a,{style:{width:"100%"},defaultValue:e,placeholder:u.isLoading?"Loading...":"Select Attribute...",options:null===u||void 0===u||null===(l=u.data.filter((function(e){return e.id===t.attr_group_id}))[0])||void 0===l||null===(i=l.attributes)||void 0===i?void 0:i.map((function(e){return{label:e.attribute_name,value:e.id}})),onSelect:function(e,t){return function(e,t,n){a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{attribute_id:e}),r}))}(e,0,r)}})}},{title:"Value Type",dataIndex:"value",width:80,key:"value",render:function(e,t,r){return _.a.createElement(n.a,{style:{width:"10em",marginRight:"1em"},placeholder:"Select type",defaultValue:t.attribute_type,onChange:function(e){a((function(t){var a=t[r],n=Object(I.a)(t);return n[r]=Object(c.a)(Object(c.a)({},a),{},{attribute_type:e}),n}))}},_.a.createElement(D,{value:"text"},"Text"),_.a.createElement(D,{value:"link"},"Link"),_.a.createElement(D,{value:"file"},"File"),_.a.createElement(D,{value:"none"},"None"))}},{title:"Attribute Value",dataIndex:"attribute_value",width:150,key:"attribute_value",render:function(e,t,n){return"text"===t.attribute_type?_.a.createElement(p.a,{placeholder:"Enter text",size:"large",onBlur:function(e){a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{attribute_value:e.target.value}),r}))},defaultValue:t.attribute_value}):"link"===t.attribute_type?_.a.createElement(p.a,{placeholder:"Enter Link",size:"large",onBlur:function(e){a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{attribute_value:e.target.value}),r}))},defaultValue:t.attribute_value}):"file"===t.attribute_type?_.a.createElement(P.a,{multiple:!1,onChange:function(e){i(e.file),a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{attribute_value:e.file.originFileObj}),r}))},onRemove:function(){return i({})}},_.a.createElement(T.a,{icon:_.a.createElement(A.a,null)},"Select File"),_.a.createElement("p",{style:{fontSize:12,marginTop:10}},t.attribute_value.name?"".concat(t.attribute_value.name):"".concat(t.attribute_value))):void 0}},{title:"Action",dataIndex:"action",key:"action",width:90,align:"right",render:function(e,t){return _.a.createElement(T.a,{size:"",title:"Remove",type:"danger",onClick:function(){return e=t.id,void a((function(t){return t.filter((function(t){return t.id!==e}))}));var e}},_.a.createElement(k.a,{icon:"minus",size:15}))}}];return _.a.createElement(_.a.Fragment,null,_.a.createElement(S.a,{columns:E,dataSource:t,pagination:!1,rowKey:"attribute_value"}),_.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px",marginRight:"1em"}},_.a.createElement(T.a,{title:"Add Attribute",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),attr_group_id:"",attribute_id:"",attribute_type:"",attribute_value:""};a((function(t){return[].concat(Object(I.a)(t),[e])}))}},_.a.createElement(k.a,{icon:"plus",size:15}))))},q=(a(407),a(334)),R=a(124),V=a.n(R),B=function(e){var t=e.discount,a=e.setDiscount,r=Object(v.useState)({data:[],isLoading:!0}),l=Object(m.a)(r,2),i=l[0],o=l[1];Object(v.useEffect)((function(){C.j.query({query:C.i.GET_ALL_CUSTOMER_GROUPS,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllCustomerGroups;(null===a||void 0===a?void 0:a.status)&&o((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){o((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){o((function(e){return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1})}))}))}),[]);var d=[{title:"Customer Group",dataIndex:"customer_group_id",key:"customer_group_id",render:function(e,t,r){var l;return _.a.createElement(n.a,{style:{width:"150px"},placeholder:i.isLoading?"Loading..":"customer group",defaultValue:e||null,onSelect:function(e){a((function(t){var a=t[r],n=Object(I.a)(t);return n[r]=Object(c.a)(Object(c.a)({},a),{},{customer_group_id:e}),console.log(n),n}))}},null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.map((function(e){return _.a.createElement(n.a.Option,{key:e.id,value:e.id},e.customer_group_name)})))}},{title:"Quantity",dataIndex:"discount_quantity",key:"discount_quantity",width:100,render:function(e,t,n){return _.a.createElement(p.a,{defaultValue:e,type:"number",placeholder:"Quantity",style:{width:"100px"},onBlur:function(e){a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_quantity:e.target.value}),console.log(r),r}))}})}},{title:"Priority",dataIndex:"discount_priority",key:"discount_priority",width:100,render:function(e,t,n){return _.a.createElement(p.a,{type:"number",placeholder:"Priority",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_priority:e.target.value}),console.log(r),r}))}})}},{title:"Price",dataIndex:"discount_price",key:"discount_price",width:100,render:function(e,t,n){return _.a.createElement(p.a,{type:"number",placeholder:"Price",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(I.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_price:e.target.value}),console.log(r),r}))}})}},{title:"Date Start",dataIndex:"discount_startdate",key:"discount_startdate",render:function(e,t,n){return _.a.createElement(q.a,{defaultValue:e&&V()(parseInt(e)),onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],r=Object(I.a)(e);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_startdate:t}),console.log(r),r}))}})}},{title:"Date End",dataIndex:"discount_enddate",key:"discount_enddate",render:function(e,t,n){return _.a.createElement(q.a,{defaultValue:e&&V()(parseInt(e)),onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],r=Object(I.a)(e);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_enddate:t}),r}))}})}},{title:"Action",dataIndex:"action",key:"action",render:function(e,t){return _.a.createElement(T.a,{size:"",title:"Remove",type:"danger",onClick:function(){return u(t.id)}},_.a.createElement(k.a,{icon:"minus"}))}}],u=function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))};return _.a.createElement(_.a.Fragment,null,_.a.createElement(S.a,{className:"table-responsive",columns:d,pagination:!1,rowKey:"id",size:"small",dataSource:t}),_.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px"}},_.a.createElement(T.a,{title:"Add Banner",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),customer_group_id:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""};a((function(t){return[].concat(Object(I.a)(t),[e])}))},style:{marginRight:".5em"}},_.a.createElement(k.a,{icon:"plus"}))))},G=a(807),F=a.n(G),U=a(31),W=a(663),z=function(e){var t=e.featuresImage,a=e.setFeaturesImage,n=e.gallaryImages,r=e.setGallaryImages,l=e.singleProdId,i=e.setIsLoading;return _.a.createElement(_.a.Fragment,null,_.a.createElement(s.a.Item,{label:"Features Image"},_.a.createElement(P.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){var t="image/jpeg"===e.type;if(!t)return U.b.error("You can only upload JPG file!");var n=e.size/1024/1024<2;return n?(t&&n&&(a({file:e,thumbnail:URL.createObjectURL(e)}),l&&(i(!0),C.a.mutate({mutation:C.k.UPDATE_THUMBNAIL,variables:{data:{prod_id:l,prod_thumbnail:e}},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updateThumbnail;if(!a.status)return U.b.error(a.message);U.b.success(a.message)})).catch((function(e){return console.log("update thumbnail err:\n",e),U.b.error("Something Went wrong !!")})).finally((function(){})))),!1):U.b.error("Image must smaller than 2MB!")},onPreview:function(){return console.log()},onRemove:function(){return a({})},fileList:t.thumbnail?[{file:t.file,url:t.thumbnail}]:[]},!t.thumbnail&&"+ Upload")),_.a.createElement(s.a.Item,{label:"Gallery Image"},_.a.createElement(F.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){return console.log("file type:\n",e.type),"image/jpeg"===e.type?e.size/1024/1024<2?(r((function(t){return[].concat(Object(I.a)(t),[{file:e,url:URL.createObjectURL(e),uid:e.uid}])})),l&&(i(!0),C.a.mutate({mutation:C.k.UPLOAD_GALLERY_IMAGE,variables:{data:{prod_id:l,gallery_img:e}},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.uploadGalleryImage;if(!a.status)return U.b.error(a.message);U.b.success(a.message)})).catch((function(e){return console.log("update gal img err:\n",e),U.b.error("Something Went wrong !!")})).finally((function(){}))),!1):U.b.error("Image must smaller than 2MB!"):U.b.error("You can only upload JPG file!")},fileList:n,onRemove:function(e){r((function(t){return t.filter((function(t){return t.uid!==e.uid}))})),l&&(i(!0),C.a.mutate({mutation:C.k.DELETE_GALLERY_IMAGE,variables:{data:{prod_id:l,prod_gallery_id:e.prod_gallery_uuid}},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.deleteGalleryImage;if(!a.status)return U.b.error(a.message);U.b.success(a.message)})).catch((function(e){return console.log("del gal img err:\n",e),U.b.error("Something Went wrong !!")})).finally((function(){})))}},_.a.createElement("p",{className:"ant-upload-drag-icon"},_.a.createElement(W.a,null)),_.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"))))},M=a(50),$=a(680),H=function(e){var t,a=e.products,r=(e.setProducts,e.selectedPartsOfProducts),l=e.setSelectedPartsOfProducts,d=(e.partOfProductQuantities,e.setPartOfProductQuantities),u=[{title:"Name",dataIndex:"label",key:"label"},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Quantity",dataIndex:"q",key:"q",width:120,render:function(e,t){return _.a.createElement(p.a,{defaultValue:t.quantity||"1",type:"number",placeholder:"Quantity",onBlur:function(e){d((function(a){var n=Object(c.a)({},a);return n[t.uid]=e.target.value,console.log(n),n}))}})}},{title:"Action",dataIndex:"action",key:"action",width:100,render:function(e,t,a){return _.a.createElement(T.a,{size:"",title:"Remove",type:"danger",onClick:function(){var e=Object(I.a)(r);e.splice(a,1),l(e)}},_.a.createElement(k.a,{icon:"minus"}))}}];return _.a.createElement("div",null,_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{label:"Products"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:8},_.a.createElement(n.a,{style:{marginBottom:"2em"},mode:"multiple",value:r,placeholder:a.isLoading?"Loading..":"Select Product..",optionFilterProp:"label",options:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.map((function(e){return{label:e.prod_name,value:e.id,uid:e.id,key:e.id,name:e.prod_name,sku:e.prod_sku}})),onChange:function(e,t){l(t)}}))),_.a.createElement(S.a,{dataSource:r,columns:u,pagination:!1,rowKey:"uid"})))))},K=a(21),Q=a(75),Y=a(12),J=a(244),Z=a.n(J),X=["prod_regular_price","extended_warranty_value","prod_sale_price","cost"],ee=["id"],te=p.a.TextArea;t.default=function(){var e,t,a,h,O,S,P,T,I,A,w,k,L,D,q,R,V,G,F,W,J,ae,ne,re,le,ie,oe,de,ue,ce,se,me,pe,ve,_e,be,ge,fe,Ee,he,ye,Oe,je,Se,Pe,Te,Ie,Ae,we,ke,Ce,Le,xe,De,Ne,qe,Re,Ve,Be,Ge,Fe,Ue,We,ze,Me,$e,He,Ke,Qe,Ye,Je,Ze;Object(K.g)("product");var Xe=s.a.useForm(),et=Object(m.a)(Xe,1)[0],tt=Object(v.useState)(!1),at=Object(m.a)(tt,2),nt=at[0],rt=at[1],lt=Object(Q.useHistory)(),it=Object(v.useState)(null),ot=Object(m.a)(it,2),dt=ot[0],ut=ot[1],ct=Object(v.useState)(null),st=Object(m.a)(ct,2),mt=st[0],pt=st[1],vt=Object(v.useState)(null),_t=Object(m.a)(vt,2),bt=(_t[0],_t[1]),gt=Object(v.useState)(null),ft=Object(m.a)(gt,2),Et=ft[0],ht=ft[1],yt=Object(v.useState)(!1),Ot=Object(m.a)(yt,2),jt=Ot[0],St=Ot[1],Pt=Object(Q.useLocation)().search,Tt=Z.a.parse(Pt),It=Object(v.useState)({data:{},isLoading:!0}),At=Object(m.a)(It,2),wt=At[0],kt=At[1];Object(v.useEffect)((function(){Tt.id&&M.b.query({query:C.l.GET_SINGLE_PRODUCT,variables:{query:{prod_id:parseInt(Tt.id)}},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}},fetchPolicy:"network-only"}).then((function(e){var t,a,n,r,l,i,o,d,u,c,s,m,p,v,_,b,g,f,E,h,O,j,S,P,T,I,A,w,k,C,L,x=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getSingleProduct;if(!x.status)return U.b.error("Try reload..!");kt({data:null===x||void 0===x?void 0:x.data,isLoading:!1}),Dt(y.a.createValueFromString(null===x||void 0===x||null===(a=x.data)||void 0===a?void 0:a.prod_long_desc,"html")),Vt(null===x||void 0===x||null===(n=x.data)||void 0===n?void 0:n.prod_long_desc),Fa((function(e){var t,a;return null===x||void 0===x||null===(t=x.data)||void 0===t||null===(a=t.discount_type)||void 0===a?void 0:a.map((function(e){return{id:e.id,customer_group_id:e.id,discount_quantity:e.discount_quantity,discount_priority:e.discount_priority,discount_price:e.discount_price,discount_startdate:e.discount_startdate,discount_enddate:e.discount_enddate}}))})),qa((function(e){var t,a;return null===x||void 0===x||null===(t=x.data)||void 0===t||null===(a=t.prod_attributes)||void 0===a?void 0:a.map((function(e){var t,a,n,r;return{id:e.id,attr_group_id:null===(t=e.attribute_data)||void 0===t||null===(a=t.attribute_group)||void 0===a?void 0:a.id,attribute_id:null===e||void 0===e||null===(n=e.attribute_data)||void 0===n?void 0:n.id,attribute_name:null===e||void 0===e||null===(r=e.attribute_data)||void 0===r?void 0:r.attribute_name,attribute_type:e.attribute_type,attribute_value:e.attribute_value}}))})),Qa((function(e){var t,a;return null===x||void 0===x||null===(t=x.data)||void 0===t||null===(a=t.part_of_products)||void 0===a?void 0:a.map((function(e){return{label:e.part_product.prod_name,value:e.part_product.id,uid:e.part_product.id,key:e.part_product.id,name:e.part_product.prod_name,sku:e.part_product.prod_sku,quantity:e.prod_quantity}}))})),nn((function(e){var t,a;return{file:"",thumbnail:"https://api.primeserverparts.com/images/product/image/thumbnail/".concat(null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.id,"/128x128_").concat(null===x||void 0===x||null===(a=x.data)||void 0===a?void 0:a.id,".jpg")}})),dn(null===x||void 0===x?void 0:x.data.gallery.map((function(e){var t;return{file:"",url:"https://api.primeserverparts.com/images/product/image/gallery/".concat(null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.id,"/128x128_").concat(e.prod_image),prod_gallery_uuid:e.id}}))),et.setFieldValue({prod_name:null===x||void 0===x?void 0:x.data.prod_name,prod_short_desc:null===x||void 0===x?void 0:x.data.prod_short_desc,prod_meta_title:null===x||void 0===x?void 0:x.data.prod_meta_title,prod_meta_desc:null===x||void 0===x?void 0:x.data.prod_meta_desc,prod_meta_keywords:null===x||void 0===x?void 0:x.data.prod_meta_keywords,prod_tags:null===x||void 0===x?void 0:x.data.prod_tags,prod_partnum:null===x||void 0===x?void 0:x.data.prod_partnum,prod_sku:null===x||void 0===x?void 0:x.data.prod_sku,is_sale:null===x||void 0===x?void 0:x.data.is_sale,brand_id:null===x||void 0===x||null===(r=x.data)||void 0===r||null===(l=r.brand)||void 0===l?void 0:l.id,prod_category:null===x||void 0===x||null===(i=x.data)||void 0===i||null===(o=i.category)||void 0===o?void 0:o.id,prod_outofstock_status:null===x||void 0===x||null===(d=x.data)||void 0===d||null===(u=d.productavailablitystatus)||void 0===u?void 0:u.id,prod_regular_price:(null===x||void 0===x||null===(c=x.data)||void 0===c?void 0:c.prod_regular_price)||"",prod_sale_price:(null===x||void 0===x||null===(s=x.data)||void 0===s?void 0:s.prod_sale_price)||"",cost:(null===x||void 0===x||null===(m=x.data)||void 0===m?void 0:m.cost)||"",prod_condition:(null===x||void 0===x||null===(p=x.data)||void 0===p||null===(v=p.productCondition)||void 0===v?void 0:v.id)||"",product_rep:(null===x||void 0===x||null===(_=x.data)||void 0===_||null===(b=_.representative)||void 0===b?void 0:b.id)||"",extended_warranty:null===x||void 0===x||null===(g=x.data)||void 0===g?void 0:g.extended_warranty,extended_warranty_value:(null===x||void 0===x||null===(f=x.data)||void 0===f?void 0:f.extended_warranty_value)||0,location:(null===x||void 0===x||null===(E=x.data)||void 0===E?void 0:E.location)||"",hs_code:(null===x||void 0===x||null===(h=x.data)||void 0===h?void 0:h.hs_code)||"",product_rank:(null===x||void 0===x||null===(O=x.data)||void 0===O?void 0:O.product_rank)||"",mfg_build_part_number:(null===x||void 0===x||null===(j=x.data)||void 0===j?void 0:j.mfg_build_part_number)||""}),bt(null===x||void 0===x||null===(S=x.data)||void 0===S||null===(P=S.category)||void 0===P?void 0:P.id),St(null===x||void 0===x||null===(T=x.data)||void 0===T?void 0:T.extended_warranty_value),ht(null===x||void 0===x||null===(I=x.data)||void 0===I||null===(A=I.productavailablitystatus)||void 0===A?void 0:A.id),ut(null===x||void 0===x||null===(w=x.data)||void 0===w||null===(k=w.productCondition)||void 0===k?void 0:k.id),pt(null===x||void 0===x||null===(C=x.data)||void 0===C||null===(L=C.representative)||void 0===L?void 0:L.id)})).catch((function(e){console.log("error on loading porduct,\n",e)}))}),[]);var Ct=Object(v.useState)(y.a.createEmptyValue()),Lt=Object(m.a)(Ct,2),xt=Lt[0],Dt=Lt[1],Nt=Object(v.useState)(""),qt=Object(m.a)(Nt,2),Rt=qt[0],Vt=qt[1],Bt=Object(v.useState)(!0),Gt=Object(m.a)(Bt,2),Ft=Gt[0],Ut=(Gt[1],Object(v.useState)(!0)),Wt=Object(m.a)(Ut,2),zt=Wt[0],Mt=Wt[1],$t=Object(v.useState)({data:[],loading:!0,error:""}),Ht=Object(m.a)($t,2),Kt=Ht[0],Qt=Ht[1],Yt=Object(v.useState)({data:[],loading:!0,error:""}),Jt=Object(m.a)(Yt,2),Zt=Jt[0],Xt=Jt[1],ea=Object(v.useState)({data:[],loading:!0,error:""}),ta=Object(m.a)(ea,2),aa=ta[0],na=ta[1],ra=Object(v.useState)({data:[],loading:!0,error:""}),la=Object(m.a)(ra,2),ia=la[0],oa=la[1],da=Object(v.useState)({data:[],loading:!0,error:""}),ua=Object(m.a)(da,2),ca=ua[0],sa=ua[1],ma=Object(v.useState)({data:[],loading:!0,error:""}),pa=Object(m.a)(ma,2),va=pa[0],_a=pa[1],ba=Object(v.useState)([]),ga=Object(m.a)(ba,2),fa=ga[0],Ea=ga[1],ha=Object(v.useState)([]),ya=Object(m.a)(ha,2),Oa=ya[0],ja=ya[1];Object(v.useEffect)((function(){Tt.id&&wt.isLoading||(M.b.query({query:$.a.GET_ALL_BRAND_WITH_CATEGORY,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllBrands;if(Qt((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})})),Tt.id){var n,r,l=null===wt||void 0===wt||null===(n=wt.data.brand)||void 0===n?void 0:n.id,i=null===a||void 0===a?void 0:a.data.find((function(e){return e.id===l})),o=[];null===i||void 0===i||null===(r=i.categories)||void 0===r||r.forEach((function(e){var t=e.cat_name;o.push({cat_name:t,id:e.id,cat_status:e.cat_status}),e.subcategories&&e.subcategories.forEach((function(e){var a=e.cat_name;o.push({cat_name:"".concat(t," > ").concat(a),id:e.id,cat_status:e.cat_status}),e.subsubcategories&&e.subsubcategories.forEach((function(e){var n=e.cat_name;o.push({cat_name:"".concat(t," > ").concat(a," > ").concat(n),id:e.id,cat_status:e.cat_status})}))}))})),Ea(o)}})).catch((function(e){Qt((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Qt((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))})),M.b.query({query:C.m.GET_ALL_CONDITIONS,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllProductCondition;Xt(a)})).catch((function(e){Xt((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Xt((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))})),M.b.query({query:C.e.GET_ALL_STAFF,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllStaff;na(a)})).catch((function(e){na((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){na((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))})),M.b.query({query:C.m.GET_ALL_AVAILABILITY,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllProductAvailabilityStatus;oa(a)})).catch((function(e){oa((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){oa((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))})),M.b.query({query:C.m.GET_WEIGHT_CLASS_LIST,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getWeightClassList;_a(a)})).catch((function(e){_a((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){_a((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))})),M.b.query({query:C.m.GET_DIMENSION_CLASS_LIST,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getDimensionClassList;sa(a)})).catch((function(e){sa((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){sa((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))})))}),[wt]);var Sa=Object(v.useState)({}),Pa=Object(m.a)(Sa,2),Ta=Pa[0],Ia=Pa[1],Aa=Object(v.useState)({}),wa=Object(m.a)(Aa,2),ka=wa[0],Ca=wa[1],La=[{id:(new Date).getTime(),attr_group_id:"",attribute_id:"",attribute_type:"",attribute_value:""}],xa=Object(v.useState)(La),Da=Object(m.a)(xa,2),Na=Da[0],qa=Da[1],Ra=[{id:(new Date).getTime(),customer_group_id:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""}],Va=Object(v.useState)(Ra),Ba=Object(m.a)(Va,2),Ga=Ba[0],Fa=Ba[1],Ua=Object(v.useState)({data:[],isLoading:!0}),Wa=Object(m.a)(Ua,2),za=Wa[0],Ma=Wa[1],$a=Object(v.useState)([]),Ha=Object(m.a)($a,2),Ka=Ha[0],Qa=Ha[1],Ya=Object(v.useState)({}),Ja=Object(m.a)(Ya,2),Za=Ja[0],Xa=Ja[1];Object(v.useEffect)((function(){M.b.query({query:C.l.GET_PRODUCT_LIST_FOR_ADD_MINIMAL,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getProductList;(null===a||void 0===a?void 0:a.status)&&Ma((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){Ma((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Ma((function(e){return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1})}))}))}),[]);var en=Object(v.useState)({}),tn=Object(m.a)(en,2),an=tn[0],nn=tn[1],rn=Object(v.useState)([]),ln=Object(m.a)(rn,2),on=ln[0],dn=ln[1];return _.a.createElement(_.a.Fragment,null,_.a.createElement(b.a,{title:Tt.id?"Manage Product | Edit Product ".concat(wt.isLoading?"":"(".concat(wt.data.prod_name,")")):"Add Product"}),_.a.createElement(g.b,null,_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{sm:24,xs:24},_.a.createElement(f.a,{headless:!0},Tt.id&&wt.isLoading?_.a.createElement("div",{div:"true",className:"spin"},_.a.createElement(d.a,null)):_.a.createElement(s.a,{style:{width:"100%"},form:et,name:"addRole",onFinish:function(){var e=et.getFieldsValue(!0),t=e.prod_regular_price,a=e.extended_warranty_value,n=e.prod_sale_price,r=e.cost,l=Object(u.a)(e,X),i=!0,o=!0,d=Na.map((function(e){e.id;var t=Object(u.a)(e,ee);return"none"===t.attribute_type&&(t.attribute_value="none"),t.attr_group_id||t.attribute_type||t.attribute_value||(i=!1),t.attr_group_id&&t.attribute_type&&t.attribute_value||(o=!1),Object(c.a)({},t)}));if(!o&&i)return U.b.warning("Please fill all Attribute field correctly");var s=!0,m=!0,p=Ga.map((function(e){e.id;var t=e.customer_group_id,a=e.discount_quantity,n=e.discount_priority,r=e.discount_price,l=e.discount_startdate,i=e.discount_enddate;return t||a||n||r||l||i||(s=!1),t&&a&&n&&r&&l&&i||(m=!1),{customer_group_id:t,discount_quantity:a,discount_priority:n,discount_price:r,discount_startdate:l,discount_enddate:i}}));if(!m&&s)return U.b.warning("Please fill all Discount field correctly");var v=Oa.map((function(e){return e.uid})),_=Ka.map((function(e){return{prod_id:e.uid,prod_quantity:Za[e.uid]?parseInt(Za[e.uid]):1}})),b=Object(c.a)(Object(c.a)({},l),{},{prod_long_desc:Rt,related_product:v,prod_status:Ft,partof_product:_,taxable:zt,prod_condition:dt,product_rep:mt,prod_outofstock_status:Et});if(t&&(b.prod_regular_price=parseFloat(t)),r&&(b.cost=parseFloat(r)),a&&(b.extended_warranty_value=parseFloat(a)),n&&(b.prod_sale_price=parseFloat(n)),i&&(b.product_attributes=d),s&&(b.discount_type=p),ka&&(b.weight=ka),Ta&&(b.dimensions=Ta),!b.prod_long_desc)return U.b.warning("Please enter a long description");if(!b.prod_short_desc)return U.b.warning("Please enter a long description");if(!b.prod_sku)return U.b.warning("Please enter Product SKU");if(!b.prod_partnum)return U.b.warning("Please enter Part No");if(!b.brand_id)return U.b.warning("Please select a Manufacture");if(!b.prod_category)return U.b.warning("Please select a Category");if(!b.prod_outofstock_status&&!Tt.id)return U.b.warning("Please select an Availability Status");if(!b.prod_regular_price)return U.b.warning("Please enter Regular Price");if(rt(!0),Tt.id)b.prod_id=parseInt(Tt.id),C.a.mutate({mutation:C.k.UPDATE_PRODUCT,variables:{data:b},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}},refetchQueries:[{query:C.l.GET_PRODUCT_LIST,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}},fetchPolicy:"network-only"},["getProductList"]]}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updateProduct;if(!a.status)return U.b.error(a.message);setTimeout((function(){lt.push("/admin/products/list")}),1e3),U.b.success(a.message)})).catch((function(e){return console.log("add Prod err:\n",e),U.b.error("Something Went wrong !!")})).finally((function(){rt(!1)}));else{if(b.prod_thumbnail=an.file,b.prod_gallery=on.map((function(e){return e.file})),!prod_thumbnail)return U.b.warning("Please select a Feature image");C.a.mutate({mutation:C.k.ADD_PRODUCT,variables:{data:b},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}},refetchQueries:[{query:C.l.GET_PRODUCT_LIST,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}},fetchPolicy:"network-only"},["getProductList"]]}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.addProduct;if(!a.status)return U.b.error(a.message);setTimeout((function(){lt.push("/admin/products/list")}),1e3),U.b.success(a.message)})).catch((function(e){return console.log("add Prod err:\n",e),U.b.error("Something Went wrong !!")})).finally((function(){rt(!1)}))}},onFinishFailed:function(e){console.log("form error info:\n",e),U.b.warning("Please fill all required data in all tab")},labelCol:{span:4},initialValues:Tt.id&&{prod_name:wt.data.prod_name,prod_short_desc:wt.data.prod_short_desc,prod_meta_title:wt.data.prod_meta_title,prod_meta_desc:wt.data.prod_meta_desc,prod_meta_keywords:wt.data.prod_meta_keywords,prod_tags:wt.data.prod_tags,prod_partnum:wt.data.prod_partnum,prod_sku:wt.data.prod_sku,is_sale:wt.data.is_sale,brand_id:null===(e=wt.data)||void 0===e||null===(t=e.brand)||void 0===t?void 0:t.id,prod_condition:(null===(a=wt.data)||void 0===a||null===(h=a.productCondition)||void 0===h?void 0:h.id)||"",product_rep:(null===(O=wt.data)||void 0===O||null===(S=O.representative)||void 0===S?void 0:S.id)||"",prod_outofstock_status:null===wt||void 0===wt||null===(P=wt.data)||void 0===P||null===(T=P.productavailablitystatus)||void 0===T?void 0:T.id,prod_category:null===(I=wt.data)||void 0===I||null===(A=I.category)||void 0===A?void 0:A.id,prod_regular_price:(null===(w=wt.data)||void 0===w?void 0:w.prod_regular_price)||0,prod_sale_price:(null===(k=wt.data)||void 0===k?void 0:k.prod_sale_price)||0,cost:(null===(L=wt.data)||void 0===L?void 0:L.cost)||0,extended_warranty:(null===(D=wt.data)||void 0===D?void 0:D.extended_warranty)||!1,extended_warranty_value:(null===(q=wt.data)||void 0===q?void 0:q.extended_warranty_value)||0,location:(null===(R=wt.data)||void 0===R?void 0:R.location)||"",hs_code:(null===(V=wt.data)||void 0===V?void 0:V.hs_code)||"",product_rank:(null===(G=wt.data)||void 0===G?void 0:G.product_rank)||"",mfg_build_part_number:(null===(F=wt.data)||void 0===F?void 0:F.mfg_build_part_number)||""}},_.a.createElement(r.a,null,_.a.createElement(r.a.TabPane,{tab:"General",key:"general"},_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_partnum",rules:[{required:!0,message:"Part NO"}],label:"Part Number"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:6},_.a.createElement(p.a,{defaultValue:null===wt||void 0===wt||null===(W=wt.data)||void 0===W?void 0:W.prod_partnum,placeholder:"Part No"}))))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"mfg_build_part_number",label:"MFG Build Part Number"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:6},_.a.createElement(p.a,{defaultValue:null===wt||void 0===wt||null===(J=wt.data)||void 0===J?void 0:J.mfg_build_part_number,placeholder:"MFG Build Part Number"}))))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_sku",label:"SKU"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:6},_.a.createElement(p.a,{defaultValue:null===wt||void 0===wt||null===(ae=wt.data)||void 0===ae?void 0:ae.prod_sku,placeholder:" Product SKU"}))))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_name",rules:[{required:!0,message:"Please enter Product Name"}],label:"Title"},_.a.createElement(p.a,{placeholder:"Product Name"}))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_short_desc",rules:[{required:!0,message:"Please enter n"}],label:"Short Description"},_.a.createElement(te,{rows:3,placeholder:" Short Description"}))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{label:"Long Description"},_.a.createElement(y.a,{value:xt,onChange:function(e){Vt(e.toString("html")),Dt(e)},placeholder:"Long Description",className:j.a.rte,editorClassName:j.a.rteEditor,toolbarClassName:j.a.rteToolbar}))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_meta_title",rules:[{required:!0,message:"Please enter Meta Title"}],label:"Meta Title"},_.a.createElement(p.a,{placeholder:" Meta Title"}))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_meta_desc",rules:[{required:!0,message:"Please enter Meta Description"}],label:"Meta Description"},_.a.createElement(p.a,{placeholder:" Meta Description"}))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_meta_keywords",rules:[{required:!0,message:"Please enter Meta Keywords"}],label:"Meta Keywords"},_.a.createElement(p.a,{placeholder:"Comma separated Meta Keywords"}))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_tags",rules:[{required:!0,message:"Please enter Tags"}],label:"Tags"},_.a.createElement(p.a,{placeholder:"Comma separated Tags"}))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_status",label:"Status"},_.a.createElement(l.a,{defaultChecked:wt.data.prod_status,defaultValue:wt.data.prod_status}))))),_.a.createElement(r.a.TabPane,{tab:"Data",key:"Data"},_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:12},_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"prod_condition",rules:[{required:!0,message:"Product Condition Is Required"}],label:"Product Condition"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:12},_.a.createElement(n.a,{defaultValue:null===wt||void 0===wt||null===(ne=wt.data)||void 0===ne||null===(re=ne.productCondition)||void 0===re?void 0:re.name,placeholder:Zt.loading?"Loading...":"Select Condition",options:null===Zt||void 0===Zt||null===(le=Zt.data)||void 0===le?void 0:le.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return ut(e)}})))))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"location",label:"Location"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:16},_.a.createElement(p.a,{defaultValue:null===wt||void 0===wt||null===(ie=wt.data)||void 0===ie?void 0:ie.location,placeholder:" Product Location"})))))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"hs_code",label:"HS Code"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:12},_.a.createElement(p.a,{defaultValue:null===wt||void 0===wt||null===(oe=wt.data)||void 0===oe?void 0:oe.hs_code,placeholder:" HS Code"})))))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"product_rank",label:"Product Rank"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:12},_.a.createElement(p.a,{defaultValue:null===wt||void 0===wt||null===(de=wt.data)||void 0===de?void 0:de.product_rank,placeholder:" Product Rank"})))))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"product_rep",label:"Product Representative"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:20},_.a.createElement(n.a,{defaultValue:wt.data.representative?"".concat(null===wt||void 0===wt||null===(ue=wt.data)||void 0===ue||null===(ce=ue.representative)||void 0===ce?void 0:ce.first_name," ").concat(null===wt||void 0===wt||null===(se=wt.data)||void 0===se||null===(me=se.representative)||void 0===me?void 0:me.last_name," - ").concat(null===wt||void 0===wt||null===(pe=wt.data)||void 0===pe||null===(ve=pe.representative)||void 0===ve?void 0:ve.roles[0].role):null,placeholder:aa.loading?"Loading...":"Select a Product Representative",options:null===aa||void 0===aa||null===(_e=aa.data)||void 0===_e?void 0:_e.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})),onSelect:function(e){return pt(e)}}))))))),_.a.createElement(o.a,{span:12},_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"extended_warranty",label:"Extended Warranty"},_.a.createElement(l.a,{defaultChecked:wt.data.extended_warranty,onChange:function(e){return St(e)},defaultValue:wt.data.extended_warranty})),jt&&_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},rules:[{required:!0,message:"Extended Warranty Value"}],name:"extended_warranty_value",label:"Extended Warranty Value"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:8},_.a.createElement(p.a,{placeholder:"Extended Warranty Value",defaultValue:null===wt||void 0===wt||null===(be=wt.data)||void 0===be?void 0:be.extended_warranty_value,type:"number"})))))),_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"is_sale",label:"On Sale"},_.a.createElement(l.a,{defaultChecked:wt.data.is_sale,defaultValue:wt.data.is_sale})),_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"is_featured",label:"Featured"},_.a.createElement(l.a,{defaultChecked:wt.data.is_featured,defaultValue:wt.data.is_featured})),_.a.createElement(s.a.Item,{labelCol:{style:{width:"40%"}},name:"is_serial",label:"Has Serial"},_.a.createElement(l.a,{defaultChecked:wt.data.is_serial,defaultValue:wt.data.is_serial}))))),_.a.createElement(r.a.TabPane,{tab:"Links",key:"Links"},_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"brand_id",rules:[{required:!0,message:"Please Select a Manufacture"}],label:"Manufacturer"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:7},_.a.createElement(n.a,{defaultValue:null===wt||void 0===wt||null===(ge=wt.data)||void 0===ge||null===(fe=ge.brand)||void 0===fe?void 0:fe.brand_name,placeholder:Kt.loading?"Loading...":"Select Manufacture",options:null===Kt||void 0===Kt||null===(Ee=Kt.data)||void 0===Ee?void 0:Ee.map((function(e){return{label:e.brand_name,value:e.id,categories:e.categories}})),onSelect:function(e,t){var a,n;if(Ea([]),bt(""),null===t||void 0===t||null===(a=t.categories)||void 0===a?void 0:a.length){var r=[];null===t||void 0===t||null===(n=t.categories)||void 0===n||n.forEach((function(e){var t=e.cat_name;r.push({cat_name:t,id:e.id,cat_status:e.cat_status}),e.subcategories&&e.subcategories.forEach((function(e){var a=e.cat_name;r.push({cat_name:"".concat(t," > ").concat(a),id:e.id,cat_status:e.cat_status}),e.subsubcategories&&e.subsubcategories.forEach((function(e){var n=e.cat_name;r.push({cat_name:"".concat(t," > ").concat(a," > ").concat(n),id:e.id,cat_status:e.cat_status})}))}))})),Ea(r)}}})))))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_category",rules:[{required:!0,message:"Please Select a Category"}],label:"Categories"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:7},_.a.createElement(n.a,{defaultValue:null===wt||void 0===wt||null===(he=wt.data)||void 0===he||null===(ye=he.category)||void 0===ye?void 0:ye.cat_name,placeholder:Kt.loading?"Loading...":fa.length?"Select Category":"Select manifacture first",options:fa.map((function(e){return{label:e.cat_name,value:e.id,key:e.id}}))})))))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{label:"Related Product",rules:[{required:!0,message:"Please enter Product Name"}]},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:7},_.a.createElement(n.a,{placeholder:za.isLoading?"Loading...":"select Related Products",mode:"multiple",optionFilterProp:"label",defaultValue:Tt.id?null===wt||void 0===wt||null===(Oe=wt.data)||void 0===Oe||null===(je=Oe.related_products)||void 0===je?void 0:je.map((function(e){var t;return null===e||void 0===e||null===(t=e.related_prod)||void 0===t?void 0:t.id})):[],options:null===za||void 0===za||null===(Se=za.data)||void 0===Se?void 0:Se.map((function(e){return{label:e.prod_name,value:e.id,uid:e.id}})),onChange:function(e,t){ja(t)}}))))))),_.a.createElement(r.a.TabPane,{tab:"Specifications",key:"Specifications"},_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{rules:Ta?[{required:!0,message:"Please Fill All Dimensions Correcty"}]:[],label:_.a.createElement("p",null,"Dimensions ",_.a.createElement("br",null)," (L x W x H)")},_.a.createElement(p.a.Group,{compact:!0},_.a.createElement(p.a,{name:"length",style:{width:"10%"},placeholder:"Length",onBlur:function(e){return Ia((function(t){return Object(c.a)(Object(c.a)({},t),{},{length:e.target.value})}))},defaultValue:Tt.id&&(null===wt||void 0===wt||null===(Pe=wt.data)||void 0===Pe||null===(Te=Pe.dimensions)||void 0===Te?void 0:Te.length)?null===wt||void 0===wt||null===(Ie=wt.data)||void 0===Ie||null===(Ae=Ie.dimensions)||void 0===Ae?void 0:Ae.length:""}),_.a.createElement(p.a,{name:"width",style:{width:"10%"},placeholder:"Width",onBlur:function(e){return Ia((function(t){return Object(c.a)(Object(c.a)({},t),{},{width:e.target.value})}))},defaultValue:Tt.id&&(null===wt||void 0===wt||null===(we=wt.data)||void 0===we||null===(ke=we.dimensions)||void 0===ke?void 0:ke.length)?null===wt||void 0===wt||null===(Ce=wt.data)||void 0===Ce||null===(Le=Ce.dimensions)||void 0===Le?void 0:Le.width:""}),_.a.createElement(p.a,{name:"height",style:{width:"10%"},placeholder:"Height",onBlur:function(e){return Ia((function(t){return Object(c.a)(Object(c.a)({},t),{},{height:e.target.value})}))},defaultValue:Tt.id&&(null===wt||void 0===wt||null===(xe=wt.data)||void 0===xe||null===(De=xe.dimensions)||void 0===De?void 0:De.length)?null===wt||void 0===wt||null===(Ne=wt.data)||void 0===Ne||null===(qe=Ne.dimensions)||void 0===qe?void 0:qe.height:""}))))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{rules:Ta?[{required:!0,message:"Please Fill All Dimensions Correcty"}]:[],label:_.a.createElement("p",null,"Dimensions ",_.a.createElement("br",null),"Class"," ")},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:5},_.a.createElement(n.a,{style:{height:"3.5em"},placeholder:"Dimension Class",defaultValue:null===wt||void 0===wt||null===(Re=wt.data)||void 0===Re||null===(Ve=Re.dimensions)||void 0===Ve||null===(Be=Ve.dimensionClass)||void 0===Be?void 0:Be.name,options:null===ca||void 0===ca||null===(Ge=ca.data)||void 0===Ge?void 0:Ge.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return Ia((function(t){return Object(c.a)(Object(c.a)({},t),{},{dimension_class_id:e})}))}})))))),_.a.createElement(s.a.Item,{rules:ka?[{required:!0,message:"Please Fill All Weight Field Correcty"}]:[],name:"weight",label:"Weight"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:5},_.a.createElement(p.a,{style:{width:"50%"},defaultValue:Tt.id&&(null===wt||void 0===wt||null===(Fe=wt.data)||void 0===Fe||null===(Ue=Fe.weight)||void 0===Ue?void 0:Ue.weight)?null===wt||void 0===wt||null===(We=wt.data)||void 0===We||null===(ze=We.weight)||void 0===ze?void 0:ze.weight:"",onBlur:function(e){return Ca((function(t){return Object(c.a)(Object(c.a)({},t),{},{weight:parseFloat(e.target.value)})}))},type:"number",placeholder:"Weight"})))),_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{rules:ka?[{required:!0,message:"Please Fill All Weight Field Correcty"}]:[],label:"Weight Class"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:5},_.a.createElement(n.a,{placeholder:"Weight Class",defaultValue:null===wt||void 0===wt||null===(Me=wt.data)||void 0===Me||null===($e=Me.weight)||void 0===$e||null===(He=$e.weightClass)||void 0===He?void 0:He.name,options:null===va||void 0===va||null===(Ke=va.data)||void 0===Ke?void 0:Ke.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return Ca((function(t){return Object(c.a)(Object(c.a)({},t),{},{weight_class_id:e})}))}}))))))),_.a.createElement(r.a.TabPane,{tab:"Stock",key:"Stock"},_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_outofstock_status",rules:[{required:!0,message:"Please Select Availability Status"}],label:"Availability"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:6},_.a.createElement(n.a,{defaultValue:null===wt||void 0===wt||null===(Qe=wt.data)||void 0===Qe||null===(Ye=Qe.productavailablitystatus)||void 0===Ye?void 0:Ye.name,placeholder:ia.loading?"Loading...":"Select a Status",options:null===ia||void 0===ia||null===(Je=ia.data)||void 0===Je?void 0:Je.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return ht(e)}}))))))),_.a.createElement(r.a.TabPane,{tab:"Attribute",key:"Attribute"},_.a.createElement(N,{attributesTableData:Na,setAttributesTableData:qa})),_.a.createElement(r.a.TabPane,{tab:"Price",key:"Price"},_.a.createElement(i.a,{gutter:25},_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_regular_price",rules:[{required:!0,message:"MSRP"}],label:"MSRP"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:6},_.a.createElement(p.a,{placeholder:"MSRP",defaultValue:wt.data.prod_regular_price,prefix:"US$  ",type:"number"}))))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"prod_sale_price",label:"Sales Price"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:6},_.a.createElement(p.a,{prefix:"US$  ",type:"number",defaultValue:wt.data.prod_sale_price,placeholder:"Sales Price"}))))),_.a.createElement(o.a,{span:24},_.a.createElement(s.a.Item,{name:"cost",label:"Cost"},_.a.createElement(i.a,null,_.a.createElement(o.a,{span:6},_.a.createElement(p.a,{prefix:"US$  ",type:"number",defaultValue:wt.data.cost,placeholder:"Product Cost"})))))),_.a.createElement(s.a.Item,{label:"Taxable"},_.a.createElement(l.a,{checked:zt,onChange:function(e){return Mt(e)}}))),_.a.createElement(r.a.TabPane,{tab:"Discount",key:"Discount"},_.a.createElement(B,{discount:Ga,setDiscount:Fa})),_.a.createElement(r.a.TabPane,{tab:"Build Of Product",key:"PartsOf"},_.a.createElement(H,{products:za,setProducts:Ma,selectedPartsOfProducts:Ka,setSelectedPartsOfProducts:Qa,partOfProductQuantities:Za,setPartOfProductQuantities:Xa})),_.a.createElement(r.a.TabPane,{tab:"Images",key:"Images"},_.a.createElement(z,{featuresImage:an,setFeaturesImage:nn,gallaryImages:on,setGallaryImages:dn,singleProdUid:null===wt||void 0===wt||null===(Ze=wt.data)||void 0===Ze?void 0:Ze.id,setIsLoading:rt}))),_.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"3em"}},_.a.createElement(s.a.Item,null,_.a.createElement(E.a,{loading:nt,size:"default",htmlType:"submit",type:"primary",raised:!0},nt?"Processing":"Save"),_.a.createElement(Y.b,{to:"/admin/products/list"},_.a.createElement(E.a,{type:"white",size:"large"},"Cancel"))))))))))}},680:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n,r,l,i,o,d,u,c,s=a(7),m=a(15),p={GET_ALL_BRAND:Object(m.d)(n||(n=Object(s.a)(["\n  query getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_description\n      brand_status\n      image\n      brand_sort_order\n      createdAt\n    }\n  }\n}"]))),GET_ALL_BRAND_WITH_CATEGORY:Object(m.d)(r||(r=Object(s.a)(["\nquery getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_status\n      brand_description\n      image\n      createdAt\n      updatedAt\n      categories {\n        id\n        cat_name\n        cat_slug\n        cat_status\n        subcategories {\n          id\n          cat_name\n          cat_slug\n          cat_status\n          subsubcategories {\n            id\n            cat_name\n            cat_slug\n            cat_status\n          }\n        }\n      }\n    }\n  }\n}\n\n"]))),GET_CATEGORIES:Object(m.d)(l||(l=Object(s.a)(["\n  query getParentCategories {\n    getParentCategories {\n      message\n      status\n      categories {\n        id\n        cat_name\n      }\n    }\n  }\n"]))),GET_SINGLE_BRAND:Object(m.d)(i||(i=Object(s.a)(["\n  query getSingleBrand($query: GetSingleBrandInput){\n    getSingleBrand(query: $query) {\n      message\n      status\n      data {\n        brand_name\n        brand_description\n        brand_status\n        brand_sort_order\n        image\n        categories {\n          id\n          cat_name\n        }\n      }\n    }\n  }\n"]))),BRAND_UPDATE:Object(m.d)(o||(o=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput, $file:Upload){\n    updateBrand(data:$data, file: $file){\n      message\n      status\n    }\n  }"]))),BRAND_UPDATE_WI:Object(m.d)(d||(d=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput){\n    updateBrand(data:$data){\n      message\n      status\n    }\n  }"]))),BRAND_ADD:Object(m.d)(u||(u=Object(s.a)(["\n    mutation createBrand($data: BrandCreateInput, $file:Upload) {\n      createBrand(data: $data, file:$file) {\n        message\n        status\n      }\n    }"]))),BRAND_ADD_WI:Object(m.d)(c||(c=Object(s.a)(["\n      mutation createBrand($data: BrandCreateInput) {\n        createBrand(data: $data) {\n          message\n          status\n        }\n     }"])))}},806:function(e,t,a){e.exports={rte:"products_rte__1CuiF",rteEditor:"products_rteEditor__16LFe",rteToolbar:"products_rteToolbar__Z4pek"}}}]);