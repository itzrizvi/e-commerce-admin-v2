{"version":3,"sources":["container/productCondition/ListCondition.js","apollo/productCondition/index.js"],"names":["ListCondition","viewPermission","useState","data","isLoading","condition","setCondition","token","useSelector","state","auth","filteredCondition","setFilteredCondition","searchText","setSearchText","columns","title","dataIndex","key","sorter","a","b","name","toUpperCase","slug","width","align","render","text","record","className","format","parseInt","to","id","style","margin","useEffect","apolloClient","query","productConditionQuery","GET_ALL_CONDITION","context","headers","TENANTID","process","Authorization","then","res","getAllProductCondition","status","s","error","catch","err","finally","buttons","size","type","icon","gutter","sm","xs","headless","placeholder","prefix","onChange","e","value","target","filter","con","toLowerCase","includes","rowKey","dataSource","rowClassName","index","pagination","defaultPageSize","config","PRODUCT_CONDITION_PER_PAGE","total","length","showTotal","range","CONDITION_ADD","gql","CONDITION_UPDATE","GET_SINGLE_CONDITION"],"mappings":"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","file":"static/js/46.c072a2ce.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Row, Col, Spin, Input, Table, Switch } from 'antd';\nimport FeatherIcon from 'feather-icons-react';\nimport { PageHeader } from '../../components/page-headers/page-headers';\nimport { Main } from '../styled';\nimport { Cards } from '../../components/cards/frame/cards-frame';\nimport { Button } from '../../components/buttons/buttons';\nimport { Link } from 'react-router-dom';\nimport FontAwesome from 'react-fontawesome';\nimport { SearchOutlined } from '@ant-design/icons';\nimport config from '../../config/config';\nimport { viewPermission } from '../../utility/utility';\nimport Moment from 'react-moment';\nimport apolloClient from '../../apollo';\nimport { productConditionQuery } from '../../apollo/productCondition';\nimport { useSelector } from 'react-redux';\n\n\nconst ListCondition = () => {\n    viewPermission('product-condition');\n    const [condition, setCondition] = useState({ data: [], isLoading: true })\n    const token = useSelector(state => state.auth.token);\n    const [filteredCondition, setFilteredCondition] = useState([])\n    const [searchText, setSearchText] = useState('')\n\n    const columns = [\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n            sorter: (a, b) => a.name.toUpperCase() > b.name.toUpperCase() ? 1 : -1,\n        },\n        {\n            title: 'Alias',\n            dataIndex: 'slug',\n            key: 'slug',\n            sorter: (a, b) => a.slug.toUpperCase() > b.slug.toUpperCase() ? 1 : -1,\n        },\n        {\n            title: 'Date',\n            dataIndex: 'createdAt',\n            key: 'createdAt',\n            width: 120,\n            align: 'center',\n            render: (text, record) => (\n                <span className={\"status-text\"}>{<Moment format=\"DD MMMM YYYY\">{parseInt(text)}</Moment>}</span>\n            )\n        },\n        {\n            title: 'Action',\n            dataIndex: 'action',\n            width: 70,\n            align: 'right',\n            render: (text, record) => (\n                <>\n                    <Link to={`/admin/product-condition/update?id=${record.id}`}>\n                        <FontAwesome name=\"edit\" style={{ margin: \".5em 1em\" }} />\n                    </Link>\n                </>\n            ),\n            key: 'slug',\n        },\n    ]\n\n\n    // LOAD CUSTOMER GROUPS\n    useEffect(() => {\n        apolloClient.query({\n            query: productConditionQuery.GET_ALL_CONDITION,\n            context: {\n                headers: {\n                    TENANTID: process.env.REACT_APP_TENANTID,\n                    Authorization: token\n                }\n            }\n        }).then(res => {\n            const data = res?.data?.getAllProductCondition\n            if (!data?.status) return\n            setCondition(s => ({ ...s, data: data?.data, error: '' }))\n        }).catch(err => {\n            setCondition(s => ({ ...s, error: 'Something went Wrong.!! ' }))\n        }).finally(() => {\n            setCondition(s => ({ ...s, isLoading: false }))\n        })\n\n    }, []);\n\n\n\n\n    const onChangeSearch = e => {\n        const value = e.target.value\n        setSearchText(value)\n        setFilteredCondition(condition.data.filter(con => (con?.name + con?.slug).toLowerCase().includes(value.toLowerCase())))\n    }\n\n\n    return (\n        <>\n            <PageHeader\n                title=\"Product Condition\"\n                buttons={[\n                    <div key=\"1\" className=\"page-header-actions\">\n                        <Link to=\"/admin/product-condition/add\">\n                            <Button size=\"small\" title=\"Add Product Condition\" type=\"primary\">\n                                <FeatherIcon icon=\"user-plus\" />\n                            </Button>\n                        </Link>\n                    </div>\n                ]}\n            />\n            <Main>\n                <Row gutter={25}>\n                    <Col sm={24} xs={24}>\n                        <Cards headless>\n\n                            {condition.isLoading ?\n                                <div className=\"spin\">\n                                    <Spin />\n                                </div>\n                                :\n                                <>\n                                    <Input placeholder=\"Search Product Condition...\" prefix={<SearchOutlined />} onChange={onChangeSearch} />\n                                    <br /><br />\n\n                                    <span className={\"psp_list\"} >\n                                        <Table\n                                            className=\"table-responsive\"\n                                            columns={columns}\n                                            rowKey={'id'}\n                                            size=\"small\"\n                                            dataSource={searchText ? filteredCondition : condition.data}\n                                            rowClassName={(record, index) => (index % 2 === 0 ? \"\" : \"altTableClass\")}\n                                            // pagination={false}\n                                            pagination={{\n                                                defaultPageSize: config.PRODUCT_CONDITION_PER_PAGE,\n                                                total: searchText ? filteredCondition.length : condition.data.length,\n                                                showTotal: (total, range) => `${range[0]}-${range[1]} of ${total} items`,\n                                            }}\n                                        />\n                                    </span>\n                                </>\n                            }\n                        </Cards>\n                    </Col>\n                </Row>\n            </Main>\n        </>\n    );\n};\n\nexport default ListCondition;\n","import { gql } from \"@apollo/client\";\n\nexport const productConditionQuery = {\n\n  CONDITION_ADD: gql`\n    mutation addProductCondition($name: String!){\n        addProductCondition(data: { name: $name }) {\n            message\n            status\n            tenant_id\n        }\n    }`,\n  CONDITION_UPDATE: gql`\n    mutation updateProductCondition($data: UpdateProductConditionInput){\n        updateProductCondition(data: $data) {\n            message\n            status\n            tenant_id\n        }\n    }`,\n  GET_ALL_CONDITION: gql`\n    query getAllProductCondition{\n        getAllProductCondition {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n    }`,\n  GET_SINGLE_CONDITION: gql`\n    query getSingleProductCondition($query: GetSingleProductConditionInput){\n        getSingleProductCondition(query: $query) {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n  }`\n}\n"],"sourceRoot":""}