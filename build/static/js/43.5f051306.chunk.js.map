{"version":3,"sources":["container/productAvailabilityStatus/UpdateProductAvailabilityStatus.js","apollo/productAvailabilityStatus/index.js"],"names":["UpdateAvailabilityStatus","viewPermission","search","useLocation","params","queryString","parse","history","useHistory","token","useSelector","state","auth","useState","loading","setLoading","data","isLoading","availabilityStatus","setAvailabilityStatus","useForm","form","useEffect","id","apolloClient","query","productAvailabilityStatusQuery","GET_SINGLE_AVAILABILITY_STATUS","variables","parseInt","context","headers","TENANTID","process","Authorization","then","res","getSingleProductAvailabilityStatus","status","s","error","setFieldsValue","name","catch","err","finally","title","gutter","sm","xs","headless","style","textAlign","tip","width","onFinish","values","mutate","mutation","AVAILABILITY_STATUS_UPDATE","refetchQueries","GET_ALL_AVAILABILITY_STATUS","updateProductAvailabilityStatus","toast","setTimeout","push","success","message","onFinishFailed","errorInfo","console","log","labelCol","span","Item","rules","required","max","label","placeholder","display","justifyContent","size","htmlType","type","raised","to","marginLeft","AVAILABILITY_STATUS_ADD","gql"],"mappings":"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","file":"static/js/43.5f051306.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Row, Col, Form, Input, Switch, Select, Upload, InputNumber, Spin } from 'antd';\nimport { PageHeader } from '../../components/page-headers/page-headers';\nimport { Main } from '../styled';\nimport { Cards } from '../../components/cards/frame/cards-frame';\nimport { Button } from '../../components/buttons/buttons';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport queryString from 'query-string';\nimport apolloClient from '../../apollo';\nimport { viewPermission } from '../../utility/utility';\nimport { productAvailabilityStatusQuery } from '../../apollo/productAvailabilityStatus';\n\nconst UpdateAvailabilityStatus = () => {\n  viewPermission('product-availability-status');\n  const { search } = useLocation();\n  const params = queryString.parse(search);\n  const history = useHistory();\n  const token = useSelector(state => state.auth.token);\n  const [loading, setLoading] = useState(false);\n  const [availabilityStatus, setAvailabilityStatus] = useState({ data: [], isLoading: true });\n  const maxLength = 30;\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    if (!params.id) return;\n\n    apolloClient\n      .query({\n        query: productAvailabilityStatusQuery.GET_SINGLE_AVAILABILITY_STATUS,\n        variables: { query: { id: parseInt(params?.id) } },\n        context: {\n          headers: {\n            TENANTID: process.env.REACT_APP_TENANTID,\n            Authorization: token,\n          },\n        },\n      })\n      .then(res => {\n        const data = res?.data?.getSingleProductAvailabilityStatus;\n        if (!data?.status) return;\n        setAvailabilityStatus(s => ({ ...s, data: data?.data, error: '' }));\n        form.setFieldsValue({\n          name: data?.data?.name,\n        });\n      })\n      .catch(err => {\n        setAvailabilityStatus(s => ({ ...s, error: 'Something went Wrong.!! ' }));\n      })\n      .finally(() => {\n        setAvailabilityStatus(s => ({ ...s, isLoading: false }));\n      });\n  }, []);\n\n  //Submit Form\n  const handleSubmit = values => {\n    setLoading(true);\n    apolloClient\n      .mutate({\n        mutation: productAvailabilityStatusQuery.AVAILABILITY_STATUS_UPDATE,\n        variables: { data: { name: values.name, id: parseInt(params?.id) } },\n        refetchQueries: [\n          {\n            query: productAvailabilityStatusQuery.GET_ALL_AVAILABILITY_STATUS,\n            context: {\n              headers: {\n                TENANTID: process.env.REACT_APP_TENANTID,\n                Authorization: token,\n              },\n            },\n          },\n          ['getAllProductAvailabilityStatus'],\n        ],\n        context: {\n          headers: {\n            TENANTID: process.env.REACT_APP_TENANTID,\n            Authorization: token,\n          },\n        },\n      })\n      .then(res => {\n        const data = res?.data?.updateProductAvailabilityStatus;\n        if (!data?.status) return toast.error('Something Went wrong !!');\n        setTimeout(() => {\n          history.push('/admin/product-availability-status/list');\n        }, 1000);\n        toast.success(data?.message);\n      })\n      .catch(err => {\n        toast.error('Something Went wrong !!');\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <>\n      <PageHeader\n        title={`Manage Product Availability Status | Edit Product Availability Status ${\n          availabilityStatus?.data?.name ? `(${availabilityStatus?.data?.name})` : ''\n        }`}\n      />\n\n      <Main>\n        <Row gutter={25}>\n          <Col sm={24} xs={24}>\n            <Cards headless>\n              {availabilityStatus?.isLoading ? (\n                <div style={{ textAlign: 'center' }}>\n                  <Spin tip=\"processing...\" />\n                </div>\n              ) : (\n                <Form\n                  style={{ width: '100%' }}\n                  form={form}\n                  name=\"addProductAvailabilityStatus\"\n                  onFinish={handleSubmit}\n                  onFinishFailed={errorInfo => console.log('form error info:\\n', errorInfo)}\n                  labelCol={{ span: 4 }}\n                >\n                  <Form.Item\n                    rules={[\n                      { required: true, max: maxLength, message: 'Please Enter Product Availability Status Name' },\n                    ]}\n                    name=\"name\"\n                    label=\"Name\"\n                  >\n                    <Input placeholder=\"Enter Product Availability Status Name\" />\n                  </Form.Item>\n                  <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                    <Form.Item>\n                      <Button loading={loading} size=\"default\" htmlType=\"submit\" type=\"primary\" raised>\n                        {loading ? 'Processing' : 'Save'}\n                      </Button>\n                      <Link to=\"/admin/product-availability-status/list\">\n                        <Button style={{ marginLeft: 10 }} type=\"light\" size=\"default\">\n                          Cancel\n                        </Button>\n                      </Link>\n                    </Form.Item>\n                  </div>\n                </Form>\n              )}\n            </Cards>\n          </Col>\n        </Row>\n      </Main>\n    </>\n  );\n};\n\nexport default UpdateAvailabilityStatus;\n","import { gql } from \"@apollo/client\";\n\nexport const productAvailabilityStatusQuery = {\n\nAVAILABILITY_STATUS_ADD: gql`\n    mutation addProductAvailabilityStatus($name: String!){\n        addProductAvailabilityStatus(data: { name: $name }) {\n            message\n            status\n            tenant_id\n        }\n    }`,\n  AVAILABILITY_STATUS_UPDATE: gql`\n    mutation updateProductAvailabilityStatus($data: UpdateProductAvailabilityStatusInput){\n        updateProductAvailabilityStatus(data: $data) {\n            message\n            status\n            tenant_id\n        }\n    }`,\n  GET_ALL_AVAILABILITY_STATUS: gql`\n    query getAllProductAvailabilityStatus{\n        getAllProductAvailabilityStatus {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n    }`,\n  GET_SINGLE_AVAILABILITY_STATUS: gql`\n    query getSingleProductAvailabilityStatus($query : GetSingleProductAvailabilityStatusInput){\n        getSingleProductAvailabilityStatus(query: $query) {\n            message\n            status\n            data {\n                id\n                name\n                slug\n                createdAt\n                updatedAt\n            }\n        }\n  }`\n}\n"],"sourceRoot":""}