(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[26],{647:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n,l,r,i,d,o,u,c,s=a(8),m=a(16),p={GET_ALL_BRAND:Object(m.d)(n||(n=Object(s.a)(["\n  query getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_description\n      brand_status\n      image\n      brand_sort_order\n      createdAt\n    }\n  }\n}"]))),GET_ALL_BRAND_WITH_CATEGORY:Object(m.d)(l||(l=Object(s.a)(["\nquery getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_status\n      brand_description\n      image\n      createdAt\n      updatedAt\n      categories {\n        id\n        cat_name\n        cat_slug\n        cat_status\n        subcategories {\n          id\n          cat_name\n          cat_slug\n          cat_status\n          subsubcategories {\n            id\n            cat_name\n            cat_slug\n            cat_status\n          }\n        }\n      }\n    }\n  }\n}\n\n"]))),GET_CATEGORIES:Object(m.d)(r||(r=Object(s.a)(["\n  query getParentCategories {\n    getParentCategories {\n      message\n      status\n      categories {\n        id\n        cat_name\n      }\n    }\n  }\n"]))),GET_SINGLE_BRAND:Object(m.d)(i||(i=Object(s.a)(["\n  query getSingleBrand($query: GetSingleBrandInput){\n    getSingleBrand(query: $query) {\n      message\n      status\n      data {\n        brand_name\n        brand_description\n        brand_status\n        brand_sort_order\n        image\n        categories {\n          id\n          cat_name\n        }\n      }\n    }\n  }\n"]))),BRAND_UPDATE:Object(m.d)(d||(d=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput, $file:Upload){\n    updateBrand(data:$data, file: $file){\n      message\n      status\n    }\n  }"]))),BRAND_UPDATE_WI:Object(m.d)(o||(o=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput){\n    updateBrand(data:$data){\n      message\n      status\n    }\n  }"]))),BRAND_ADD:Object(m.d)(u||(u=Object(s.a)(["\n    mutation createBrand($data: BrandCreateInput, $file:Upload) {\n      createBrand(data: $data, file:$file) {\n        message\n        status\n      }\n    }"]))),BRAND_ADD_WI:Object(m.d)(c||(c=Object(s.a)(["\n      mutation createBrand($data: BrandCreateInput) {\n        createBrand(data: $data) {\n          message\n          status\n        }\n     }"])))}},756:function(e,t,a){e.exports={rte:"products_rte__1CuiF",rteEditor:"products_rteEditor__16LFe",rteToolbar:"products_rteToolbar__Z4pek"}},993:function(e,t,a){"use strict";a.r(t);a(202);var n=a(63),l=(a(291),a(89)),r=(a(314),a(218)),i=(a(200),a(97)),d=(a(201),a(74)),o=(a(166),a(98)),u=(a(288),a(69)),c=a(64),s=a(9),m=(a(289),a(52)),p=a(23),v=(a(148),a(45)),_=a(0),b=a.n(_),g=a(217),f=a(165),E=a(164),y=a(287),h=a(755),O=a.n(h),j=a(756),I=a.n(j),P=(a(150),a(77)),T=(a(378),a(220)),A=(a(100),a(38)),S=a(92),w=a(933),L=a(21),k=a.n(L),C=a(71),x=a(68),D=a.n(x),N=n.a.Option,q=function(e){var t=e.attributesTableData,a=e.setAttributesTableData,l=Object(_.useState)({}),r=Object(p.a)(l,2),i=(r[0],r[1]),d=Object(_.useState)({data:[],isLoading:!0}),o=Object(p.a)(d,2),u=o[0],c=o[1],m=Object(_.useState)({}),g=Object(p.a)(m,2),f=(g[0],g[1]);Object(_.useEffect)((function(){C.j.query({query:C.c.GET_ALL_ATTR_GROUPS_FOR_ADD_PROD,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllAttrGroups;if(!(null===a||void 0===a?void 0:a.status))return InternalErrorMessage();c((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).finally((function(){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1})}))}))}),[]);var E=[{title:"Attribute Group",dataIndex:"attr_group_id",key:"attr_group_id",width:200,render:function(e,t,l){return b.a.createElement(n.a,{style:{width:"100%"},placeholder:u.isLoading?"Loading...":"Select Group...",defaultValue:e,options:u.data.map((function(e){return{label:e.attr_group_name,value:e.id,attributes:e.attributes}})),onSelect:function(e,t){return function(e,t,n){f(t),a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{attr_group_id:e}),l}))}(e,t,l)}})}},{title:"Attribute",dataIndex:"attribute_id",key:"attribute_id",width:200,render:function(e,t,l){var r,i;return b.a.createElement(n.a,{style:{width:"100%"},defaultValue:e,placeholder:u.isLoading?"Loading...":"Select Attribute...",options:null===u||void 0===u||null===(r=u.data.filter((function(e){return e.id===t.attr_group_id}))[0])||void 0===r||null===(i=r.attributes)||void 0===i?void 0:i.map((function(e){return{label:e.attribute_name,value:e.id}})),onSelect:function(e,t){return function(e,t,n){a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{attribute_id:e}),l}))}(e,0,l)}})}},{title:"Value Type",dataIndex:"value",width:80,key:"value",render:function(e,t,l){return b.a.createElement(n.a,{style:{width:"10em",marginRight:"1em"},placeholder:"Select type",defaultValue:t.attribute_type,onChange:function(e){a((function(t){var a=t[l],n=Object(S.a)(t);return n[l]=Object(s.a)(Object(s.a)({},a),{},{attribute_type:e}),n}))}},b.a.createElement(N,{value:"text"},"Text"),b.a.createElement(N,{value:"link"},"Link"),b.a.createElement(N,{value:"file"},"File"),b.a.createElement(N,{value:"none"},"None"))}},{title:"Attribute Value",dataIndex:"attribute_value",width:150,key:"attribute_value",render:function(e,t,n){return"text"===t.attribute_type?b.a.createElement(v.a,{placeholder:"Enter text",size:"large",onBlur:function(e){a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{attribute_value:e.target.value}),l}))},defaultValue:t.attribute_value}):"link"===t.attribute_type?b.a.createElement(v.a,{placeholder:"Enter Link",size:"large",onBlur:function(e){a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{attribute_value:e.target.value}),l}))},defaultValue:t.attribute_value}):"file"===t.attribute_type?b.a.createElement(T.a,{multiple:!1,onChange:function(e){i(e.file),a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{attribute_value:e.file.originFileObj}),l}))},onRemove:function(){return i({})}},b.a.createElement(A.a,{icon:b.a.createElement(w.a,null)},"Select File"),b.a.createElement("p",{style:{fontSize:12,marginTop:10}},t.attribute_value.name?"".concat(t.attribute_value.name):"".concat(t.attribute_value))):void 0}},{title:"Action",dataIndex:"action",key:"action",width:90,align:"right",render:function(e,t){return b.a.createElement(A.a,{size:"",title:"Remove",type:"danger",onClick:function(){return e=t.id,void a((function(t){return t.filter((function(t){return t.id!==e}))}));var e}},b.a.createElement(k.a,{icon:"minus",size:15}))}}];return b.a.createElement(b.a.Fragment,null,b.a.createElement(P.a,{columns:E,dataSource:t,pagination:!1,rowKey:"attribute_value"}),b.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px",marginRight:"1em"}},b.a.createElement(A.a,{title:"Add Attribute",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),attr_group_id:"",attribute_id:"",attribute_type:"",attribute_value:""};a((function(t){return[].concat(Object(S.a)(t),[e])}))}},b.a.createElement(k.a,{icon:"plus",size:15}))))},R=(a(642),a(645)),V=a(380),B=a.n(V),G=function(e){var t=e.discount,a=e.setDiscount,l=Object(_.useState)({data:[],isLoading:!0}),r=Object(p.a)(l,2),i=r[0],d=r[1];Object(_.useEffect)((function(){C.j.query({query:C.i.GET_ALL_CUSTOMER_GROUPS,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllCustomerGroups;if(!(null===a||void 0===a?void 0:a.status))return InternalErrorMessage();d((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).finally((function(){d((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1})}))}))}),[]);var o=[{title:"Customer Group",dataIndex:"customer_group_id",key:"customer_group_id",render:function(e,t,l){var r;return b.a.createElement(n.a,{style:{width:"150px"},placeholder:i.isLoading?"Loading..":"customer group",defaultValue:e||null,onSelect:function(e){a((function(t){var a=t[l],n=Object(S.a)(t);return n[l]=Object(s.a)(Object(s.a)({},a),{},{customer_group_id:e}),console.log(n),n}))}},null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.map((function(e){return b.a.createElement(n.a.Option,{key:e.id,value:e.id},e.customer_group_name)})))}},{title:"Quantity",dataIndex:"discount_quantity",key:"discount_quantity",width:100,render:function(e,t,n){return b.a.createElement(v.a,{defaultValue:e,type:"number",placeholder:"Quantity",style:{width:"100px"},onBlur:function(e){a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{discount_quantity:e.target.value}),console.log(l),l}))}})}},{title:"Priority",dataIndex:"discount_priority",key:"discount_priority",width:100,render:function(e,t,n){return b.a.createElement(v.a,{type:"number",placeholder:"Priority",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{discount_priority:e.target.value}),console.log(l),l}))}})}},{title:"Price",dataIndex:"discount_price",key:"discount_price",width:100,render:function(e,t,n){return b.a.createElement(v.a,{type:"number",placeholder:"Price",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],l=Object(S.a)(t);return l[n]=Object(s.a)(Object(s.a)({},a),{},{discount_price:e.target.value}),console.log(l),l}))}})}},{title:"Date Start",dataIndex:"discount_startdate",key:"discount_startdate",render:function(e,t,n){return b.a.createElement(R.a,{defaultValue:e&&B()(parseInt(e)),onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],l=Object(S.a)(e);return l[n]=Object(s.a)(Object(s.a)({},a),{},{discount_startdate:t}),console.log(l),l}))}})}},{title:"Date End",dataIndex:"discount_enddate",key:"discount_enddate",render:function(e,t,n){return b.a.createElement(R.a,{defaultValue:e&&B()(parseInt(e)),onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],l=Object(S.a)(e);return l[n]=Object(s.a)(Object(s.a)({},a),{},{discount_enddate:t}),l}))}})}},{title:"Action",dataIndex:"action",key:"action",render:function(e,t){return b.a.createElement(A.a,{size:"",title:"Remove",type:"danger",onClick:function(){return u(t.id)}},b.a.createElement(k.a,{icon:"minus"}))}}],u=function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))};return b.a.createElement(b.a.Fragment,null,b.a.createElement(P.a,{className:"table-responsive",columns:o,pagination:!1,rowKey:"id",size:"small",dataSource:t}),b.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px"}},b.a.createElement(A.a,{title:"Add Banner",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),customer_group_id:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""};a((function(t){return[].concat(Object(S.a)(t),[e])}))},style:{marginRight:".5em"}},b.a.createElement(k.a,{icon:"plus"}))))},F=a(757),U=a.n(F),M=a(934),z=a(76),W=a(136),$=function(e){var t=e.featuresImage,a=e.setFeaturesImage,n=e.gallaryImages,l=e.setGallaryImages,r=e.singleProdId,i=e.setIsLoading;return b.a.createElement(b.a.Fragment,null,b.a.createElement(m.a.Item,{label:"Features Image"},b.a.createElement(T.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){var t="image/jpeg"===e.type;if(!t)return u.b.error(W.a.ONLY_JPG_FILE_UPLOAD);var n=e.size/1024/1024<2;return n?(t&&n&&(a({file:e,thumbnail:URL.createObjectURL(e)}),r&&(i(!0),C.a.mutate({mutation:C.k.UPDATE_THUMBNAIL,variables:{data:{prod_id:r,prod_thumbnail:e}},context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updateThumbnail;if(!(null===a||void 0===a?void 0:a.status))return Object(z.a)();u.b.success(a.message)})))),!1):u.b.error(W.a.FILE_MAX_2MB)},onPreview:function(){return console.log()},onRemove:function(){return a({})},fileList:t.thumbnail?[{file:t.file,url:t.thumbnail}]:[]},!t.thumbnail&&"+ Upload")),b.a.createElement(m.a.Item,{label:"Gallery Image"},b.a.createElement(U.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){return console.log("file type:\n",e.type),"image/jpeg"===e.type?e.size/1024/1024<2?(l((function(t){return[].concat(Object(S.a)(t),[{file:e,url:URL.createObjectURL(e),uid:e.uid}])})),r&&(i(!0),C.a.mutate({mutation:C.k.UPLOAD_GALLERY_IMAGE,variables:{data:{prod_id:r,gallery_img:e}},context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.uploadGalleryImage;if(!(null===a||void 0===a?void 0:a.status))return Object(z.a)();u.b.success(a.message)}))),!1):u.b.error(W.a.FILE_MAX_2MB):u.b.error(W.a.ONLY_JPG_FILE_UPLOAD)},fileList:n,onRemove:function(e){l((function(t){return t.filter((function(t){return t.uid!==e.uid}))})),r&&(i(!0),C.a.mutate({mutation:C.k.DELETE_GALLERY_IMAGE,variables:{data:{prod_id:r,prod_gallery_id:e.prod_gallery_uuid}},context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.deleteGalleryImage;if(!(null===a||void 0===a?void 0:a.status))return Object(z.a)();u.b.success(a.message)})))}},b.a.createElement("p",{className:"ant-upload-drag-icon"},b.a.createElement(M.a,null)),b.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"))))},H=a(99),K=a(647),Q=function(e){var t,a=e.products,l=(e.setProducts,e.selectedPartsOfProducts),r=e.setSelectedPartsOfProducts,o=(e.partOfProductQuantities,e.setPartOfProductQuantities),u=[{title:"Name",dataIndex:"label",key:"label"},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Quantity",dataIndex:"q",key:"q",width:120,render:function(e,t){return b.a.createElement(v.a,{defaultValue:t.quantity||"1",type:"number",placeholder:"Quantity",onBlur:function(e){o((function(a){var n=Object(s.a)({},a);return n[t.uid]=e.target.value,console.log(n),n}))}})}},{title:"Action",dataIndex:"action",key:"action",width:100,render:function(e,t,a){return b.a.createElement(A.a,{size:"",title:"Remove",type:"danger",onClick:function(){var e=Object(S.a)(l);e.splice(a,1),r(e)}},b.a.createElement(k.a,{icon:"minus"}))}}];return b.a.createElement("div",null,b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{label:"Products"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:8},b.a.createElement(n.a,{style:{marginBottom:"2em"},mode:"multiple",value:l,placeholder:a.isLoading?"Loading..":"Select Product..",optionFilterProp:"label",options:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.map((function(e){return{label:e.prod_name,value:e.id,uid:e.id,key:e.id,name:e.prod_name,sku:e.prod_sku}})),onChange:function(e,t){r(t)}}))),b.a.createElement(P.a,{dataSource:l,columns:u,pagination:!1,rowKey:"uid"})))))},Y=a(22),J=a(58),X=a(12),Z=a(317),ee=a.n(Z),te=["prod_regular_price","extended_warranty_value","prod_sale_price","cost"],ae=["id"],ne=v.a.TextArea;t.default=function(){var e,t,a,h,j,P,T,A,S,w,L,k,x,N,R,V,B,F,U,M,W,Z,le,re,ie,de,oe,ue,ce,se,me,pe,ve,_e,be,ge,fe,Ee,ye,he,Oe,je,Ie,Pe,Te,Ae,Se,we,Le,ke,Ce,xe,De,Ne,qe,Re,Ve,Be,Ge,Fe,Ue,Me,ze,We,$e,He,Ke,Qe,Ye,Je,Xe,Ze;Object(Y.f)("product");var et=m.a.useForm(),tt=Object(p.a)(et,1)[0],at=Object(_.useState)(!1),nt=Object(p.a)(at,2),lt=nt[0],rt=nt[1],it=Object(J.useHistory)(),dt=Object(_.useState)(null),ot=Object(p.a)(dt,2),ut=ot[0],ct=ot[1],st=Object(_.useState)(null),mt=Object(p.a)(st,2),pt=mt[0],vt=mt[1],_t=Object(_.useState)(null),bt=Object(p.a)(_t,2),gt=(bt[0],bt[1]),ft=Object(_.useState)(null),Et=Object(p.a)(ft,2),yt=Et[0],ht=Et[1],Ot=Object(_.useState)(!1),jt=Object(p.a)(Ot,2),It=jt[0],Pt=jt[1],Tt=Object(J.useLocation)().search,At=ee.a.parse(Tt),St=Object(_.useState)({data:{},isLoading:!0}),wt=Object(p.a)(St,2),Lt=wt[0],kt=wt[1];Object(_.useEffect)((function(){At.id&&H.b.query({query:C.l.GET_SINGLE_PRODUCT,variables:{query:{prod_id:parseInt(At.id)}},context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}},fetchPolicy:"network-only"}).then((function(e){var t,a,n,l,r,i,d,o,u,c,s,m,p,v,_,b,g,f,E,y,h,j,I,P,T,A,S,w,L,k,C,x=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getSingleProduct;if(!(null===x||void 0===x?void 0:x.status))return Object(z.a)();kt({data:null===x||void 0===x?void 0:x.data,isLoading:!1}),Nt(O.a.createValueFromString(null===x||void 0===x||null===(a=x.data)||void 0===a?void 0:a.prod_long_desc,"html")),Bt(null===x||void 0===x||null===(n=x.data)||void 0===n?void 0:n.prod_long_desc),Ua((function(e){var t,a;return null===x||void 0===x||null===(t=x.data)||void 0===t||null===(a=t.discount_type)||void 0===a?void 0:a.map((function(e){return{id:e.id,customer_group_id:e.id,discount_quantity:e.discount_quantity,discount_priority:e.discount_priority,discount_price:e.discount_price,discount_startdate:e.discount_startdate,discount_enddate:e.discount_enddate}}))})),Ra((function(e){var t,a;return null===x||void 0===x||null===(t=x.data)||void 0===t||null===(a=t.prod_attributes)||void 0===a?void 0:a.map((function(e){var t,a,n,l;return{id:e.id,attr_group_id:null===(t=e.attribute_data)||void 0===t||null===(a=t.attribute_group)||void 0===a?void 0:a.id,attribute_id:null===e||void 0===e||null===(n=e.attribute_data)||void 0===n?void 0:n.id,attribute_name:null===e||void 0===e||null===(l=e.attribute_data)||void 0===l?void 0:l.attribute_name,attribute_type:e.attribute_type,attribute_value:e.attribute_value}}))})),Ya((function(e){var t,a;return null===x||void 0===x||null===(t=x.data)||void 0===t||null===(a=t.part_of_products)||void 0===a?void 0:a.map((function(e){return{label:e.part_product.prod_name,value:e.part_product.id,uid:e.part_product.id,key:e.part_product.id,name:e.part_product.prod_name,sku:e.part_product.prod_sku,quantity:e.prod_quantity}}))})),ln((function(e){var t,a;return{file:"",thumbnail:"https://api.primeserverparts.com/images/product/image/thumbnail/".concat(null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.id,"/128x128_").concat(null===x||void 0===x||null===(a=x.data)||void 0===a?void 0:a.id,".jpg")}})),un(null===x||void 0===x?void 0:x.data.gallery.map((function(e){var t;return{file:"",url:"https://api.primeserverparts.com/images/product/image/gallery/".concat(null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.id,"/128x128_").concat(e.prod_image),prod_gallery_uuid:e.id}}))),tt.setFieldValue({prod_name:null===x||void 0===x?void 0:x.data.prod_name,prod_short_desc:null===x||void 0===x?void 0:x.data.prod_short_desc,prod_meta_title:null===x||void 0===x?void 0:x.data.prod_meta_title,prod_meta_desc:null===x||void 0===x?void 0:x.data.prod_meta_desc,prod_meta_keywords:null===x||void 0===x?void 0:x.data.prod_meta_keywords,prod_tags:null===x||void 0===x?void 0:x.data.prod_tags,prod_partnum:null===x||void 0===x?void 0:x.data.prod_partnum,prod_sku:null===x||void 0===x?void 0:x.data.prod_sku,is_sale:null===x||void 0===x?void 0:x.data.is_sale,brand_id:null===x||void 0===x||null===(l=x.data)||void 0===l||null===(r=l.brand)||void 0===r?void 0:r.id,prod_category:null===x||void 0===x||null===(i=x.data)||void 0===i||null===(d=i.category)||void 0===d?void 0:d.id,prod_outofstock_status:null===x||void 0===x||null===(o=x.data)||void 0===o||null===(u=o.productavailablitystatus)||void 0===u?void 0:u.id,prod_regular_price:(null===x||void 0===x||null===(c=x.data)||void 0===c?void 0:c.prod_regular_price)||"",prod_sale_price:(null===x||void 0===x||null===(s=x.data)||void 0===s?void 0:s.prod_sale_price)||"",cost:(null===x||void 0===x||null===(m=x.data)||void 0===m?void 0:m.cost)||"",prod_condition:(null===x||void 0===x||null===(p=x.data)||void 0===p||null===(v=p.productCondition)||void 0===v?void 0:v.id)||"",product_rep:(null===x||void 0===x||null===(_=x.data)||void 0===_||null===(b=_.representative)||void 0===b?void 0:b.id)||"",extended_warranty:null===x||void 0===x||null===(g=x.data)||void 0===g?void 0:g.extended_warranty,extended_warranty_value:(null===x||void 0===x||null===(f=x.data)||void 0===f?void 0:f.extended_warranty_value)||0,location:(null===x||void 0===x||null===(E=x.data)||void 0===E?void 0:E.location)||"",hs_code:(null===x||void 0===x||null===(y=x.data)||void 0===y?void 0:y.hs_code)||"",product_rank:(null===x||void 0===x||null===(h=x.data)||void 0===h?void 0:h.product_rank)||"",mfg_build_part_number:(null===x||void 0===x||null===(j=x.data)||void 0===j?void 0:j.mfg_build_part_number)||""}),gt(null===x||void 0===x||null===(I=x.data)||void 0===I||null===(P=I.category)||void 0===P?void 0:P.id),Pt(null===x||void 0===x||null===(T=x.data)||void 0===T?void 0:T.extended_warranty_value),ht(null===x||void 0===x||null===(A=x.data)||void 0===A||null===(S=A.productavailablitystatus)||void 0===S?void 0:S.id),ct(null===x||void 0===x||null===(w=x.data)||void 0===w||null===(L=w.productCondition)||void 0===L?void 0:L.id),vt(null===x||void 0===x||null===(k=x.data)||void 0===k||null===(C=k.representative)||void 0===C?void 0:C.id)}))}),[]);var Ct=Object(_.useState)(O.a.createEmptyValue()),xt=Object(p.a)(Ct,2),Dt=xt[0],Nt=xt[1],qt=Object(_.useState)(""),Rt=Object(p.a)(qt,2),Vt=Rt[0],Bt=Rt[1],Gt=Object(_.useState)(!0),Ft=Object(p.a)(Gt,2),Ut=Ft[0],Mt=(Ft[1],Object(_.useState)(!0)),zt=Object(p.a)(Mt,2),Wt=zt[0],$t=zt[1],Ht=Object(_.useState)({data:[],loading:!0,error:""}),Kt=Object(p.a)(Ht,2),Qt=Kt[0],Yt=Kt[1],Jt=Object(_.useState)({data:[],loading:!0,error:""}),Xt=Object(p.a)(Jt,2),Zt=Xt[0],ea=Xt[1],ta=Object(_.useState)({data:[],loading:!0,error:""}),aa=Object(p.a)(ta,2),na=aa[0],la=aa[1],ra=Object(_.useState)({data:[],loading:!0,error:""}),ia=Object(p.a)(ra,2),da=ia[0],oa=ia[1],ua=Object(_.useState)({data:[],loading:!0,error:""}),ca=Object(p.a)(ua,2),sa=ca[0],ma=ca[1],pa=Object(_.useState)({data:[],loading:!0,error:""}),va=Object(p.a)(pa,2),_a=va[0],ba=va[1],ga=Object(_.useState)([]),fa=Object(p.a)(ga,2),Ea=fa[0],ya=fa[1],ha=Object(_.useState)([]),Oa=Object(p.a)(ha,2),ja=Oa[0],Ia=Oa[1];Object(_.useEffect)((function(){At.id&&Lt.isLoading||(H.b.query({query:K.a.GET_ALL_BRAND_WITH_CATEGORY,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllBrands;if(Yt((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})})),At.id){var n,l,r=null===Lt||void 0===Lt||null===(n=Lt.data.brand)||void 0===n?void 0:n.id,i=null===a||void 0===a?void 0:a.data.find((function(e){return e.id===r})),d=[];null===i||void 0===i||null===(l=i.categories)||void 0===l||l.forEach((function(e){var t=e.cat_name;d.push({cat_name:t,id:e.id,cat_status:e.cat_status}),e.subcategories&&e.subcategories.forEach((function(e){var a=e.cat_name;d.push({cat_name:"".concat(t," > ").concat(a),id:e.id,cat_status:e.cat_status}),e.subsubcategories&&e.subsubcategories.forEach((function(e){var n=e.cat_name;d.push({cat_name:"".concat(t," > ").concat(a," > ").concat(n),id:e.id,cat_status:e.cat_status})}))}))})),ya(d)}})).finally((function(){Yt((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})),H.b.query({query:C.m.GET_ALL_CONDITIONS,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllProductCondition;ea(a)})).finally((function(){ea((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})),H.b.query({query:C.e.GET_ALL_STAFF,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllStaff;la(a)})).finally((function(){la((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})),H.b.query({query:C.m.GET_ALL_AVAILABILITY,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllProductAvailabilityStatus;oa(a)})).finally((function(){oa((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})),H.b.query({query:C.m.GET_WEIGHT_CLASS_LIST,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getWeightClassList;ba(a)})).finally((function(){ba((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})),H.b.query({query:C.m.GET_DIMENSION_CLASS_LIST,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getDimensionClassList;ma(a)})).finally((function(){ma((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})))}),[Lt]);var Pa=Object(_.useState)({}),Ta=Object(p.a)(Pa,2),Aa=Ta[0],Sa=Ta[1],wa=Object(_.useState)({}),La=Object(p.a)(wa,2),ka=La[0],Ca=La[1],xa=[{id:(new Date).getTime(),attr_group_id:"",attribute_id:"",attribute_type:"",attribute_value:""}],Da=Object(_.useState)(xa),Na=Object(p.a)(Da,2),qa=Na[0],Ra=Na[1],Va=[{id:(new Date).getTime(),customer_group_id:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""}],Ba=Object(_.useState)(Va),Ga=Object(p.a)(Ba,2),Fa=Ga[0],Ua=Ga[1],Ma=Object(_.useState)({data:[],isLoading:!0}),za=Object(p.a)(Ma,2),Wa=za[0],$a=za[1],Ha=Object(_.useState)([]),Ka=Object(p.a)(Ha,2),Qa=Ka[0],Ya=Ka[1],Ja=Object(_.useState)({}),Xa=Object(p.a)(Ja,2),Za=Xa[0],en=Xa[1];Object(_.useEffect)((function(){H.b.query({query:C.l.GET_PRODUCT_LIST_FOR_ADD_MINIMAL,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getProductList;if(!(null===a||void 0===a?void 0:a.status))return Object(z.a)();$a((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).finally((function(){$a((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1})}))}))}),[]);var tn=Object(_.useState)({}),an=Object(p.a)(tn,2),nn=an[0],ln=an[1],rn=Object(_.useState)([]),dn=Object(p.a)(rn,2),on=dn[0],un=dn[1];return b.a.createElement(b.a.Fragment,null,b.a.createElement(g.a,{title:At.id?"Manage Product | Edit Product ".concat(Lt.isLoading?"":"(".concat(Lt.data.prod_name,")")):"Add Product"}),b.a.createElement(f.b,null,b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{sm:24,xs:24},b.a.createElement(E.a,{headless:!0},At.id&&Lt.isLoading?b.a.createElement("div",{div:"true",className:"spin"},b.a.createElement(o.a,null)):b.a.createElement(m.a,{style:{width:"100%"},form:tt,name:"addRole",onFinish:function(){var e=tt.getFieldsValue(!0),t=e.prod_regular_price,a=e.extended_warranty_value,n=e.prod_sale_price,l=e.cost,r=Object(c.a)(e,te),i=!0,d=!0,o=qa.map((function(e){e.id;var t=Object(c.a)(e,ae);return"none"===t.attribute_type&&(t.attribute_value="none"),t.attr_group_id||t.attribute_type||t.attribute_value||(i=!1),t.attr_group_id&&t.attribute_type&&t.attribute_value||(d=!1),Object(s.a)({},t)}));if(!d&&i)return u.b.warning("Please fill all attribute field correctly");var m=!0,p=!0,v=Fa.map((function(e){e.id;var t=e.customer_group_id,a=e.discount_quantity,n=e.discount_priority,l=e.discount_price,r=e.discount_startdate,i=e.discount_enddate;return t||a||n||l||r||i||(m=!1),t&&a&&n&&l&&r&&i||(p=!1),{customer_group_id:t,discount_quantity:a,discount_priority:n,discount_price:l,discount_startdate:r,discount_enddate:i}}));if(!p&&m)return u.b.warning("Please fill all discount field correctly");var _=ja.map((function(e){return e.uid})),b=Qa.map((function(e){return{prod_id:e.uid,prod_quantity:Za[e.uid]?parseInt(Za[e.uid]):1}})),g=Object(s.a)(Object(s.a)({},r),{},{prod_long_desc:Vt,related_product:_,prod_status:Ut,partof_product:b,taxable:Wt,prod_condition:ut,product_rep:pt,prod_outofstock_status:yt});if(t&&(g.prod_regular_price=parseFloat(t)),l&&(g.cost=parseFloat(l)),a&&(g.extended_warranty_value=parseFloat(a)),n&&(g.prod_sale_price=parseFloat(n)),i&&(g.product_attributes=o),m&&(g.discount_type=v),ka&&(g.weight=ka),Aa&&(g.dimensions=Aa),!g.prod_long_desc)return u.b.warning("Please enter a long description");if(!g.prod_short_desc)return u.b.warning("Please enter a long description");if(!g.prod_sku)return u.b.warning("Please enter Product SKU");if(!g.prod_partnum)return u.b.warning("Please enter Part No");if(!g.brand_id)return u.b.warning("Please select a Manufacture");if(!g.prod_category)return u.b.warning("Please select a Category");if(!g.prod_outofstock_status&&!At.id)return u.b.warning("Please select an Availability Status");if(!g.prod_regular_price)return u.b.warning("Please enter Regular Price");if(rt(!0),At.id)g.prod_id=parseInt(At.id),C.a.mutate({mutation:C.k.UPDATE_PRODUCT,variables:{data:g},context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}},refetchQueries:[{query:C.l.GET_PRODUCT_LIST,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}},fetchPolicy:"network-only"},["getProductList"]]}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updateProduct;if(!(null===a||void 0===a?void 0:a.status))return Object(z.a)();setTimeout((function(){it.push("/admin/products/list")}),1e3),u.b.success(a.message)})).finally((function(){rt(!1)}));else{if(g.prod_thumbnail=nn.file,g.prod_gallery=on.map((function(e){return e.file})),!prod_thumbnail)return u.b.warning("Please select a feature image");C.a.mutate({mutation:C.k.ADD_PRODUCT,variables:{data:g},context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}},refetchQueries:[{query:C.l.GET_PRODUCT_LIST,context:{headers:{TENANTID:"100001",Authorization:D.a.get("psp_t")}},fetchPolicy:"network-only"},["getProductList"]]}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.addProduct;if(!(null===a||void 0===a?void 0:a.status))return Object(z.a)();setTimeout((function(){it.push("/admin/products/list")}),1e3),u.b.success(a.message)})).finally((function(){rt(!1)}))}},labelCol:{span:4},initialValues:At.id&&{prod_name:Lt.data.prod_name,prod_short_desc:Lt.data.prod_short_desc,prod_meta_title:Lt.data.prod_meta_title,prod_meta_desc:Lt.data.prod_meta_desc,prod_meta_keywords:Lt.data.prod_meta_keywords,prod_tags:Lt.data.prod_tags,prod_partnum:Lt.data.prod_partnum,prod_sku:Lt.data.prod_sku,is_sale:Lt.data.is_sale,brand_id:null===(e=Lt.data)||void 0===e||null===(t=e.brand)||void 0===t?void 0:t.id,prod_condition:(null===(a=Lt.data)||void 0===a||null===(h=a.productCondition)||void 0===h?void 0:h.id)||"",product_rep:(null===(j=Lt.data)||void 0===j||null===(P=j.representative)||void 0===P?void 0:P.id)||"",prod_outofstock_status:null===Lt||void 0===Lt||null===(T=Lt.data)||void 0===T||null===(A=T.productavailablitystatus)||void 0===A?void 0:A.id,prod_category:null===(S=Lt.data)||void 0===S||null===(w=S.category)||void 0===w?void 0:w.id,prod_regular_price:(null===(L=Lt.data)||void 0===L?void 0:L.prod_regular_price)||0,prod_sale_price:(null===(k=Lt.data)||void 0===k?void 0:k.prod_sale_price)||0,cost:(null===(x=Lt.data)||void 0===x?void 0:x.cost)||0,extended_warranty:(null===(N=Lt.data)||void 0===N?void 0:N.extended_warranty)||!1,extended_warranty_value:(null===(R=Lt.data)||void 0===R?void 0:R.extended_warranty_value)||0,location:(null===(V=Lt.data)||void 0===V?void 0:V.location)||"",hs_code:(null===(B=Lt.data)||void 0===B?void 0:B.hs_code)||"",product_rank:(null===(F=Lt.data)||void 0===F?void 0:F.product_rank)||"",mfg_build_part_number:(null===(U=Lt.data)||void 0===U?void 0:U.mfg_build_part_number)||""}},b.a.createElement(l.a,null,b.a.createElement(l.a.TabPane,{tab:"General",key:"general"},b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_partnum",rules:[{required:!0,message:"Part NO"}],label:"Part Number"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:6},b.a.createElement(v.a,{defaultValue:null===Lt||void 0===Lt||null===(M=Lt.data)||void 0===M?void 0:M.prod_partnum,placeholder:"Part No"}))))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"mfg_build_part_number",label:"MFG Build Part Number"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:6},b.a.createElement(v.a,{defaultValue:null===Lt||void 0===Lt||null===(W=Lt.data)||void 0===W?void 0:W.mfg_build_part_number,placeholder:"MFG Build Part Number"}))))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_sku",label:"SKU"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:6},b.a.createElement(v.a,{defaultValue:null===Lt||void 0===Lt||null===(Z=Lt.data)||void 0===Z?void 0:Z.prod_sku,placeholder:" Product SKU"}))))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_name",rules:[{required:!0,message:"Please enter Product Name"}],label:"Title"},b.a.createElement(v.a,{placeholder:"Product Name"}))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_short_desc",rules:[{required:!0,message:"Please enter n"}],label:"Short Description"},b.a.createElement(ne,{rows:3,placeholder:" Short Description"}))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{label:"Long Description"},b.a.createElement(O.a,{value:Dt,onChange:function(e){Bt(e.toString("html")),Nt(e)},placeholder:"Long Description",className:I.a.rte,editorClassName:I.a.rteEditor,toolbarClassName:I.a.rteToolbar}))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_meta_title",rules:[{required:!0,message:"Please enter Meta Title"}],label:"Meta Title"},b.a.createElement(v.a,{placeholder:" Meta Title"}))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_meta_desc",rules:[{required:!0,message:"Please enter Meta Description"}],label:"Meta Description"},b.a.createElement(v.a,{placeholder:" Meta Description"}))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_meta_keywords",rules:[{required:!0,message:"Please enter Meta Keywords"}],label:"Meta Keywords"},b.a.createElement(v.a,{placeholder:"Comma separated Meta Keywords"}))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_tags",rules:[{required:!0,message:"Please enter Tags"}],label:"Tags"},b.a.createElement(v.a,{placeholder:"Comma separated Tags"}))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_status",label:"Status"},b.a.createElement(r.a,{defaultChecked:Lt.data.prod_status,defaultValue:Lt.data.prod_status}))))),b.a.createElement(l.a.TabPane,{tab:"Data",key:"Data"},b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:12},b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"prod_condition",rules:[{required:!0,message:"Product Condition Is Required"}],label:"Product Condition"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:12},b.a.createElement(n.a,{defaultValue:null===Lt||void 0===Lt||null===(le=Lt.data)||void 0===le||null===(re=le.productCondition)||void 0===re?void 0:re.name,placeholder:Zt.loading?"Loading...":"Select Condition",options:null===Zt||void 0===Zt||null===(ie=Zt.data)||void 0===ie?void 0:ie.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return ct(e)}})))))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"location",label:"Location"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:16},b.a.createElement(v.a,{defaultValue:null===Lt||void 0===Lt||null===(de=Lt.data)||void 0===de?void 0:de.location,placeholder:" Product Location"})))))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"hs_code",label:"HS Code"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:12},b.a.createElement(v.a,{defaultValue:null===Lt||void 0===Lt||null===(oe=Lt.data)||void 0===oe?void 0:oe.hs_code,placeholder:" HS Code"})))))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"product_rank",label:"Product Rank"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:12},b.a.createElement(v.a,{defaultValue:null===Lt||void 0===Lt||null===(ue=Lt.data)||void 0===ue?void 0:ue.product_rank,placeholder:" Product Rank"})))))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"product_rep",label:"Product Representative"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:20},b.a.createElement(n.a,{defaultValue:Lt.data.representative?"".concat(null===Lt||void 0===Lt||null===(ce=Lt.data)||void 0===ce||null===(se=ce.representative)||void 0===se?void 0:se.first_name," ").concat(null===Lt||void 0===Lt||null===(me=Lt.data)||void 0===me||null===(pe=me.representative)||void 0===pe?void 0:pe.last_name," - ").concat(null===Lt||void 0===Lt||null===(ve=Lt.data)||void 0===ve||null===(_e=ve.representative)||void 0===_e?void 0:_e.roles[0].role):null,placeholder:na.loading?"Loading...":"Select a Product Representative",options:null===na||void 0===na||null===(be=na.data)||void 0===be?void 0:be.map((function(e){return{label:e.first_name+" "+e.last_name,value:e.id}})),onSelect:function(e){return vt(e)}}))))))),b.a.createElement(d.a,{span:12},b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"extended_warranty",label:"Extended Warranty"},b.a.createElement(r.a,{defaultChecked:Lt.data.extended_warranty,onChange:function(e){return Pt(e)},defaultValue:Lt.data.extended_warranty})),It&&b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},rules:[{required:!0,message:"Extended Warranty Value"}],name:"extended_warranty_value",label:"Extended Warranty Value"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:8},b.a.createElement(v.a,{placeholder:"Extended Warranty Value",defaultValue:null===Lt||void 0===Lt||null===(ge=Lt.data)||void 0===ge?void 0:ge.extended_warranty_value,type:"number"})))))),b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"is_sale",label:"On Sale"},b.a.createElement(r.a,{defaultChecked:Lt.data.is_sale,defaultValue:Lt.data.is_sale})),b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"is_featured",label:"Featured"},b.a.createElement(r.a,{defaultChecked:Lt.data.is_featured,defaultValue:Lt.data.is_featured})),b.a.createElement(m.a.Item,{labelCol:{style:{width:"40%"}},name:"is_serial",label:"Has Serial"},b.a.createElement(r.a,{defaultChecked:Lt.data.is_serial,defaultValue:Lt.data.is_serial}))))),b.a.createElement(l.a.TabPane,{tab:"Links",key:"Links"},b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"brand_id",rules:[{required:!0,message:"Please Select a Manufacture"}],label:"Manufacturer"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:7},b.a.createElement(n.a,{defaultValue:null===Lt||void 0===Lt||null===(fe=Lt.data)||void 0===fe||null===(Ee=fe.brand)||void 0===Ee?void 0:Ee.brand_name,placeholder:Qt.loading?"Loading...":"Select Manufacture",options:null===Qt||void 0===Qt||null===(ye=Qt.data)||void 0===ye?void 0:ye.map((function(e){return{label:e.brand_name,value:e.id,categories:e.categories}})),onSelect:function(e,t){var a,n;if(ya([]),gt(""),null===t||void 0===t||null===(a=t.categories)||void 0===a?void 0:a.length){var l=[];null===t||void 0===t||null===(n=t.categories)||void 0===n||n.forEach((function(e){var t=e.cat_name;l.push({cat_name:t,id:e.id,cat_status:e.cat_status}),e.subcategories&&e.subcategories.forEach((function(e){var a=e.cat_name;l.push({cat_name:"".concat(t," > ").concat(a),id:e.id,cat_status:e.cat_status}),e.subsubcategories&&e.subsubcategories.forEach((function(e){var n=e.cat_name;l.push({cat_name:"".concat(t," > ").concat(a," > ").concat(n),id:e.id,cat_status:e.cat_status})}))}))})),ya(l)}}})))))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_category",rules:[{required:!0,message:"Please Select a Category"}],label:"Categories"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:7},b.a.createElement(n.a,{defaultValue:null===Lt||void 0===Lt||null===(he=Lt.data)||void 0===he||null===(Oe=he.category)||void 0===Oe?void 0:Oe.cat_name,placeholder:Qt.loading?"Loading...":Ea.length?"Select Category":"Select manifacture first",options:Ea.map((function(e){return{label:e.cat_name,value:e.id,key:e.id}}))})))))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{label:"Related Product",rules:[{required:!0,message:"Please enter Product Name"}]},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:7},b.a.createElement(n.a,{placeholder:Wa.isLoading?"Loading...":"select Related Products",mode:"multiple",optionFilterProp:"label",defaultValue:At.id?null===Lt||void 0===Lt||null===(je=Lt.data)||void 0===je||null===(Ie=je.related_products)||void 0===Ie?void 0:Ie.map((function(e){var t;return null===e||void 0===e||null===(t=e.related_prod)||void 0===t?void 0:t.id})):[],options:null===Wa||void 0===Wa||null===(Pe=Wa.data)||void 0===Pe?void 0:Pe.map((function(e){return{label:e.prod_name,value:e.id,uid:e.id}})),onChange:function(e,t){Ia(t)}}))))))),b.a.createElement(l.a.TabPane,{tab:"Specifications",key:"Specifications"},b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{rules:Aa?[{required:!0,message:"Please Fill All Dimensions Correcty"}]:[],label:b.a.createElement("p",null,"Dimensions ",b.a.createElement("br",null)," (L x W x H)")},b.a.createElement(v.a.Group,{compact:!0},b.a.createElement(v.a,{name:"length",style:{width:"10%"},placeholder:"Length",onBlur:function(e){return Sa((function(t){return Object(s.a)(Object(s.a)({},t),{},{length:e.target.value})}))},defaultValue:At.id&&(null===Lt||void 0===Lt||null===(Te=Lt.data)||void 0===Te||null===(Ae=Te.dimensions)||void 0===Ae?void 0:Ae.length)?null===Lt||void 0===Lt||null===(Se=Lt.data)||void 0===Se||null===(we=Se.dimensions)||void 0===we?void 0:we.length:""}),b.a.createElement(v.a,{name:"width",style:{width:"10%"},placeholder:"Width",onBlur:function(e){return Sa((function(t){return Object(s.a)(Object(s.a)({},t),{},{width:e.target.value})}))},defaultValue:At.id&&(null===Lt||void 0===Lt||null===(Le=Lt.data)||void 0===Le||null===(ke=Le.dimensions)||void 0===ke?void 0:ke.length)?null===Lt||void 0===Lt||null===(Ce=Lt.data)||void 0===Ce||null===(xe=Ce.dimensions)||void 0===xe?void 0:xe.width:""}),b.a.createElement(v.a,{name:"height",style:{width:"10%"},placeholder:"Height",onBlur:function(e){return Sa((function(t){return Object(s.a)(Object(s.a)({},t),{},{height:e.target.value})}))},defaultValue:At.id&&(null===Lt||void 0===Lt||null===(De=Lt.data)||void 0===De||null===(Ne=De.dimensions)||void 0===Ne?void 0:Ne.length)?null===Lt||void 0===Lt||null===(qe=Lt.data)||void 0===qe||null===(Re=qe.dimensions)||void 0===Re?void 0:Re.height:""}))))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{rules:Aa?[{required:!0,message:"Please Fill All Dimensions Correcty"}]:[],label:b.a.createElement("p",null,"Dimensions ",b.a.createElement("br",null),"Class"," ")},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:5},b.a.createElement(n.a,{style:{height:"3.5em"},placeholder:"Dimension Class",defaultValue:null===Lt||void 0===Lt||null===(Ve=Lt.data)||void 0===Ve||null===(Be=Ve.dimensions)||void 0===Be||null===(Ge=Be.dimensionClass)||void 0===Ge?void 0:Ge.name,options:null===sa||void 0===sa||null===(Fe=sa.data)||void 0===Fe?void 0:Fe.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return Sa((function(t){return Object(s.a)(Object(s.a)({},t),{},{dimension_class_id:e})}))}})))))),b.a.createElement(m.a.Item,{rules:ka?[{required:!0,message:"Please Fill All Weight Field Correcty"}]:[],name:"weight",label:"Weight"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:5},b.a.createElement(v.a,{style:{width:"50%"},defaultValue:At.id&&(null===Lt||void 0===Lt||null===(Ue=Lt.data)||void 0===Ue||null===(Me=Ue.weight)||void 0===Me?void 0:Me.weight)?null===Lt||void 0===Lt||null===(ze=Lt.data)||void 0===ze||null===(We=ze.weight)||void 0===We?void 0:We.weight:"",onBlur:function(e){return Ca((function(t){return Object(s.a)(Object(s.a)({},t),{},{weight:parseFloat(e.target.value)})}))},type:"number",placeholder:"Weight"})))),b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{rules:ka?[{required:!0,message:"Please Fill All Weight Field Correcty"}]:[],label:"Weight Class"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:5},b.a.createElement(n.a,{placeholder:"Weight Class",defaultValue:null===Lt||void 0===Lt||null===($e=Lt.data)||void 0===$e||null===(He=$e.weight)||void 0===He||null===(Ke=He.weightClass)||void 0===Ke?void 0:Ke.name,options:null===_a||void 0===_a||null===(Qe=_a.data)||void 0===Qe?void 0:Qe.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return Ca((function(t){return Object(s.a)(Object(s.a)({},t),{},{weight_class_id:e})}))}}))))))),b.a.createElement(l.a.TabPane,{tab:"Stock",key:"Stock"},b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_outofstock_status",rules:[{required:!0,message:"Please Select Availability Status"}],label:"Availability"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:6},b.a.createElement(n.a,{defaultValue:null===Lt||void 0===Lt||null===(Ye=Lt.data)||void 0===Ye||null===(Je=Ye.productavailablitystatus)||void 0===Je?void 0:Je.name,placeholder:da.loading?"Loading...":"Select a Status",options:null===da||void 0===da||null===(Xe=da.data)||void 0===Xe?void 0:Xe.map((function(e){return{label:e.name,value:e.id}})),onSelect:function(e){return ht(e)}}))))))),b.a.createElement(l.a.TabPane,{tab:"Attribute",key:"Attribute"},b.a.createElement(q,{attributesTableData:qa,setAttributesTableData:Ra})),b.a.createElement(l.a.TabPane,{tab:"Price",key:"Price"},b.a.createElement(i.a,{gutter:25},b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_regular_price",rules:[{required:!0,message:"MSRP"}],label:"MSRP"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:6},b.a.createElement(v.a,{placeholder:"MSRP",defaultValue:Lt.data.prod_regular_price,prefix:"US$  ",type:"number"}))))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"prod_sale_price",label:"Sales Price"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:6},b.a.createElement(v.a,{prefix:"US$  ",type:"number",defaultValue:Lt.data.prod_sale_price,placeholder:"Sales Price"}))))),b.a.createElement(d.a,{span:24},b.a.createElement(m.a.Item,{name:"cost",label:"Cost"},b.a.createElement(i.a,null,b.a.createElement(d.a,{span:6},b.a.createElement(v.a,{prefix:"US$  ",type:"number",defaultValue:Lt.data.cost,placeholder:"Product Cost"})))))),b.a.createElement(m.a.Item,{label:"Taxable"},b.a.createElement(r.a,{checked:Wt,onChange:function(e){return $t(e)}}))),b.a.createElement(l.a.TabPane,{tab:"Discount",key:"Discount"},b.a.createElement(G,{discount:Fa,setDiscount:Ua})),b.a.createElement(l.a.TabPane,{tab:"Build Of Product",key:"PartsOf"},b.a.createElement(Q,{products:Wa,setProducts:$a,selectedPartsOfProducts:Qa,setSelectedPartsOfProducts:Ya,partOfProductQuantities:Za,setPartOfProductQuantities:en})),b.a.createElement(l.a.TabPane,{tab:"Images",key:"Images"},b.a.createElement($,{featuresImage:nn,setFeaturesImage:ln,gallaryImages:on,setGallaryImages:un,singleProdUid:null===Lt||void 0===Lt||null===(Ze=Lt.data)||void 0===Ze?void 0:Ze.id,setIsLoading:rt}))),b.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"3em"}},b.a.createElement(m.a.Item,null,b.a.createElement(y.a,{loading:lt,size:"default",htmlType:"submit",type:"primary",raised:!0},lt?"Processing":"Save"),b.a.createElement(X.b,{to:"/admin/products/list"},b.a.createElement(y.a,{type:"white",size:"large"},"Cancel"))))))))))}}}]);