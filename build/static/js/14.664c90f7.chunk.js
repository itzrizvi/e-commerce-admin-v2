(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[14],{616:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n,r,i,l,u,o,c,d,s=a(11),m=a(23),p={GET_ALL_BRAND:Object(m.d)(n||(n=Object(s.a)(["\n  query getAllBrands {\n  getAllBrands {\n    message\n    tenant_id\n    status\n    data {\n      brand_uuid\n      brand_name\n      brand_slug\n      brand_description\n      brand_status\n      image\n      brand_sort_order\n      createdAt\n    }\n  }\n}"]))),GET_ALL_BRAND_WITH_CATEGORY:Object(m.d)(r||(r=Object(s.a)(["\nquery getAllBrands {\n  getAllBrands {\n    message\n    tenant_id\n    status\n    data {\n      brand_uuid\n      brand_name\n      brand_slug\n      brand_status\n      brand_description\n      image\n      createdAt\n      updatedAt\n      tenant_id\n      categories {\n        cat_id\n        cat_name\n        cat_slug\n        cat_status\n        subcategories {\n          cat_id\n          cat_name\n          cat_slug\n          cat_status\n          subsubcategories {\n            cat_id\n            cat_name\n            cat_slug\n            cat_status\n          }\n        }\n      }\n    }\n  }\n}\n\n"]))),GET_CATEGORIES:Object(m.d)(i||(i=Object(s.a)(["\n  query getParentCategories {\n    getParentCategories {\n      message\n      status\n      tenant_id\n      categories {\n        cat_id\n        cat_name\n      }\n    }\n  }\n"]))),GET_SINGLE_BRAND:Object(m.d)(l||(l=Object(s.a)(["\n  query getSingleBrand($brand_uuid : UUID!){\n    getSingleBrand(query: {brand_uuid: $brand_uuid}) {\n      message\n      tenant_id\n      status\n      data {\n        brand_name\n        brand_description\n        brand_status\n        brand_sort_order\n        image\n        categories {\n          cat_id\n          cat_name\n        }\n      }\n    }\n  }\n"]))),BRAND_UPDATE:Object(m.d)(u||(u=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput, $file:Upload){\n    updateBrand(data:$data, file: $file){\n      message\n      status\n    }\n  }"]))),BRAND_UPDATE_WI:Object(m.d)(o||(o=Object(s.a)(["\n  mutation updateBrand($data: UpdateBrandInput){\n    updateBrand(data:$data){\n      message\n      status\n    }\n  }"]))),BRAND_ADD:Object(m.d)(c||(c=Object(s.a)(["\n    mutation createBrand($data: BrandCreateInput, $file:Upload) {\n      createBrand(data: $data, file:$file) {\n        message\n        tenant_id\n        status\n      }\n    }"]))),BRAND_ADD_WI:Object(m.d)(d||(d=Object(s.a)(["\n      mutation createBrand($data: BrandCreateInput) {\n        createBrand(data: $data) {\n          message\n          tenant_id\n          status\n        }\n     }"])))}},728:function(e,t,a){e.exports={rte:"products_rte__1AkhM",rteEditor:"products_rteEditor__1JKAC",rteToolbar:"products_rteToolbar__3PEbt"}},892:function(e,t,a){"use strict";a.r(t);a(130);var n=a(67),r=(a(131),a(43)),i=(a(285),a(106)),l=(a(256),a(147)),u=(a(197),a(121)),o=a(91),c=a(12),d=(a(280),a(59)),s=a(33),m=(a(282),a(133)),p=(a(143),a(68)),_=a(0),b=a.n(_),g=a(26),v=a.n(g),f=a(146),E=a(145),y=a(144),O=a(176),h=a(674),j=a.n(h),P=a(728),S=a.n(P),I=(a(281),a(132)),T=(a(607),a(606)),k=(a(134),a(64)),w=a(177),A=a(896),D=a(39),L=a(42),x=a.n(L),C=m.a.Option,B=function(e){var t=e.index,a=e.setAttributesTableData,n=e.attribute_type,r=e.attribute_value,i=Object(_.useState)(""),l=Object(s.a)(i,2),u=l[0],o=l[1],d=Object(_.useState)([]),g=Object(s.a)(d,2),v=g[0],f=g[1],E=function(e){a((function(a){var n=a[t],r=Object(w.a)(a);return r[t]=Object(c.a)(Object(c.a)({},n),{},{attribute_value:e.target.value}),r}))};return b.a.createElement(b.a.Fragment,null,b.a.createElement(m.a,{style:{width:"10em",marginRight:"1em"},placeholder:"Select type",defaultValue:n||null,onChange:function(e){o(e),a((function(a){var n=a[t],r=Object(w.a)(a);return r[t]=Object(c.a)(Object(c.a)({},n),{},{attribute_type:e}),r}))}},b.a.createElement(C,{value:"text"},"Text"),b.a.createElement(C,{value:"link"},"Link"),b.a.createElement(C,{value:"file"},"File"),b.a.createElement(C,{value:"none"},"None")),"text"===u&&b.a.createElement(p.a,{placeholder:"Enter text",style:{width:"calc(100% - 12em)"},size:"middle",onBlur:E,defaultValue:r}),"link"===u&&b.a.createElement(p.a,{placeholder:"Enter Link",style:{width:"calc(100% - 12em)"},size:"middle",onBlur:E,defaultValue:r}),"file"===u&&b.a.createElement(T.a,{beforeUpload:function(e){return f([e]),!1},onRemove:function(){return f([])},fileList:v},b.a.createElement(k.a,{icon:b.a.createElement(A.a,null)},"Select File")))},N=function(e){var t=e.attributesTableData,a=e.setAttributesTableData,n=Object(_.useState)({data:[],isLoading:!0}),r=Object(s.a)(n,2),i=r[0],l=r[1],u=Object(_.useState)({}),o=Object(s.a)(u,2),d=o[0],p=o[1];Object(_.useEffect)((function(){D.j.query({query:D.c.GET_ALL_ATTR_GROUPS_FOR_ADD_PROD,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllAttrGroups;(null===a||void 0===a?void 0:a.status)&&l((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){l((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){l((function(e){return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1})}))}))}),[]);var g=[{title:"Attribute Group",dataIndex:"attr_group_uuid",key:"attr_group_uuid",width:200,render:function(e,t,n){return b.a.createElement(m.a,{style:{width:"100%"},placeholder:i.isLoading?"Loading...":"Select Group...",defaultValue:e||null,options:i.data.map((function(e){return{label:e.attr_group_name,value:e.attr_group_uuid,attributes:e.attributes}})),onSelect:function(e,t){return function(e,t,n){p(t),a((function(t){var a=t[n],r=Object(w.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{attr_group_uuid:e}),r}))}(e,t,n)}})}},{title:"Attribute",dataIndex:"attribute_uuid",key:"attribute_uuid",width:200,render:function(e,t,n){var r;return b.a.createElement(m.a,{style:{width:"100%"},disabled:!d.value,defaultValue:e||null,placeholder:i.isLoading?"Loading...":"Select Group...",options:null===d||void 0===d||null===(r=d.attributes)||void 0===r?void 0:r.map((function(e){return{label:e.attribute_name,value:e.attribute_uuid}})),onSelect:function(e,t){return function(e,t,n){a((function(t){var a=t[n],r=Object(w.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{attribute_uuid:e}),r}))}(e,0,n)}})}},{title:"Values",dataIndex:"value",key:"value",render:function(e,t,n){return b.a.createElement(B,{index:n,setAttributesTableData:a,attribute_type:t.attribute_type,attribute_value:t.attribute_value})}},{title:"Action",dataIndex:"action",key:"action",width:90,align:"right",render:function(e,t){return b.a.createElement(k.a,{size:"",title:"Remove",type:"danger",onClick:function(){return e=t.id,void a((function(t){return t.filter((function(t){return t.id!==e}))}));var e}},b.a.createElement(v.a,{icon:"minus",size:15}))}}];return b.a.createElement(b.a.Fragment,null,b.a.createElement(I.a,{columns:g,dataSource:t,pagination:!1,rowKey:"id"}),b.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px",marginRight:"1em"}},b.a.createElement(k.a,{title:"Add Banner",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),attr_group_uuid:"",attribute_uuid:"",attribute_type:"",attribute_value:""};a((function(t){return[].concat(Object(w.a)(t),[e])})),console.log(t)}},b.a.createElement(v.a,{icon:"plus",size:15}))))},q=(a(611),a(614)),R=function(e){var t=e.discount,a=e.setDiscount,n=Object(_.useState)({data:[],isLoading:!0}),r=Object(s.a)(n,2),i=r[0],l=r[1];Object(_.useEffect)((function(){D.j.query({query:D.i.GET_ALL_CUSTOMER_GROUPS,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllCustomerGroups;(null===a||void 0===a?void 0:a.status)&&l((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){l((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){l((function(e){return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1})}))}))}),[]);var u=[{title:"Customer Group",dataIndex:"customer_group_uuid",key:"customer_group_uuid",render:function(e,t,n){var r;return b.a.createElement(m.a,{style:{width:"150px"},placeholder:i.isLoading?"Loading..":"customer group",defaultValue:e,onSelect:function(e){a((function(t){var a=t[n],r=Object(w.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{customer_group_uuid:e}),console.log(r),r}))}},null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.map((function(e){return b.a.createElement(m.a.Option,{key:e.customer_group_uuid,value:e.customer_group_uuid},e.customer_group_name)})))}},{title:"Quantity",dataIndex:"discount_quantity",key:"discount_quantity",width:100,render:function(e,t,n){return b.a.createElement(p.a,{defaultValue:e,type:"number",placeholder:"Quantity",style:{width:"100px"},onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(w.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_quantity:e.target.value}),console.log(r),r}))}})}},{title:"Priority",dataIndex:"discount_priority",key:"discount_priority",width:100,render:function(e,t,n){return b.a.createElement(p.a,{type:"number",placeholder:"Priority",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(w.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_priority:e.target.value}),console.log(r),r}))}})}},{title:"Price",dataIndex:"discount_price",key:"discount_price",width:100,render:function(e,t,n){return b.a.createElement(p.a,{type:"number",placeholder:"Price",style:{width:"100px"},defaultValue:e,onBlur:function(e){console.log(e.target.value),a((function(t){var a=t[n],r=Object(w.a)(t);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_price:e.target.value}),console.log(r),r}))}})}},{title:"Date Start",dataIndex:"title",key:"title",render:function(e,t,n){return b.a.createElement(q.a,{onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],r=Object(w.a)(e);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_startdate:t}),console.log(r),r}))}})}},{title:"Date End",dataIndex:"title",key:"title",render:function(e,t,n){return b.a.createElement(q.a,{onChange:function(e){var t=new Date(e._d).toGMTString();console.log(t),a((function(e){var a=e[n],r=Object(w.a)(e);return r[n]=Object(c.a)(Object(c.a)({},a),{},{discount_enddate:t}),console.log(r),r}))}})}},{title:"Action",dataIndex:"action",key:"action",render:function(e,t){return b.a.createElement(k.a,{size:"",title:"Remove",type:"danger",onClick:function(){return o(t.id)}},b.a.createElement(v.a,{icon:"minus"}))}}],o=function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))};return b.a.createElement(b.a.Fragment,null,b.a.createElement(I.a,{className:"table-responsive",columns:u,pagination:!1,rowKey:"id",size:"small",dataSource:t}),b.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px",marginBottom:"10px"}},b.a.createElement(k.a,{title:"Add Banner",htmlType:"button",type:"primary",onClick:function(){var e={id:(new Date).getTime(),customer_group_uuid:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""};a((function(t){return[].concat(Object(w.a)(t),[e])}))},style:{marginRight:".5em"}},b.a.createElement(v.a,{icon:"plus"}))))},G=a(731),V=a.n(G),U=a(48),F=a(897),M=function(e){var t=e.featuresImage,a=e.setFeaturesImage,n=e.gallaryImages,r=e.setGallaryImages;return b.a.createElement(b.a.Fragment,null,b.a.createElement(d.a.Item,{label:"Features Image"},b.a.createElement(T.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){var t="image/jpeg"===e.type;if(!t)return U.b.error("You can only upload JPG file!");var n=e.size/1024/1024<2;return n?(t&&n&&a({file:e,thumbnail:URL.createObjectURL(e)}),!1):U.b.error("Image must smaller than 2MB!")},onPreview:function(){return console.log()},onRemove:function(){return a({})},fileList:t.file?[{file:t.file,url:t.thumbnail}]:[]},!t.file&&"+ Upload")),b.a.createElement(d.a.Item,{label:"Gallery Image"},b.a.createElement(V.a,{multiple:!0,listType:"picture-card",beforeUpload:function(e){e.type;return r((function(t){return[].concat(Object(w.a)(t),[{file:e,url:URL.createObjectURL(e),uid:e.uid}])})),!1},fileList:n,onRemove:function(e){r((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))}},b.a.createElement("p",{className:"ant-upload-drag-icon"},b.a.createElement(F.a,null)),b.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"))))},z=a(284),$=a(616),W=function(e){var t,a=e.products,n=(e.setProducts,e.selectedPartsOfProducts),r=e.setSelectedPartsOfProducts,i=(e.partOfProductQuantities,e.setPartOfProductQuantities),l=[{title:"Name",dataIndex:"name",key:"name"},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Quantity",dataIndex:"q",key:"q",width:120,render:function(e,t){return b.a.createElement(p.a,{defaultValue:"1",type:"number",placeholder:"Quantity",onBlur:function(e){i((function(a){var n=Object(c.a)({},a);return n[t.uid]=e.target.value,console.log(n),n}))}})}},{title:"Action",dataIndex:"action",key:"action",width:100,render:function(e,t,a){return b.a.createElement(k.a,{size:"",title:"Remove",type:"danger",onClick:function(){var e=Object(w.a)(n);e.splice(a,1),r(e)}},b.a.createElement(v.a,{icon:"minus"}))}}];return b.a.createElement("div",null,b.a.createElement(d.a.Item,{label:"Products"},b.a.createElement(m.a,{style:{marginBottom:"2em"},mode:"multiple",value:n,placeholder:a.isLoading?"Loading..":"Select Product..",optionFilterProp:"label",options:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.map((function(e){return{label:e.prod_name,value:e.prod_uuid,uid:e.prod_uuid,key:e.prod_uuid,name:e.prod_name,sku:e.prod_sku}})),onChange:function(e,t){r(t)}}),b.a.createElement(I.a,{dataSource:n,columns:l,pagination:!1,rowKey:"uid"})))},K=a(35),Q=a(54),H=a(10),J=a(198),Y=a.n(J),X=["dimension_class","prod_regular_price","prod_sale_price","prod_weight","prod_weight_class"],Z=["id"],ee=p.a.TextArea,te=m.a.Option;t.default=function(){var e,t,a,g,v,h,P,I,T,k,w,A,L,C,B,q,G,V,F,J,ae,ne,re,ie;Object(K.b)("product");var le=d.a.useForm(),ue=Object(s.a)(le,1)[0],oe=Object(_.useState)(!1),ce=Object(s.a)(oe,2),de=ce[0],se=ce[1],me=Object(Q.useHistory)(),pe=Object(Q.useLocation)().search,_e=Y.a.parse(pe),be=Object(_.useState)({data:{},isLoading:!0}),ge=Object(s.a)(be,2),ve=ge[0],fe=ge[1];Object(_.useEffect)((function(){_e.id&&z.b.query({query:D.l.GET_SINGLE_PRODUCT,variables:{query:{prod_uuid:_e.id}},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getSingleProduct;if(!a.status)return U.b.error("Try reload..!");fe({data:null===a||void 0===a?void 0:a.data,isLoading:!1}),lt((function(e){var t,n;return null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.discount_type)||void 0===n?void 0:n.map((function(e){return{id:(new Date).getTime(),customer_group_uuid:e.discount_type_uuid,discount_quantity:e.discount_quantity,discount_priority:e.discount_priority,discount_price:e.discount_price,discount_startdate:e.discount_startdate,discount_enddate:e.discount_enddate}}))})),tt((function(e){var t,n;return null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.prod_attributes)||void 0===n?void 0:n.map((function(e){var t,a,n;return{id:(new Date).getTime(),attr_group_uuid:null===(t=e.attribute_data)||void 0===t||null===(a=t.attribute_group)||void 0===a?void 0:a.attr_group_uuid,attribute_uuid:null===e||void 0===e||null===(n=e.attribute_data)||void 0===n?void 0:n.attribute_uuid,attribute_type:e.attribute_type,attribute_value:e.attribute_value}}))})),_t((function(e){var t,n,r;console.log(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.part_of_products);var i=null===a||void 0===a||null===(n=a.data)||void 0===n||null===(r=n.part_of_products)||void 0===r?void 0:r.map((function(e){return{label:e.prod_name,value:e.prod_uuid,uid:e.prod_uuid,key:e.prod_uuid,name:e.prod_name,sku:e.prod_sku}}));return console.log(i),i}))})).catch((function(e){console.log("error on loading porduct,\n",e)}))}),[]);var Ee=Object(_.useState)(j.a.createEmptyValue()),ye=Object(s.a)(Ee,2),Oe=ye[0],he=ye[1],je=Object(_.useState)(""),Pe=Object(s.a)(je,2),Se=Pe[0],Ie=Pe[1],Te=Object(_.useState)(!0),ke=Object(s.a)(Te,2),we=ke[0],Ae=ke[1],De=Object(_.useState)(!0),Le=Object(s.a)(De,2),xe=Le[0],Ce=Le[1],Be=Object(_.useState)({data:[],loading:!0,error:""}),Ne=Object(s.a)(Be,2),qe=Ne[0],Re=Ne[1],Ge=Object(_.useState)([]),Ve=Object(s.a)(Ge,2),Ue=Ve[0],Fe=Ve[1],Me=Object(_.useState)([]),ze=Object(s.a)(Me,2),$e=ze[0],We=ze[1];Object(_.useEffect)((function(){z.b.query({query:$.a.GET_ALL_BRAND_WITH_CATEGORY,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllBrands;Re((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){Re((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){Re((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!1})}))}))}),[]);var Ke=Object(_.useState)({}),Qe=Object(s.a)(Ke,2),He=Qe[0],Je=Qe[1],Ye=[{id:(new Date).getTime(),attr_group_uuid:"",attribute_uuid:"",attribute_type:"",attribute_value:""}],Xe=Object(_.useState)(Ye),Ze=Object(s.a)(Xe,2),et=Ze[0],tt=Ze[1],at=[{id:(new Date).getTime(),customer_group_uuid:"",discount_quantity:"",discount_priority:"",discount_price:"",discount_startdate:"",discount_enddate:""}],nt=Object(_.useState)(at),rt=Object(s.a)(nt,2),it=rt[0],lt=rt[1],ut=Object(_.useState)({data:[],isLoading:!0}),ot=Object(s.a)(ut,2),ct=ot[0],dt=ot[1],st=Object(_.useState)([]),mt=Object(s.a)(st,2),pt=mt[0],_t=mt[1],bt=Object(_.useState)({}),gt=Object(s.a)(bt,2),vt=gt[0],ft=gt[1];Object(_.useEffect)((function(){z.b.query({query:D.l.GET_PRODUCT_LIST_FOR_ADD_MINIMAL,context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getProductList;(null===a||void 0===a?void 0:a.status)&&dt((function(e){return Object(c.a)(Object(c.a)({},e),{},{data:null===a||void 0===a?void 0:a.data,error:""})}))})).catch((function(e){dt((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){dt((function(e){return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1})}))}))}),[]);var Et=Object(_.useState)({}),yt=Object(s.a)(Et,2),Ot=yt[0],ht=yt[1],jt=Object(_.useState)([]),Pt=Object(s.a)(jt,2),St=Pt[0],It=Pt[1];return b.a.createElement(b.a.Fragment,null,b.a.createElement(f.a,{title:_e.id?"Manage Product | Edit Product (".concat(_e.name,")"):"Add Product"}),b.a.createElement(E.b,null,b.a.createElement(n.a,{gutter:25},b.a.createElement(r.a,{sm:24,xs:24},b.a.createElement(y.a,{headless:!0},_e.id&&ve.isLoading?b.a.createElement("div",{div:!0,className:"spin"},b.a.createElement(u.a,null)):b.a.createElement(d.a,{style:{width:"100%"},form:ue,name:"addRole",onFinish:function(e){var t=e.dimension_class,a=e.prod_regular_price,n=e.prod_sale_price,r=e.prod_weight,i=e.prod_weight_class,l=Object(o.a)(e,X),u=!0,d=!0,s=et.map((function(e){e.id;var t=Object(o.a)(e,Z);return"none"===t.attribute_type&&(t.attribute_value="none"),t.attr_group_uuid||t.attribute_type||t.attribute_value||(u=!1),t.attr_group_uuid&&t.attribute_type&&t.attribute_value||(d=!1),Object(c.a)({},t)}));if(!d&&u)return U.b.warning("Please fill all Attribute field correctly");var m=!0,p=!0,_=it.map((function(e){e.id;var t=e.customer_group_uuid,a=e.discount_quantity,n=e.discount_priority,r=e.discount_price,i=e.discount_startdate,l=e.discount_enddate;return t||a||n||r||i||l||(m=!1),t&&a&&n&&r&&i&&l||(p=!1),{customer_group_uuid:t,discount_quantity:a,discount_priority:n,discount_price:r,discount_startdate:i,discount_enddate:l}}));if(!p&&m)return U.b.warning("Please fill all Discount field correctly");var b=$e.map((function(e){return e.uid})),g=pt.map((function(e){return{prod_uuid:e.uid,prod_quantity:vt[e.uid]?parseInt(vt[e.uid]):1}})),v=Ot.file,f=St.map((function(e){return e.file})),E=Object(c.a)(Object(c.a)({},l),{},{prod_long_desc:Se,related_product:b,prod_status:we,partof_product:g,taxable:xe,prod_thumbnail:v,prod_gallery:f});a&&(E.prod_regular_price=parseFloat(a)),n&&(E.prod_sale_price=parseFloat(n)),u&&(E.product_attributes=s),m&&(E.discount_type=_),r&&(E.prod_weight=r,E.prod_weight_class=i);var y=He.height,O=He.length,h=He.width;if(y||O||h){var j={dimension_class:t};y&&(j.height=y),O&&(j.length=O),h&&(j.width=h),E.dimensions=j}return console.log("values:\n",e),console.log("data:\n",E),E.prod_long_desc&&E.prod_short_desc?E.prod_sku?E.prod_partnum?E.brand_uuid?E.prod_category?E.prod_outofstock_status?E.prod_regular_price?v?void(_e.id||(se(!0),D.a.mutate({mutation:D.k.ADD_PRODUCT,variables:{data:E},context:{headers:{TENANTID:"100001",Authorization:x.a.get("psp_t")}}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.addProduct;if(!a.status)return U.b.error(a.message);me.push("/admin/products/list"),window.location.reload(),U.b.success(a.message)})).catch((function(e){return console.log("add Prod err:\n",e),U.b.error("Something Went wrong !!")})).finally((function(){se(!1)})))):U.b.warning("Please select a Feature image"):U.b.warning("Please enter Regular Price"):U.b.warning("Please select an Availability Status"):U.b.warning("Please select a Category"):U.b.warning("Please select a Manufacture"):U.b.warning("Please enter Part No"):U.b.warning("Please enter Product SKU"):U.b.warning("Please enter a long description")},onFinishFailed:function(e){return console.log("form error info:\n",e)},labelCol:{span:4}},b.a.createElement(i.a,null,b.a.createElement(i.a.TabPane,{tab:"General",key:"general"},b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Product Name"}],name:"prod_name",label:"Name",initialValue:_e.id?ve.data.prod_name:""},b.a.createElement(p.a,{placeholder:"Enter Product Name"})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter n"}],name:"prod_short_desc",label:"Short Description",initialValue:_e.id?ve.data.prod_short_desc:""},b.a.createElement(ee,{rows:3,placeholder:"Enter Short Description"})),b.a.createElement(d.a.Item,{label:"Long Description"},b.a.createElement(j.a,{value:Oe,onChange:function(e){Ie(e.toString("html")),he(e)},placeholder:"Long Description",className:S.a.rte,editorClassName:S.a.rteEditor,toolbarClassName:S.a.rteToolbar})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Meta Title"}],name:"prod_meta_title",label:"Meta Title",initialValue:_e.id?ve.data.prod_meta_title:""},b.a.createElement(p.a,{placeholder:"Enter Meta Title"})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Meta Description"}],name:"prod_meta_desc",label:"Meta Description",initialValue:_e.id?ve.data.prod_meta_desc:""},b.a.createElement(p.a,{placeholder:"Enter Meta Description"})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Meta Keywords"}],name:"prod_meta_keywords",label:"Meta Keywords",initialValue:_e.id?ve.data.prod_meta_keywords:""},b.a.createElement(p.a,{placeholder:"Enter comma separated Meta Keywords"})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Tags"}],name:"prod_tags",label:"Tags",initialValue:_e.id?ve.data.prod_tags:""},b.a.createElement(p.a,{placeholder:"Enter comma separated Tags"})),b.a.createElement(d.a.Item,{label:"Status"},b.a.createElement(l.a,{checked:we,onChange:function(e){return Ae(e)}}))),b.a.createElement(i.a.TabPane,{tab:"Data",key:"Data"},b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Part NO"}],name:"prod_partnum",label:"Part NO",initialValue:_e.id?ve.data.prod_partnum:""},b.a.createElement(p.a,{placeholder:"Enter Part No"})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter SKU"}],name:"prod_sku",label:"SKU",initialValue:_e.id?ve.data.prod_sku:""},b.a.createElement(p.a,{placeholder:"Enter Product SKU"}))),b.a.createElement(i.a.TabPane,{tab:"Links",key:"Links"},b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Product Name"}],name:"brand_uuid",label:"Manufacturer",initialValue:_e.id?null===(e=ve.data)||void 0===e||null===(t=e.brand)||void 0===t?void 0:t.brand_uuid:null},b.a.createElement(m.a,{placeholder:qe.loading?"Loading...":"select Manufacture",options:qe.data.map((function(e){return{label:e.brand_name,value:e.brand_uuid,categories:e.categories}})),onSelect:function(e,t){var a,n;if(null===t||void 0===t||null===(a=t.categories)||void 0===a?void 0:a.length){var r=[];null===t||void 0===t||null===(n=t.categories)||void 0===n||n.forEach((function(e){var t=e.cat_name;r.push({cat_name:t,cat_id:e.cat_id,cat_status:e.cat_status}),e.subcategories&&e.subcategories.forEach((function(e){var a=e.cat_name;r.push({cat_name:"".concat(t," > ").concat(a),cat_id:e.cat_id,cat_status:e.cat_status}),e.subsubcategories&&e.subsubcategories.forEach((function(e){var n=e.cat_name;r.push({cat_name:"".concat(t," > ").concat(a," > ").concat(n),cat_id:e.cat_id,cat_status:e.cat_status})}))}))})),Fe(r)}}})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Product Name"}],name:"prod_category",label:"Categories",initialValue:_e.id?null===(a=ve.data)||void 0===a||null===(g=a.category)||void 0===g?void 0:g.cat_id:null},b.a.createElement(m.a,{placeholder:qe.loading?"Loading...":Ue.length?"Select Category":"Select manifacture first",options:Ue.map((function(e){return{label:e.cat_name,value:e.cat_id,key:e.cat_id}}))})),b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Product Name"}],label:"Related Product"},b.a.createElement(m.a,{placeholder:ct.isLoading?"Loading...":"select Related Products",mode:"multiple",optionFilterProp:"label",defaultValue:_e.id?null===ve||void 0===ve||null===(v=ve.data)||void 0===v||null===(h=v.related_products)||void 0===h?void 0:h.map((function(e){var t;return null===e||void 0===e||null===(t=e.related_prod)||void 0===t?void 0:t.prod_uuid})):[],options:null===ct||void 0===ct||null===(P=ct.data)||void 0===P?void 0:P.map((function(e){return{label:e.prod_name,value:e.prod_uuid,uid:e.prod_uuid}})),onChange:function(e,t){We(t)}}))),b.a.createElement(i.a.TabPane,{tab:"Specifications",key:"Specifications"},b.a.createElement(d.a.Item,{label:b.a.createElement("p",null,"Dimensions ",b.a.createElement("br",null)," (L x W x H)")},b.a.createElement(p.a.Group,{compact:!0},b.a.createElement(p.a,{type:"number",style:{width:"33.3%"},placeholder:"Length",onBlur:function(e){return Je((function(t){return Object(c.a)(Object(c.a)({},t),{},{length:parseFloat(e.target.value)})}))},defaultValue:_e.id&&(null===ve||void 0===ve||null===(I=ve.data)||void 0===I||null===(T=I.dimensions)||void 0===T?void 0:T.length)?null===ve||void 0===ve||null===(k=ve.data)||void 0===k||null===(w=k.dimensions)||void 0===w?void 0:w.length:""}),b.a.createElement(p.a,{type:"number",style:{width:"33.3%"},placeholder:"Width",onBlur:function(e){return Je((function(t){return Object(c.a)(Object(c.a)({},t),{},{width:parseFloat(e.target.value)})}))},defaultValue:_e.id&&(null===ve||void 0===ve||null===(A=ve.data)||void 0===A||null===(L=A.dimensions)||void 0===L?void 0:L.length)?null===ve||void 0===ve||null===(C=ve.data)||void 0===C||null===(B=C.dimensions)||void 0===B?void 0:B.width:""}),b.a.createElement(p.a,{type:"number",style:{width:"33.3%"},placeholder:"Height",onBlur:function(e){return Je((function(t){return Object(c.a)(Object(c.a)({},t),{},{height:parseFloat(e.target.value)})}))},defaultValue:_e.id&&(null===ve||void 0===ve||null===(q=ve.data)||void 0===q||null===(G=q.dimensions)||void 0===G?void 0:G.length)?null===ve||void 0===ve||null===(V=ve.data)||void 0===V||null===(F=V.dimensions)||void 0===F?void 0:F.height:""}))),b.a.createElement(d.a.Item,{name:"dimension_class",label:b.a.createElement("p",null,"Dimensions ",b.a.createElement("br",null),"Class "),initialValue:"Inch"},b.a.createElement(m.a,{style:{height:"3.5em"},placeholder:"Enter Dimension Class"},b.a.createElement(te,{key:1,value:"Centimeter"},"Centimeter"),b.a.createElement(te,{key:2,value:"Millimeter"},"Millimeter"),b.a.createElement(te,{key:3,value:"Inch"},"Inch"))),b.a.createElement(d.a.Item,{name:"prod_weight",label:"Weight",initialValue:_e.id&&(null===ve||void 0===ve||null===(J=ve.data)||void 0===J?void 0:J.prod_weight)?null===ve||void 0===ve||null===(ae=ve.data)||void 0===ae?void 0:ae.prod_weight:""},b.a.createElement(p.a,{type:"number",placeholder:"Enter Weight"})),b.a.createElement(d.a.Item,{name:"prod_weight_class",label:"Weight Class",initialValue:"Pound"},b.a.createElement(m.a,{placeholder:"Enter Weight Class"},b.a.createElement(te,{key:1,value:"Kilogram"},"Kilogram"),b.a.createElement(te,{key:1,value:"Gram"},"Gram"),b.a.createElement(te,{key:2,value:"Pound"},"Pound"),b.a.createElement(te,{key:3,value:"Ounce"},"Ounce")))),b.a.createElement(i.a.TabPane,{tab:"Stock",key:"Stock"},b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please enter Availability Status"}],name:"prod_outofstock_status",label:"Availability",initialValue:_e.id?null===ve||void 0===ve||null===(ne=ve.data)||void 0===ne?void 0:ne.prod_outofstock_status:"In Stock"},b.a.createElement(m.a,{placeholder:"Please select a Status"},b.a.createElement(m.a.Option,{key:1,value:"2-3 Days"},"2-3 Days"),b.a.createElement(m.a.Option,{key:2,value:"In Stock"},"In Stock"),b.a.createElement(m.a.Option,{key:3,value:"Out Of Stock"},"Out Of Stock"),b.a.createElement(m.a.Option,{key:4,value:"Pre-Orde"},"Pre-Order")))),b.a.createElement(i.a.TabPane,{tab:"Attribute",key:"Attribute"},b.a.createElement(N,{attributesTableData:et,setAttributesTableData:tt})),b.a.createElement(i.a.TabPane,{tab:"Price",key:"Price"},b.a.createElement(d.a.Item,{rules:[{required:!0,message:"Please Enter Regular Price"}],name:"prod_regular_price",label:"Regular Price",initialValue:_e.id?null===ve||void 0===ve||null===(re=ve.data)||void 0===re?void 0:re.prod_regular_price:""},b.a.createElement(p.a,{placeholder:"Enter Regular Price",prefix:"US$  ",type:"number"})),b.a.createElement(d.a.Item,{name:"prod_sale_price",label:"Sales Price",initialValue:_e.id?null===ve||void 0===ve||null===(ie=ve.data)||void 0===ie?void 0:ie.prod_sale_price:""},b.a.createElement(p.a,{prefix:"US$  ",type:"number",placeholder:"Enter Sales Price"})),b.a.createElement(d.a.Item,{label:"Taxable"},b.a.createElement(l.a,{checked:xe,onChange:function(e){return Ce(e)}}))),b.a.createElement(i.a.TabPane,{tab:"Discount",key:"Discount"},b.a.createElement(R,{discount:it,setDiscount:lt})),b.a.createElement(i.a.TabPane,{tab:"Parts Of Product",key:"PartsOf"},b.a.createElement(W,{products:ct,setProducts:dt,selectedPartsOfProducts:pt,setSelectedPartsOfProducts:_t,partOfProductQuantities:vt,setPartOfProductQuantities:ft})),b.a.createElement(i.a.TabPane,{tab:"Images",key:"Images"},b.a.createElement(M,{featuresImage:Ot,setFeaturesImage:ht,gallaryImages:St,setGallaryImages:It}))),b.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"3em"}},b.a.createElement(d.a.Item,null,b.a.createElement(O.a,{loading:de,size:"default",htmlType:"submit",type:"primary",raised:!0},de?"Processing":"Save"),b.a.createElement(H.b,{to:"/admin/roles/list"},b.a.createElement(O.a,{type:"white",size:"large"},"Cancel"))))))))))}}}]);