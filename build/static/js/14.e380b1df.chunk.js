(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[14],{1040:function(e,t,n){"use strict";n.r(t);n(69);var a=n(20),l=(n(70),n(14)),r=(n(732),n(738)),o=(n(178),n(109)),i=n(6),c=(n(115),n(17)),s=n(9),u=(n(92),n(25)),d=n(0),m=n.n(d),p=n(142),b=n(108),f=n(107),v=n(71),g=n(75),h=n(39),E=n(30),y=n(50),O=n(21),C=n(681),j=n.n(C),N=(n(682),n(683)),T=n.n(N),x=n(684),k=n.n(x),A=n(689);C.Quill.register("modules/imageResize",T.a),C.Quill.register("modules/htmlEditButton",k.a);var B={toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]],imageResize:{parchment:C.Quill.import("parchment"),modules:["Resize","DisplaySize"]},htmlEditButton:{okText:"Save",msg:'Edit HTML here, when you click "Save" the quill editor\'s contents will be replaced'}};t.default=function(){Object(O.g)("banner");var e=u.a.TextArea,t=Object(g.useHistory)(),n=Object(h.d)((function(e){return e.auth.token})),C=Object(d.useState)(!1),N=Object(s.a)(C,2),T=N[0],x=N[1],k=Object(d.useState)(""),_=Object(s.a)(k,2),w=_[0],S=_[1],P=Object(d.useState)(""),R=Object(s.a)(P,2),I=R[0],z=R[1],D=Object(d.useState)(!1),L=Object(s.a)(D,2),q=L[0],F=L[1],H=Object(d.useState)(!0),$=Object(s.a)(H,2),V=$[0],G=$[1],M=c.a.useForm(),Q=Object(s.a)(M,1)[0];return m.a.createElement(m.a.Fragment,null,m.a.createElement(p.a,{title:"Add Banner"}),m.a.createElement(b.b,null,m.a.createElement(a.a,{gutter:25},m.a.createElement(l.a,{sm:24,xs:24},m.a.createElement(f.a,{headless:!0},m.a.createElement(c.a,{style:{width:"100%"},form:Q,name:"addBanner",onFinish:function(e){var a;x(!0),a=q?{layout_type:"custom",content:I}:{layout_type:"dynamic",content:w},y.b.mutate({mutation:A.a.BANNER_ADD,variables:{data:Object(i.a)(Object(i.a)(Object(i.a)({},e),a),{},{banner_status:V})},refetchQueries:[{query:A.a.GET_ALL_BANNER,context:{headers:{TENANTID:"100001",Authorization:n}},fetchPolicy:"network-only"},["getAllBanners"]],context:{headers:{TENANTID:"100001",Authorization:n}}}).then((function(e){var n,a=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.addBanner;if(!(null===a||void 0===a?void 0:a.status))return E.b.error("Something Went wrong !!");setTimeout((function(){t.push("/admin/banner/list")}),2e3),E.b.success(null===a||void 0===a?void 0:a.message)})).catch((function(e){E.b.error("Something Went wrong !!")})).finally((function(){return x(!1)}))},onFinishFailed:function(e){return console.log("form error info:\n",e)},labelCol:{span:4}},m.a.createElement(c.a.Item,{rules:[{required:!0,max:100,message:"Please enter banner name"}],name:"banner_name",label:"Name"},m.a.createElement(u.a,{style:{width:"50%"},placeholder:"Enter banner name"})),m.a.createElement(c.a.Item,{label:"Status"},m.a.createElement(o.a,{defaultChecked:V,onChange:function(e){return G(e)}})),m.a.createElement(c.a.Item,{label:"Custom HTML"},m.a.createElement(o.a,{defaultChecked:!1,onChange:function(e){return F(e)}})),!q&&m.a.createElement(c.a.Item,{label:"Content"},m.a.createElement(j.a,{theme:"snow",modules:B,placeholder:"Content goes here...",onChange:S})),q&&m.a.createElement(c.a.Item,{label:"Custom HTML"},m.a.createElement(e,{style:{height:200},onChange:function(e){return z(e.target.value)},placeholder:"Paste your HTML Code Here..."})),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10}},m.a.createElement(r.a,{title:"Cancel Task",placement:"topRight",okText:"Yes",cancelText:"No",onConfirm:function(){return t.push("/admin/banner/list")}},m.a.createElement(v.a,{style:{marginRight:10},type:"light",size:"default"},"Cancel")),m.a.createElement(v.a,{loading:T,size:"default",htmlType:"submit",type:"primary",raised:!0},T?"Processing":"Add Banner"))))))))}},689:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,l,r,o,i=n(7),c=n(15),s={BANNER_ADD:Object(c.d)(a||(a=Object(i.a)(["\n    mutation addBanner($data: BannerInput) {\n      addBanner(data: $data) {\n        message\n        status\n        id\n      }\n    }\n  "]))),GET_ALL_BANNER:Object(c.d)(l||(l=Object(i.a)(["\n    query getAllBanners {\n      getAllBanners {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          status\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),GET_SINGLE_BANNER:Object(c.d)(r||(r=Object(i.a)(["\n    query getSingleBanner($banner_id: Int!) {\n      getSingleBanner(query: { banner_id: $banner_id }) {\n        message\n        status\n        data {\n          id\n          name\n          slug\n          content\n          layout_type\n          status\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),BANNER_UPDATE:Object(c.d)(o||(o=Object(i.a)(["\n    mutation updateBanner($data: UpdateBannerInput) {\n      updateBanner(data: $data) {\n        message\n        status\n      }\n    }\n  "])))}},732:function(e,t,n){"use strict";n(58),n(68),n(336),n(733)},733:function(e,t,n){},738:function(e,t,n){"use strict";var a=n(1),l=n(5),r=n(159),o=n(4),i=n.n(o),c=n(47),s=n(16),u=n(0),d=n(88),m=n(262),p=n(34),b=n(22),f=n(193),v=n(324),g=n(86),h=n(104),E=n(319),y=function(e){var t=e.prefixCls,n=e.okButtonProps,l=e.cancelButtonProps,r=e.title,o=e.cancelText,i=e.okText,c=e.okType,s=e.icon,m=e.showCancel,p=void 0===m||m,y=e.close,O=e.onConfirm,C=e.onCancel,j=u.useContext(d.b).getPrefixCls;return u.createElement(g.a,{componentName:"Popconfirm",defaultLocale:h.a.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},s&&u.createElement("span",{className:"".concat(t,"-message-icon")},s),u.createElement("div",{className:"".concat(t,"-message-title")},Object(E.a)(r))),u.createElement("div",{className:"".concat(t,"-buttons")},p&&u.createElement(b.a,Object(a.a)({onClick:C,size:"small"},l),null!==o&&void 0!==o?o:e.cancelText),u.createElement(v.a,{buttonProps:Object(a.a)(Object(a.a)({size:"small"},Object(f.a)(c)),n),actionFn:O,close:y,prefixCls:j("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==i&&void 0!==i?i:e.okText)))}))},O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},C=u.forwardRef((function(e,t){var n=u.useContext(d.b).getPrefixCls,o=Object(c.a)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),b=Object(l.a)(o,2),f=b[0],v=b[1],g=function(t,n){var a,l;v(t,!0),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n),null===(l=e.onOpenChange)||void 0===l||l.call(e,t,n)},h=e.prefixCls,E=e.placement,C=void 0===E?"top":E,j=e.trigger,N=void 0===j?"click":j,T=e.okType,x=void 0===T?"primary":T,k=e.icon,A=void 0===k?u.createElement(r.a,null):k,B=e.children,_=e.overlayClassName,w=O(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),S=n("popover",h),P=n("popconfirm",h),R=i()(P,_);return u.createElement(m.a,Object(a.a)({},w,{trigger:N,prefixCls:S,placement:C,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||g(t)},open:f,ref:t,overlayClassName:R,_overlay:u.createElement(y,Object(a.a)({okType:x,icon:A},e,{prefixCls:S,close:function(e){g(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(void 0,t)},onCancel:function(t){var n;g(!1,t),null===(n=e.onCancel)||void 0===n||n.call(void 0,t)}}))}),Object(p.a)(B,{onKeyDown:function(e){var t,n;u.isValidElement(B)&&(null===(n=null===B||void 0===B?void 0:(t=B.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===s.a.ESC&&f&&g(!1,e)}(e)}}))}));t.a=C}}]);
//# sourceMappingURL=14.e380b1df.chunk.js.map