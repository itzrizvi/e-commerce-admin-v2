(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[35],{645:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var n,r,s,c,l,d,i,u,o=t(8),m=t(16),b={GET_ALL_BRAND:Object(m.d)(n||(n=Object(o.a)(["\n  query getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_description\n      brand_status\n      image\n      brand_sort_order\n      createdAt\n    }\n  }\n}"]))),GET_ALL_BRAND_WITH_CATEGORY:Object(m.d)(r||(r=Object(o.a)(["\nquery getAllBrands {\n  getAllBrands {\n    message\n    status\n    data {\n      id\n      brand_name\n      brand_slug\n      brand_status\n      brand_description\n      image\n      createdAt\n      updatedAt\n      categories {\n        id\n        cat_name\n        cat_slug\n        cat_status\n        subcategories {\n          id\n          cat_name\n          cat_slug\n          cat_status\n          subsubcategories {\n            id\n            cat_name\n            cat_slug\n            cat_status\n          }\n        }\n      }\n    }\n  }\n}\n\n"]))),GET_CATEGORIES:Object(m.d)(s||(s=Object(o.a)(["\n  query getParentCategories {\n    getParentCategories {\n      message\n      status\n      categories {\n        id\n        cat_name\n      }\n    }\n  }\n"]))),GET_SINGLE_BRAND:Object(m.d)(c||(c=Object(o.a)(["\n  query getSingleBrand($query: GetSingleBrandInput){\n    getSingleBrand(query: $query) {\n      message\n      status\n      data {\n        brand_name\n        brand_description\n        brand_status\n        brand_sort_order\n        image\n        categories {\n          id\n          cat_name\n        }\n      }\n    }\n  }\n"]))),BRAND_UPDATE:Object(m.d)(l||(l=Object(o.a)(["\n  mutation updateBrand($data: UpdateBrandInput, $file:Upload){\n    updateBrand(data:$data, file: $file){\n      message\n      status\n    }\n  }"]))),BRAND_UPDATE_WI:Object(m.d)(d||(d=Object(o.a)(["\n  mutation updateBrand($data: UpdateBrandInput){\n    updateBrand(data:$data){\n      message\n      status\n    }\n  }"]))),BRAND_ADD:Object(m.d)(i||(i=Object(o.a)(["\n    mutation createBrand($data: BrandCreateInput, $file:Upload) {\n      createBrand(data: $data, file:$file) {\n        message\n        status\n      }\n    }"]))),BRAND_ADD_WI:Object(m.d)(u||(u=Object(o.a)(["\n      mutation createBrand($data: BrandCreateInput) {\n        createBrand(data: $data) {\n          message\n          status\n        }\n     }"])))}},947:function(e,a,t){"use strict";t.r(a);t(200);var n=t(97),r=(t(201),t(74)),s=(t(376),t(220)),c=(t(314),t(218)),l=(t(716),t(738)),d=(t(202),t(63)),i=(t(166),t(98)),u=t(9),o=(t(288),t(69)),m=(t(289),t(52)),b=t(23),g=(t(148),t(45)),E=t(0),_=t.n(E),p=t(217),O=t(165),f=t(164),j=t(287),A=t(58),h=t(12),v=t(50),B=t(371),y=t(645),D=t(99),I=t(152),N=t(222),T=t(22),S=t(136),C=t(76);a.default=function(){Object(T.f)("manufacture");var e=g.a.TextArea,a=Object(A.useHistory)(),t=Object(v.d)((function(e){return e.auth.token})),L=Object(E.useState)(!1),R=Object(b.a)(L,2),$=R[0],q=R[1],G=Object(E.useState)(!1),P=Object(b.a)(G,2),U=P[0],x=P[1],F=Object(E.useState)(!0),w=Object(b.a)(F,2),M=w[0],k=w[1],z=Object(E.useState)(""),W=Object(b.a)(z,2),Y=W[0],J=W[1],H=Object(E.useState)(""),Q=Object(b.a)(H,2),V=Q[0],X=Q[1],K=Object(E.useState)(0),Z=Object(b.a)(K,2),ee=Z[0],ae=Z[1],te=Object(E.useState)([]),ne=Object(b.a)(te,2),re=ne[0],se=ne[1],ce=Object(E.useState)([]),le=Object(b.a)(ce,2),de=le[0],ie=le[1],ue=m.a.useForm(),oe=Object(b.a)(ue,1)[0];Object(E.useEffect)((function(){q(!0),D.b.query({query:y.a.GET_CATEGORIES,context:{headers:{TENANTID:"100001",Authorization:t}}}).then((function(e){var a,t,n=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.getParentCategories)||void 0===t?void 0:t.categories;ie(n),q(!1)}))}),[]);var me=_.a.createElement("div",null,_.a.createElement(B.a,null),_.a.createElement("div",{style:{marginTop:8}}," Upload "));return _.a.createElement(_.a.Fragment,null,_.a.createElement(p.a,{title:"Add Manufacture"}),_.a.createElement(O.b,null,_.a.createElement(n.a,{gutter:25},_.a.createElement(r.a,{sm:24,xs:24},_.a.createElement(f.a,{headless:!0},$?_.a.createElement("div",{style:{textAlign:"center"}},_.a.createElement(i.a,{tip:"processing..."})):_.a.createElement(m.a,{style:{width:"100%"},form:oe,name:"addBrand",onFinish:function(e){x(!0);var n=[];if(re.forEach((function(e){n.push({cat_id:e})})),0===n.length)return x(!1),o.b.error(S.a.CATEGORY_EMPTY);var r=Object(u.a)(Object(u.a)({},e),{},{brandStatus:M,brandSortOrder:ee,categories:n});D.a.mutate({mutation:Y?y.a.BRAND_ADD:y.a.BRAND_ADD_WI,variables:Y?{data:r,file:Y}:{data:r},refetchQueries:[{query:y.a.GET_ALL_BRAND,context:{headers:{TENANTID:"100001",Authorization:t}}},["getAllBrands"]],context:{headers:{TENANTID:"100001",Authorization:t}}}).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.createBrand;if(!(null===n||void 0===n?void 0:n.status))return Object(C.a)();setTimeout((function(){a.push("/admin/brand/list")}),1e3),o.b.success(null===n||void 0===n?void 0:n.message)})).finally((function(){return x(!1)}))},onFinishFailed:function(e){return console.log("form error info:\n",e)},labelCol:{span:4}},_.a.createElement(m.a.Item,{rules:[{required:!0,max:30,message:"Please Enter Manufacture Name"}],name:"brandName",label:"Name"},_.a.createElement(g.a,{placeholder:"Enter Manufacture Name"})),_.a.createElement(m.a.Item,{rules:[{required:!0,message:"Please Enter Manufacture Description"}],name:"brandDescription",label:"Description"},_.a.createElement(e,{rows:4,placeholder:"Enter Manufacture Description"})),_.a.createElement(m.a.Item,{label:"Categories",required:!0},_.a.createElement(d.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select Categories",initialvalues:"",onChange:function(e){return se(e)},optionLabelProp:"label"},de.map((function(e){return _.a.createElement(d.a.Option,{key:e.id,value:e.id,label:e.cat_name},_.a.createElement("div",{className:"demo-option-label-item"},e.cat_name))})))),_.a.createElement(m.a.Item,{label:"Sort Order"},_.a.createElement(l.a,{defaultValue:0,onChange:ae,style:{width:"100%"}})),_.a.createElement(m.a.Item,{label:"Status"},_.a.createElement(c.a,{checked:M,onChange:function(e){return k(e)},checkedChildren:"ON",unCheckedChildren:"OFF"})),_.a.createElement(m.a.Item,{label:"Image"},_.a.createElement(s.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(e){var a="image/jpeg"===e.type;a||o.b.error(S.a.ONLY_JPG_FILE_UPLOAD);var t=e.size/1024/1024<1;return t||o.b.error(S.a.FILE_MAX_1MB),a&&t&&(X(URL.createObjectURL(e)),J(e)),!1},fileList:[]},V?_.a.createElement(N.LazyLoadImage,{src:V,onError:I.errorImageSrc,alt:"image",style:{width:"100%"}}):me)),_.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},_.a.createElement(m.a.Item,null,_.a.createElement(j.a,{loading:U,size:"default",htmlType:"submit",type:"primary",raised:!0},U?"Processing":"Save"),_.a.createElement(h.b,{to:"/admin/brand/list"},_.a.createElement(j.a,{style:{marginLeft:10},type:"light",size:"default"},"Cancel"))))))))))}}}]);