(this.webpackJsonpprimeServerParts=this.webpackJsonpprimeServerParts||[]).push([[38],{883:function(e,t,a){"use strict";a.r(t);a(130);var r=a(67),n=(a(131),a(43)),o=(a(256),a(147)),s=(a(143),a(68)),u=(a(280),a(59)),i=a(33),l=a(0),c=a.n(l),m=(a(26),a(146)),d=a(145),p=a(144),g=a(176),b=a(54),_=a(10),h=a(198),E=a.n(h),f=a(39),A=a(42),T=a.n(A),v=a(48),y=a(35);t.default=function(){Object(y.b)("attribute-group");var e=Object(b.useLocation)().search,t=E.a.parse(e),a=Object(b.useHistory)(),h=Object(l.useState)(!t.status||"true"===t.status),A=Object(i.a)(h,2),G=A[0],N=A[1],O=Object(l.useState)(!1),P=Object(i.a)(O,2),j=P[0],R=P[1],S=u.a.useForm(),w=Object(i.a)(S,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{title:t.id?"Manage Group | Edit (".concat(t.name,")"):"Add Attribute Group"}),c.a.createElement(d.b,null,c.a.createElement(r.a,{gutter:25},c.a.createElement(n.a,{sm:24,xs:24},c.a.createElement(p.a,{headless:!0},c.a.createElement(u.a,{style:{width:"100%"},form:w,name:"addRole",onFinish:function(e){var r=e.attr_group_name,n=e.attrgroup_sortorder;if(R(!0),t.id){var o={data:{attr_group_uuid:t.id,attr_group_name:r,attrgroup_sortorder:parseInt(n),attrgroup_status:G}};console.log(o),f.j.mutate({mutation:f.b.UPDATE_ATTR_GROUP,variables:o,refetchQueries:[{query:f.c.GET_ALL_ATTR_GROUPS,context:{headers:{TENANTID:"100001",Authorization:T.a.get("psp_t")}}},"getAllAttrGroups"],context:{headers:{TENANTID:"100001",Authorization:T.a.get("psp_t")}}}).then((function(t){var r,n=null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.updateAttrGroup;if(!n.status)return v.b.error(n.message);a.push("/admin/attributes/list-group"),v.b.success("".concat(e.attr_group_name," updated successfully")),window.location.reload()})).catch((function(e){return console.log("got error on addPermission",e),v.b.error("Something Went wrong !!")})).finally((function(){R(!1)}))}else{var s={data:{attr_group_name:r,attrgroup_sortorder:parseInt(n),attrgroup_status:G}};f.j.mutate({mutation:f.b.CREATE_ATTR_GROUP,variables:s,refetchQueries:[{query:f.c.GET_ALL_ATTR_GROUPS,context:{headers:{TENANTID:"100001",Authorization:T.a.get("psp_t")}}},"getAllAttrGroups"],context:{headers:{TENANTID:"100001",Authorization:T.a.get("psp_t")}}}).then((function(t){var r,n=null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.createAttrGroup;if(!n.status)return v.b.error(n.message);a.push("/admin/attributes/list-group"),window.location.reload(),v.b.success("".concat(e.attr_group_name," updated successfully"))})).catch((function(e){return console.log("got error on addPermission",e),v.b.error("Something Went wrong !!")})).finally((function(){R(!1)}))}},onFinishFailed:function(e){return console.log("form error info:\n",e)},labelCol:{span:4}},c.a.createElement(u.a.Item,{rules:[{required:!0,max:30,message:"Please enter Attribute Group Name"}],name:"attr_group_name",label:"Group Name",initialValue:t.name||""},c.a.createElement(s.a,{placeholder:"Enter Attribute Group Name"})),c.a.createElement(u.a.Item,{rules:[{required:!0,max:30,message:"Please enter Role Name"}],name:"attrgroup_sortorder",label:"Sort order",initialValue:t.s||""},c.a.createElement(s.a,{type:"number",placeholder:"Enter sort order"})),c.a.createElement(u.a.Item,{name:"attrgroup_status",label:"Status"},c.a.createElement(o.a,{checked:G,onChange:function(e){return N(e)}})),c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"3em"}},c.a.createElement(u.a.Item,null,c.a.createElement(g.a,{loading:j,size:"default",htmlType:"submit",type:"primary",raised:!0},j?"Processing":"Save"),c.a.createElement(_.b,{to:"/admin/attributes/list-group"},c.a.createElement(g.a,{type:"white",size:"large"},"Cancel"))))))))))}}}]);