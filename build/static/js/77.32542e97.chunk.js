(this.webpackJsonpprime_server_parts=this.webpackJsonpprime_server_parts||[]).push([[77],{1023:function(e,t,a){"use strict";a.r(t);a(99);var n=a(49),r=(a(145),a(38)),l=(a(86),a(27)),d=(a(87),a(19)),o=(a(91),a(24)),u=(a(144),a(88)),i=a(6),c=(a(171),a(103)),s=a(11),m=(a(386),a(329)),E=a(0),p=a.n(E),v=a(22),h=a.n(v),y=a(134),f=a(115),b=a(114),D=a(62),g=a(13),_=a(117),O=a.n(_),S=a(638),j=a(215),A=a(94),x=a(29),k=a(25),N=a(172),w=a.n(N),I=a(119),U=a.n(I),Y=a(48),F=a(81),C=a.n(F),T=a(43),z=m.a.RangePicker,M=!1;t.default=function(){Object(k.d)("vendor");var e=Object(E.useState)({data:[],loading:!1,error:""}),t=Object(s.a)(e,2),a=t[0],m=t[1],v=Object(Y.d)((function(e){return e.auth.token})),_=Object(E.useState)(!1),N=Object(s.a)(_,2),I=N[0],F=N[1],V=Object(E.useState)(!1),P=Object(s.a)(V,2),Q=P[0],R=P[1],X=Object(E.useState)(!0),q=Object(s.a)(X,2),B=q[0],G=q[1],J=Object(E.useState)(null),L=Object(s.a)(J,2),W=L[0],K=L[1],H=Object(E.useState)(null),Z=Object(s.a)(H,2),$=Z[0],ee=Z[1],te=Object(E.useState)({status:"",searchQuery:"",vendorEntryStartDate:"",vendorEntryEndDate:"",vendorUpdatedStartDate:"",vendorUpdatedEndDate:""}),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],le=[{title:"Vendor ID",dataIndex:"id",key:"id",width:120,ellipsis:!0,sorter:function(e,t){return e.id>t.id?1:-1}},{title:"Company Name",dataIndex:"company_name",key:"company_name",width:180,ellipsis:!0,sorter:function(e,t){return e.company_name>t.company_name?1:-1}},{title:"Email",dataIndex:"email",key:"email",ellipsis:!0,sorter:function(e,t){return e.email>t.email?1:-1}},{title:"Phone",dataIndex:"phone_number",key:"phone_number",ellipsis:!0,sorter:function(e,t){return e.phone_number>t.phone_number?1:-1}},{title:"EIN",dataIndex:"EIN_no",key:"EIN_no",ellipsis:!0,sorter:function(e,t){return e.EIN_no>t.EIN_no?1:-1}},{title:"Fax",dataIndex:"FAX_no",key:"FAX_no",ellipsis:!0,sorter:function(e,t){return e.FAX_no>t.FAX_no?1:-1}},{title:"Status",dataIndex:"status",key:"status",align:"center",sorter:function(e,t){return e.status===t.status?0:e.status?-1:1},filters:[{text:"True",value:!0},{text:"False",value:!1}],onFilter:function(e,t){return t.status===e},render:function(e,t){return p.a.createElement(c.a,{defaultChecked:e,title:"Status",onChange:function(e){return de(t,e)}})}},{title:"Date Added",dataIndex:"createdAt",key:"createdAt",align:"center",width:140,sorter:function(e,t){return e.createdAt===t.createdAt?0:e.createdAt?-1:1},render:function(e,t){return p.a.createElement("span",{className:"status-text"},p.a.createElement(w.a,{format:"DD-MMM-YYYY"},parseInt(e)))}},{title:"Date Updated",dataIndex:"updatedAt",key:"updatedAt",align:"center",width:140,sorter:function(e,t){return e.updatedAt===t.updatedAt?0:e.updatedAt?-1:1},render:function(e,t){return p.a.createElement("span",{className:"status-text"},p.a.createElement(w.a,{format:"DD-MMM-YYYY"},parseInt(e)))}},{title:"Action",dataIndex:"action",width:70,align:"right",render:function(e,t){return p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{to:"/admin/vendor/edit/".concat(t.id)},p.a.createElement(O.a,{name:"edit",style:{margin:".5em 1em",color:"#5F63F2"}})))},key:"last_name"}],de=function(e,t){x.j.mutate({mutation:x.n.UPDATE_VENDOR_STATUS,variables:{data:{id:e.id,status:t}},context:{headers:{TENANTID:"100001",Authorization:C.a.get("psp_t")}}}).then((function(t){var a,n=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.updateVendorStatus;if(!n.status)return T.b.error(n.message);T.b.success("".concat(e.company_name," status updated."))})).catch((function(e){return T.b.error("Something Went wrong !!")}))},oe=function(e,t){return[U()(e,"YYYY-MM-DD"),U()(t,"YYYY-MM-DD")]};return Object(E.useEffect)((function(){M&&(""!==ne.searchQuery||""!==ne.vendorEntryStartDate||""!==ne.status||""!==ne.vendorEntryEndDate||""!==ne.vendorUpdatedStartDate||""!==ne.vendorUpdatedEndDate?G(!1):G(!0)),M=!0}),[ne]),p.a.createElement(p.a.Fragment,null,p.a.createElement(y.a,{title:"Vendors",buttons:[p.a.createElement("div",{key:"1",className:"page-header-actions"},p.a.createElement(D.a,{size:"small",type:"white",onClick:function(){return F((function(e){return!e}))}},p.a.createElement(h.a,{icon:"filter"}),"Filter"),p.a.createElement(D.a,{size:"small",type:"white",onClick:function(){K(null),G(!0),ee(null),re({status:"",searchQuery:"",vendorEntryStartDate:"",vendorEntryEndDate:"",vendorUpdatedStartDate:"",vendorUpdatedEndDate:""})}},p.a.createElement(S.a,null),"Reset Filter"),p.a.createElement(g.b,{to:"/admin/vendor/add"},p.a.createElement(D.a,{size:"small",title:"Add Vendors",type:"primary"},p.a.createElement(h.a,{icon:"plus"}))))]}),p.a.createElement(f.b,null,p.a.createElement(l.a,{gutter:25},p.a.createElement(d.a,{sm:24,xs:24},p.a.createElement(b.a,{headless:!0},a.loading?p.a.createElement("div",{className:"spin"},p.a.createElement(u.a,null)):a.error?p.a.createElement("p",null,a.error):p.a.createElement(p.a.Fragment,null,p.a.createElement(l.a,{gutter:25},p.a.createElement(d.a,{span:18},p.a.createElement(o.a,{style:{height:"42px"},placeholder:"Search Vendor By Company Name, Email, Phone....",prefix:p.a.createElement(j.a,null),value:null===ne||void 0===ne?void 0:ne.searchQuery,onChange:function(e){e.persist();var t=e.target.value;re((function(e){return Object(i.a)(Object(i.a)({},e),{},{searchQuery:t})}))}})),p.a.createElement(d.a,{span:6},p.a.createElement(D.a,{style:{height:"42px"},size:"large",type:"primary",disabled:B,onClick:function(){var e,t,a,n,r,l;m((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!0})})),x.j.query({query:x.o.GET_ALL_VENDOR,variables:{query:{searchQuery:null!==(e=ne.searchQuery)&&void 0!==e?e:"",status:null!==(t=ne.status)&&void 0!==t?t:"",vendorEntryStartDate:null!==(a=ne.vendorEntryStartDate)&&void 0!==a?a:"",vendorEntryEndDate:null!==(n=ne.vendorEntryEndDate)&&void 0!==n?n:"",vendorUpdatedStartDate:null!==(r=ne.vendorUpdatedStartDate)&&void 0!==r?r:"",vendorUpdatedEndDate:null!==(l=ne.vendorUpdatedEndDate)&&void 0!==l?l:""}},context:{headers:{TENANTID:"100001",Authorization:v}},fetchPolicy:"network-only"}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.getAllVendor;a.status&&m(a)})).catch((function(e){m((function(e){return Object(i.a)(Object(i.a)({},e),{},{error:"Something went Wrong.!! "})}))})).finally((function(){m((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!1})})),R(!Q)}))}},"Search"))),p.a.createElement("br",null),p.a.createElement("br",null),I&&p.a.createElement("div",{style:{marginBottom:"2.5em"}},p.a.createElement(l.a,{gutter:16,style:{marginTop:".5em"}},p.a.createElement(d.a,{span:4},"Status: ",p.a.createElement("br",null),p.a.createElement(r.a,{style:{width:"100%"},size:"middle",placeholder:"Select Status...",value:null===ne||void 0===ne?void 0:ne.status,options:[{label:"True",value:"true"},{label:"False",value:"false"}],onSelect:function(e){re((function(t){return Object(i.a)(Object(i.a)({},t),{},{status:e})}))}})),p.a.createElement(d.a,{span:10},"Date Added: ",p.a.createElement("br",null),p.a.createElement(z,{style:{height:"40px",width:"100%"},size:"small",allowClear:!0,picker:"date",value:""!==W?W:"",onChange:function(e){e?(re((function(t){var a,n;return Object(i.a)(Object(i.a)({},t),{},{vendorEntryStartDate:null!==(a=e[0]._d)&&void 0!==a?a:"",vendorEntryEndDate:null!==(n=e[1]._d)&&void 0!==n?n:""})})),K(oe(e[0],e[1]))):K(null)}})),p.a.createElement(d.a,{span:10},"Date Updated: ",p.a.createElement("br",null),p.a.createElement(z,{style:{height:"40px",width:"100%"},size:"small",allowClear:!0,picker:"date",value:""!==$?$:"",onChange:function(e){e?(re((function(t){var a,n;return Object(i.a)(Object(i.a)({},t),{},{vendorUpdatedStartDate:null!==(a=e[0]._d)&&void 0!==a?a:"",vendorUpdatedEndDate:null!==(n=e[1]._d)&&void 0!==n?n:""})})),ee(oe(e[0],e[1]))):ee(null)}})))),p.a.createElement("span",{className:"psp_list"},p.a.createElement(n.a,{className:"table-responsive",columns:le,rowKey:"g_s",size:"small",dataSource:(null===a||void 0===a?void 0:a.data)?a.data:[],rowClassName:function(e,t){return t%2===0?"":"altTableClass"},pagination:{defaultPageSize:A.a.VENDOR_PER_PAGE,total:(null===a||void 0===a?void 0:a.data)?a.data.length:0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}}))))))))}}}]);
//# sourceMappingURL=77.32542e97.chunk.js.map